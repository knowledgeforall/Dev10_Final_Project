// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.23/esri/copyright.txt for details.
if("undefined"!=typeof window&&"undefined"!=typeof navigator&&window.document&&(window.dojoConfig||(window.dojoConfig={}),!window.dojoConfig.hasOwnProperty("baseUrl"))){const o=window.document.currentScript.src;let d;d=o.endsWith("/init.js")?o.slice(0,o.lastIndexOf("/"))+"/dojo":o.endsWith("/dojo/dojo.js")?o.slice(0,o.lastIndexOf("/")):o+(o.endsWith("/")?"dojo":"/dojo"),window.dojoConfig.baseUrl=d}
//>>built
(function(a,b){var c,f,d,l=function(){return"undefined"!==typeof x&&"function"!==typeof x?x:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),u=function(){},t=function(ba){for(var ya in ba)return 0;return 1},g={}.toString,n=function(ba){return"[object Function]"==g.call(ba)},m=function(ba){return"[object String]"==g.call(ba)},r=function(ba){return"[object Array]"==g.call(ba)},q=function(ba,ya){if(ba)for(var Ha=0;Ha<ba.length;)ya(ba[Ha++])},k=function(ba,ya){for(var Ha in ya)ba[Ha]=
ya[Ha];return ba},p=function(ba,ya){return k(Error(ba),{src:"dojoLoader",info:ya})},e=1,h=function(){return"_"+e++},v=function(ba,ya,Ha){return Ca(ba,ya,Ha,0,v)},x=l,A=x.document,w=A&&A.createElement("DiV"),y=v.has=function(ba){return n(z[ba])?z[ba]=z[ba](x,A,w):z[ba]},z=y.cache=b.hasCache;n(a)&&(a=a(l));y.add=function(ba,ya,Ha,Ra){(void 0===z[ba]||Ra)&&(z[ba]=ya);return Ha&&y(ba)};y.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);y("host-webworker")&&
(k(b.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(ba,ya){try{importScripts(ba),ya()}catch(Ha){console.info("failed to load resource ("+ba+")"),console.error(Ha)}}});for(var C in a.has)y.add(C,a.has[C],0,1);v.async=1;v.eval=function(ba,ya){};var B={},D=v.signal=function(ba,ya){ba=B[ba];q(ba&&ba.slice(0),function(Ha){Ha.apply(null,r(ya)?ya:[ya])})};C=v.on=function(ba,ya){var Ha=
B[ba]||(B[ba]=[]);Ha.push(ya);return{remove:function(){for(var Ra=0;Ra<Ha.length;Ra++)if(Ha[Ra]===ya){Ha.splice(Ra,1);break}}}};var G=[],K={},M=[],N={},I=v.map={},F=[],E={},J="",P={},W={};l={};var Z=0;if(!y("foreign-loader"))var Y=function(ba,ya){ya=!1!==ya;var Ha,Ra;for(Ha in W){var X=W[Ha];if(Ra=Ha.match(/^url:(.+)/))P["url:"+Pa(Ra[1],ba)]=X;else if("*now"==Ha)var ha=X;else"*noref"!=Ha&&(Ra=R(Ha,ba,!0),P[Ra.mid]=P["url:"+Ra.url]=X)}ha&&ha(Ia(ba));ya&&(W={})};var S=function(ba){return ba.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(ya){return"\\"+ya})},qa=function(ba,ya){ya.splice(0,ya.length);for(var Ha in ba)ya.push([Ha,ba[Ha],new RegExp("^"+S(Ha)+"(/|$)"),Ha.length]);ya.sort(function(Ra,X){return X[3]-Ra[3]});return ya},xa=function(ba,ya){q(ba,function(Ha){ya.push([m(Ha[0])?new RegExp("^"+S(Ha[0])+"$"):Ha[0],Ha[1]])})},Fa=function(ba){var ya=ba.name;ya||(ya=ba,ba={name:ya});ba=k({main:"main"},ba);ba.location=ba.location?ba.location:ya;ba.packageMap&&(I[ya]=ba.packageMap);ba.main.indexOf("./")||(ba.main=ba.main.substring(2));
N[ya]=ba},la=[],V=function(ba,ya,Ha){for(var Ra in ba){"waitSeconds"==Ra&&(v.waitms=1E3*(ba[Ra]||0));"cacheBust"==Ra&&(J=ba[Ra]?m(ba[Ra])?ba[Ra]:(new Date).getTime()+"":"");if("baseUrl"==Ra||"combo"==Ra)v[Ra]=ba[Ra];ba[Ra]!==z&&(v.rawConfig[Ra]=ba[Ra],"has"!=Ra&&y.add("config-"+Ra,ba[Ra],0,ya))}v.baseUrl||(v.baseUrl="./");/\/$/.test(v.baseUrl)||(v.baseUrl+="/");for(Ra in ba.has)y.add(Ra,ba.has[Ra],0,ya);q(ba.packages,Fa);for(var X in ba.packagePaths)q(ba.packagePaths[X],function(ha){var ia=X+"/"+
ha;m(ha)&&(ha={name:ha});ha.location=ia;Fa(ha)});qa(k(I,ba.map),F);q(F,function(ha){ha[1]=qa(ha[1],[]);"*"==ha[0]&&(F.star=ha)});qa(k(K,ba.paths),M);xa(ba.aliases,G);if(!y("foreign-loader")){if(ya)la.push({config:ba.config});else for(Ra in ba.config)ya=Aa(Ra,Ha),ya.config=k(ya.config||{},ba.config[Ra]);ba.cache&&(Y(),W=ba.cache,Y(0,!!ba.cache["*noref"]))}D("config",[ba,v.rawConfig])};v.rawConfig={};V(b,1);V(a,1);V(l,1);if(!y("foreign-loader"))var aa=function(ba){Ma(function(){q(ba.deps,gb)})},Ca=
function(ba,ya,Ha,Ra,X){var ha;if(m(ba)){if((ha=Aa(ba,Ra,!0))&&ha.executed)return ha.result;throw p("undefinedModule",ba);}r(ba)||(V(ba,0,Ra),ba=ya,ya=Ha);if(r(ba))if(ba.length){Ha="require*"+h();for(var ia,Da=[],ta=0;ta<ba.length;)ia=ba[ta++],Da.push(Aa(ia,Ra));ha=k(ma("",Ha,0,""),{injected:2,deps:Da,def:ya||u,require:Ra?Ra.require:v,gc:1});E[ha.mid]=ha;aa(ha);var Na=Ga&&!0;Ma(function(){Ea(ha,Na)});ha.executed||H.push(ha);Ua()}else ya&&ya();return X},Ia=function(ba){if(!ba)return v;var ya=ba.require;
ya||(ya=function(Ha,Ra,X){return Ca(Ha,Ra,X,ba,ya)},ba.require=k(ya,v),ya.module=ba,ya.toUrl=function(Ha){return Pa(Ha,ba)},ya.toAbsMid=function(Ha){return La(Ha,ba)});return ya},H=[],O=[],fa={},Q=function(ba){ba.injected=1;fa[ba.mid]=1;ba.url&&(fa[ba.url]=ba.pack||1);ja()},T=function(ba){ba.injected=2;delete fa[ba.mid];ba.url&&delete fa[ba.url];t(fa)&&Ta()},da=v.idle=function(){return!O.length&&t(fa)&&!H.length&&!Ga};var ea=function(ba,ya){if(ya)for(var Ha=0;Ha<ya.length;Ha++)if(ya[Ha][2].test(ba))return ya[Ha];
return 0},pa=function(ba){var ya=[];for(ba=ba.replace(/\\/g,"/").split("/");ba.length;){var Ha=ba.shift();if(".."==Ha&&ya.length&&".."!=Ra){ya.pop();var Ra=ya[ya.length-1]}else"."!=Ha&&ya.push(Ra=Ha)}return ya.join("/")},ma=function(ba,ya,Ha,Ra){return{pid:ba,mid:ya,pack:Ha,url:Ra,executed:0,def:0}},L=function(ba,ya,Ha,Ra,X,ha,ia,Da,ta,Na){var $a,bb,eb;var Va=/^\./.test(ba);if(/(^\/)|(:)|(\.js$)/.test(ba)||Va&&!ya)return ma(0,ba,0,ba);ba=pa(Va?ya.mid+"/../"+ba:ba);if(/^\./.test(ba))throw p("irrationalPath",
ba);Na||Va||!ha.star||(eb=ea(ba,ha.star[1]));!eb&&ya&&(eb=(eb=ea(ya.mid,ha))&&ea(ba,eb[1]));eb&&(ba=eb[1]+ba.substring(eb[3]));ya=(c=ba.match(/^([^\/]+)(\/(.+))?$/))?c[1]:"";($a=Ha[ya])?ba=ya+"/"+(bb=c[3]||$a.main):ya="";var Wa=0;q(Da,function(Ba){var Qa=ba.match(Ba[0]);Qa&&0<Qa.length&&(Wa=n(Ba[1])?ba.replace(Ba[0],Ba[1]):Ba[1])});if(Wa)return L(Wa,0,Ha,Ra,X,ha,ia,Da,ta);if(Ha=Ra[ba])return ta?ma(Ha.pid,Ha.mid,Ha.pack,Ha.url):Ra[ba];Ra=(eb=ea(ba,ia))?eb[1]+ba.substring(eb[3]):ya?("/"===$a.location.slice(-1)?
$a.location.slice(0,-1):$a.location)+"/"+bb:ba;/(^\/)|(:)/.test(Ra)||(Ra=X+Ra);return ma(ya,ba,$a,pa(Ra+".js"))},R=function(ba,ya,Ha){return L(ba,ya,N,E,v.baseUrl,F,M,G,void 0,Ha)};if(!y("foreign-loader"))var U=function(ba,ya,Ha){return ba.normalize?ba.normalize(ya,function(Ra){return La(Ra,Ha)}):La(ya,Ha)},sa=0,Aa=function(ba,ya,Ha){var Ra;if(Ra=ba.match(/^(.+?)!(.*)$/)){var X=Aa(Ra[1],ya,Ha);5!==X.executed||X.load||ca(X);X.load?(Ra=U(X,Ra[2],ya),ba=X.mid+"!"+(X.dynamic?++sa+"!":"")+Ra):(Ra=Ra[2],
ba=X.mid+"!"+ ++sa+"!waitingForPlugin");ba={plugin:X,mid:ba,req:Ia(ya),prid:Ra}}else ba=R(ba,ya);return E[ba.mid]||!Ha&&(E[ba.mid]=ba)};var La=v.toAbsMid=function(ba,ya){return R(ba,ya).mid},Pa=v.toUrl=function(ba,ya){ya=R(ba+"/x",ya);var Ha=ya.url;return oa(0===ya.pid?ba:Ha.substring(0,Ha.length-5))};if(!y("foreign-loader")){var Sa={injected:2,executed:5,def:3,result:3};var Xa=function(ba){return E[ba]=k({mid:ba},Sa)};var ka=Xa("require"),va=Xa("exports"),wa=Xa("module"),Ja={},Oa=0,ca=function(ba){var ya=
ba.result;ba.dynamic=ya.dynamic;ba.normalize=ya.normalize;ba.load=ya.load;return ba},na=function(ba){var ya={};q(ba.loadQ,function(X){var ha=U(ba,X.prid,X.req.module),ia=ba.dynamic?X.mid.replace(/waitingForPlugin$/,ha):ba.mid+"!"+ha;ha=k(k({},X),{mid:ia,prid:ha,injected:0});E[ia]&&E[ia].injected||ab(E[ia]=ha);ya[X.mid]=E[ia];T(X);delete E[X.mid]});ba.loadQ=0;var Ha=function(X){for(var ha=X.deps||[],ia=0;ia<ha.length;ia++)(X=ya[ha[ia].mid])&&(ha[ia]=X)},Ra;for(Ra in E)Ha(E[Ra]);q(H,Ha)},za=function(ba){v.trace("loader-finish-exec",
[ba.mid]);ba.executed=5;ba.defOrder=Oa++;ba.loadQ&&(ca(ba),na(ba));for(d=0;d<H.length;)H[d]===ba?H.splice(d,1):d++;/^require\*/.test(ba.mid)&&delete E[ba.mid]},ua=[],Ea=function(ba,ya){if(4===ba.executed)return v.trace("loader-circular-dependency",[ua.concat(ba.mid).join("-\x3e")]),!ba.def||ya?Ja:ba.cjs&&ba.cjs.exports;if(!ba.executed){if(!ba.def)return Ja;var Ha=ba.mid,Ra=ba.deps||[],X,ha=[],ia=0;for(ba.executed=4;X=Ra[ia++];){X=X===ka?Ia(ba):X===va?ba.cjs.exports:X===wa?ba.cjs:Ea(X,ya);if(X===Ja)return ba.executed=
0,v.trace("loader-exec-module",["abort",Ha]),Ja;ha.push(X)}v.trace("loader-run-factory",[ba.mid]);ya=ba.def;ha=n(ya)?ya.apply(null,ha):ya;ba.result=void 0===ha&&ba.cjs?ba.cjs.exports:ha;za(ba)}return ba.result},Ga=0,Ma=function(ba){try{Ga++,ba()}catch(ya){throw ya;}finally{Ga--}da()&&D("idle",[])},Ua=function(){Ga||Ma(function(){for(var ba,ya,Ha=0;Ha<H.length;)ba=Oa,ya=H[Ha],Ea(ya),ba!=Oa?Ha=0:Ha++})}}var oa="function"==typeof a.fixupUrl?a.fixupUrl:function(ba){ba+="";return ba+(J?(/\?/.test(ba)?
"\x26":"?")+J:"")};void 0===y("dojo-loader-eval-hint-url")&&y.add("dojo-loader-eval-hint-url",1);var ab=function(ba){var ya=ba.plugin;5!==ya.executed||ya.load||ca(ya);var Ha=function(Ra){ba.result=Ra;T(ba);za(ba);Ua()};ya.load?ya.load(ba.prid,ba.req,Ha):ya.loadQ?ya.loadQ.push(ba):(ya.loadQ=[ba],H.unshift(ya),gb(ya))},cb=0,fb=function(ba,ya){y("config-stripStrict")&&(ba=ba.replace(/(["'])use strict\1/g,""));ba===cb?cb.call(null):v.eval(ba,y("dojo-loader-eval-hint-url")?ya.url:ya.mid)},gb=function(ba){var ya=
ba.mid,Ha=ba.url;if(!(ba.executed||ba.injected||fa[ya]||ba.url&&(ba.pack&&fa[ba.url]===ba.pack||1==fa[ba.url])))if(Q(ba),ba.plugin)ab(ba);else{var Ra=function(){db(ba);if(2!==ba.injected){if(y("dojo-enforceDefine")){D("error",p("noDefine",ba));return}T(ba);k(ba,Sa);v.trace("loader-define-nonmodule",[ba.url])}Ua()};(cb=P[ya]||P["url:"+ba.url])?(v.trace("loader-inject",["cache",ba.mid,Ha]),fb(cb,ba),Ra()):(v.trace("loader-inject",["script",ba.mid,Ha]),v.injectUrl(oa(Ha),Ra,ba))}},Za=function(ba,ya,
Ha){v.trace("loader-define-module",[ba.mid,ya]);if(2===ba.injected)return D("error",p("multipleDefine",ba)),ba;k(ba,{deps:ya,def:Ha,cjs:{id:ba.mid,uri:ba.url,exports:ba.result={},setExports:function(X){ba.cjs.exports=X},config:function(){return ba.config}}});for(var Ra=0;ya[Ra];Ra++)ya[Ra]=Aa(ya[Ra],ba);T(ba);n(Ha)||ya.length||(ba.result=Ha,za(ba));return ba},db=function(ba,ya){for(var Ha=[],Ra,X;O.length;)X=O.shift(),ya&&(X[0]=ya.shift()),Ra=X[0]&&Aa(X[0])||ba,Ha.push([Ra,X[1],X[2]]);Y(ba);q(Ha,
function(ha){aa(Za.apply(null,ha))})},Ta=u,ja=u;y("dom");if(y("dom")){var ra=function(ba,ya,Ha,Ra){ba.addEventListener(ya,Ra,!1);return function(){ba.removeEventListener(ya,Ra,!1)}},Ka=ra(window,"load","onload",function(){v.pageLoaded=1;try{"complete"!=A.readyState&&(A.readyState="complete")}catch(ba){}Ka()});Xa=A.getElementsByTagName("script");for(d=0;!Z;)/^dojo/.test((f=Xa[d++])&&f.type)||(Z=f);v.injectUrl=function(ba,ya,Ha){Ha=Ha.node=A.createElement("script");var Ra=ra(Ha,"load","onreadystatechange",
function(ha){ha=ha||window.event;var ia=ha.target||ha.srcElement;if("load"===ha.type||/complete|loaded/.test(ia.readyState))Ra(),X(),ya&&ya()}),X=ra(Ha,"error","onerror",function(ha){Ra();X();D("error",p("scriptError: "+ba,[ba,ha]))});Ha.type="text/javascript";Ha.charset="utf-8";Ha.src=ba;Z.parentNode.insertBefore(Ha,Z);return Ha}}v.log=u;v.trace=u;y("foreign-loader")?f=u:(f=function(ba,ya,Ha){var Ra=arguments.length,X=["require","exports","module"],ha=[0,ba,ya];1==Ra?ha=[0,n(ba)?X:[],ba]:2==Ra&&
m(ba)?ha=[ba,n(ya)?X:[],ya]:3==Ra&&(ha=[ba,ya,Ha]);v.trace("loader-define",ha.slice(0,2));(Ra=ha[0]&&Aa(ha[0]))&&!fa[Ra.mid]?aa(Za(Ra,ha[1],ha[2])):O.push(ha)},f.amd={vendor:"dojotoolkit.org"});k(k(v,b.loaderPatch),a.loaderPatch);C("error",function(ba){try{if(console.error(ba),ba instanceof Error){for(var ya in ba)console.log(ya+":",ba[ya]);console.log(".")}}catch(Ha){}});k(v,{uid:h,cache:P,packs:N});x.define||(x.define=f,x.require=v,y("foreign-loader")||(q(la,function(ba){V(ba)}),f=l.deps||a.deps||
b.deps,a=l.callback||a.callback||b.callback,v.boot=f||a?[f||[],a]:0))})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},
{location:"../tslib",main:"tslib",name:"tslib"}]});
require({cache:{"esri/Map":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/maybe ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/subclass ./layers/support/editableLayers ./support/basemapUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(a,b,c,f,d,l,u,t,
g,n,m,r,q,k,p,e,h,v){d=function(x){function A(y){var z=x.call(this,y)||this;z.allLayers=new l({getCollections:()=>{var C,B,D;return[null==(C=z.basemap)?void 0:C.baseLayers,null==(B=z.ground)?void 0:B.layers,z.layers,null==(D=z.basemap)?void 0:D.referenceLayers]},getChildrenFunction:C=>"layers"in C?C.layers:null});z.allTables=new l({getCollections:()=>[z.tables,z.layers],getChildrenFunction:C=>{const B=[];"tables"in C&&B.push(C.tables);"layers"in C&&B.push(C.layers);return B},itemFilterFunction:C=>
{const B=C.parent;return B&&"tables"in B&&B.tables.includes(C)}});z.basemap=null;z.editableLayers=new l({getCollections:()=>[z.allLayers],itemFilterFunction:k.isEditableLayer});z.ground=new f;z._basemapCache=p.createCache();return z}a._inheritsLoose(A,x);var w=A.prototype;w.destroy=function(){var y,z;this.allLayers.destroy();this.allTables.destroy();this.editableLayers.destroy();null==(y=this.ground)?void 0:y.destroy();null==(z=this.basemap)?void 0:z.destroy();p.destroyCache(this._basemapCache);this._basemapCache=
null};w.castBasemap=function(y){return p.ensureType(y,this._basemapCache)};w.castGround=function(y){y=e.ensureType(y);return t.isNone(y)?this._get("ground"):y};w.findLayerById=function(y){return this.allLayers.find(z=>z.id===y)};w.findTableById=function(y){return this.allTables.find(z=>z.id===y)};return A}(v.TablesMixin(h.LayersMixin(u.EventedMixin(d))));b.__decorate([g.property({readOnly:!0,dependsOn:[]})],d.prototype,"allLayers",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"allTables",
void 0);b.__decorate([g.property({type:c})],d.prototype,"basemap",void 0);b.__decorate([r.cast("basemap")],d.prototype,"castBasemap",null);b.__decorate([g.property({readOnly:!0})],d.prototype,"editableLayers",void 0);b.__decorate([g.property({type:f,nonNullable:!0})],d.prototype,"ground",void 0);b.__decorate([r.cast("ground")],d.prototype,"castGround",null);return d=b.__decorate([q.subclass("esri.Map")],d)})},"esri/chunks/_rollupPluginBabelHelpers":function(){define(["exports"],function(a){function b(r){function q(k){if(Object(k)!==
k)return Promise.reject(new TypeError(k+" is not an object."));var p=k.done;return Promise.resolve(k.value).then(function(e){return{value:e,done:p}})}return b=function(k){this.s=k;this.n=k.next},b.prototype={s:null,n:null,next:function(){return q(this.n.apply(this.s,arguments))},return:function(k){var p=this.s.return;return void 0===p?Promise.resolve({value:k,done:!0}):q(p.apply(this.s,arguments))},throw:function(k){var p=this.s.return;return void 0===p?Promise.reject(k):q(p.apply(this.s,arguments))}},
new b(r)}function c(r){this.wrapped=r}function f(r){function q(h,v){try{var x=r[h](v),A=x.value,w=A instanceof c;Promise.resolve(w?A.wrapped:A).then(function(y){w?q("return"===h?"return":"next",y):k(x.done?"return":"normal",y)},function(y){q("throw",y)})}catch(y){k("throw",y)}}function k(h,v){switch(h){case "return":p.resolve({value:v,done:!0});break;case "throw":p.reject(v);break;default:p.resolve({value:v,done:!1})}(p=p.next)?q(p.key,p.arg):e=null}var p,e;this._invoke=function(h,v){return new Promise(function(x,
A){x={key:h,arg:v,resolve:x,reject:A,next:null};e?e=e.next=x:(p=e=x,q(h,v))})};"function"!==typeof r.return&&(this.return=void 0)}function d(r,q,k,p,e,h,v){try{var x=r[h](v),A=x.value}catch(w){k(w);return}x.done?q(A):Promise.resolve(A).then(p,e)}function l(r,q){for(var k=0;k<q.length;k++){var p=q[k];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);Object.defineProperty(r,p.key,p)}}function u(r){u=Object.setPrototypeOf?Object.getPrototypeOf:function(q){return q.__proto__||
Object.getPrototypeOf(q)};return u(r)}function t(r,q){t=Object.setPrototypeOf||function(k,p){k.__proto__=p;return k};return t(r,q)}function g(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}function n(r,q,k){n=g()?Reflect.construct:function(p,e,h){var v=[null];v.push.apply(v,e);p=new (Function.bind.apply(p,v));h&&t(p,
h.prototype);return p};return n.apply(null,arguments)}function m(r){var q="function"===typeof Map?new Map:void 0;m=function(k){function p(){return n(k,arguments,u(this).constructor)}if(null===k||-1===Function.toString.call(k).indexOf("[native code]"))return k;if("function"!==typeof k)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof q){if(q.has(k))return q.get(k);q.set(k,p)}p.prototype=Object.create(k.prototype,{constructor:{value:p,enumerable:!1,writable:!0,
configurable:!0}});return t(p,k)};return m(r)}f.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this};f.prototype.next=function(r){return this._invoke("next",r)};f.prototype.throw=function(r){return this._invoke("throw",r)};f.prototype.return=function(r){return this._invoke("return",r)};a._assertThisInitialized=function(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r};a._asyncIterator=
function(r){var q,k,p,e=2;for("undefined"!=typeof Symbol&&(k=Symbol.asyncIterator,p=Symbol.iterator);e--;){if(k&&null!=(q=r[k]))return q.call(r);if(p&&null!=(q=r[p]))return new b(q.call(r));k="@@asyncIterator";p="@@iterator"}throw new TypeError("Object is not async iterable");};a._asyncToGenerator=function(r){return function(){var q=this,k=arguments;return new Promise(function(p,e){function h(A){d(x,p,e,h,v,"next",A)}function v(A){d(x,p,e,h,v,"throw",A)}var x=r.apply(q,k);h(void 0)})}};a._awaitAsyncGenerator=
function(r){return new c(r)};a._createClass=function(r,q,k){q&&l(r.prototype,q);k&&l(r,k);Object.defineProperty(r,"prototype",{writable:!1});return r};a._inheritsLoose=function(r,q){r.prototype=Object.create(q.prototype);r.prototype.constructor=r;t(r,q)};a._wrapAsyncGenerator=function(r){return function(){return new f(r.apply(this,arguments))}};a._wrapNativeSuper=m})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){a.__decorate=function(b,c,f,d){var l=arguments.length,u=3>l?c:null===
d?d=Object.getOwnPropertyDescriptor(c,f):d,t;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)u=Reflect.decorate(b,c,f,d);else for(var g=b.length-1;0<=g;g--)if(t=b[g])u=(3>l?t(u):3<l?t(c,f,u):t(c,f))||u;return 3<l&&u&&Object.defineProperty(c,f,u),u}})},"esri/Basemap":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Collection ./core/collectionUtils ./core/deprecate ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./geometry/SpatialReference ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./webdoc/support/writeUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A,w,y,z){var C;let B=0;const D=m.getLogger("esri.Basemap");u=C=function(G){function K(N){var I=G.call(this,N)||this;I.id=null;I.portalItem=null;I.spatialReference=null;I.thumbnailUrl=null;I.title="Basemap";I.id=Date.now().toString(16)+"-basemap-"+B++;I.baseLayers=new f;I.referenceLayers=new f;const F=E=>{E.parent&&E.parent!==b._assertThisInitialized(I)&&"remove"in E.parent&&E.parent.remove(E);E.parent=b._assertThisInitialized(I);"elevation"===E.type&&
D.error(`Layer '${E.title}, id:${E.id}' of type '${E.type}' is not supported as a basemap layer and will therefore be ignored.`)};I.baseLayers.on("after-add",E=>F(E.item));I.referenceLayers.on("after-add",E=>F(E.item));I.baseLayers.on("after-remove",E=>{E.item.parent=null});I.referenceLayers.on("after-remove",E=>{E.item.parent=null});return I}b._inheritsLoose(K,G);var M=K.prototype;M.initialize=function(){this.when().catch(N=>{D.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,
N)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};M.destroy=function(){var N,I=this.baseLayers.removeAll();for(const F of I)F.destroy();I=this.referenceLayers.removeAll();for(const F of I)F.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();null==(N=this.portalItem)?void 0:N.destroy();this.portalItem=null};M.normalizeCtorArgs=function(N){N&&"resourceInfo"in N&&(this._set("resourceInfo",N.resourceInfo),N={...N},delete N.resourceInfo);return N};M._writeBaseLayers=
function(N,I,F){const E=[];N&&(F={...F,layerContainerType:"basemap"},this.baseLayers.forEach(J=>{J=z.getLayerJSON(J,F.webmap?F.webmap.getLayerJSONFromResourceInfo(J):null,F);r.isSome(J)&&E.push(J)}),this.referenceLayers.forEach(J=>{J=z.getLayerJSON(J,F.webmap?F.webmap.getLayerJSONFromResourceInfo(J):null,F);r.isSome(J)&&(J.isReference=!0,E.push(J))}));I.baseMapLayers=E};M.writeTitle=function(N,I){I.title=N||"Basemap"};M.load=function(N){this.addResolvingPromise(this._loadFromSource(N));return Promise.resolve(this)};
M.loadAll=function(){return n.loadAll(this,N=>{N(this.baseLayers,this.referenceLayers)})};M.clone=function(){const N={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};this.loaded&&(N.loadStatus="loaded");return(new C({resourceInfo:this.resourceInfo})).set(N)};M.read=function(N,I){this.resourceInfo||this._set("resourceInfo",{data:N,context:I});G.prototype.read.call(this,N,I)};M.write=function(N,I){N=N||{};I&&I.origin||
(I={origin:"web-map",...I});G.prototype.write.call(this,N,I);!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(N.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(F=>{F=t.clone(F);F.url&&k.isProtocolRelative(F.url)&&(F.url=`https:${F.url}`);F.templateUrl&&k.isProtocolRelative(F.templateUrl)&&(F.templateUrl=`https:${F.templateUrl}`);return F}));return N};M._loadFromSource=function(){var N=b._asyncToGenerator(function*(I){const {resourceInfo:F,portalItem:E}=this;q.throwIfAborted(I);
const J=[];F?(J.push(this._loadLayersFromJSON(F.data,F.context?F.context.url:null,I)),F.data.id&&!F.data.title&&J.push(y.getBasemapTitle(F.data.id).then(P=>{P&&this.read({title:P},F.context)}))):E&&J.push(this._loadFromItem(E,I));yield Promise.all(J)});return function(I){return N.apply(this,arguments)}}();M._loadLayersFromJSON=function(){var N=b._asyncToGenerator(function*(I,F,E){var J=this.resourceInfo&&this.resourceInfo.context;const P=this.portalItem&&this.portalItem.portal||J&&J.portal||null,
W=J&&"web-scene"===J.origin?"web-scene":"web-map",{populateOperationalLayers:Z}=yield new Promise((Y,S)=>a(["./layers/support/layersCreator"],Y,S));J=[];q.throwIfAborted(E);I.baseMapLayers&&Array.isArray(I.baseMapLayers)&&(F={context:{origin:W,url:F,portal:P,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},E=Z(this.baseLayers,I.baseMapLayers.filter(Y=>!Y.isReference),F),J.push(E),I=Z(this.referenceLayers,I.baseMapLayers.filter(Y=>Y.isReference),F),J.push(I));yield q.eachAlways(J)});
return function(I,F,E){return N.apply(this,arguments)}}();M._loadFromItem=function(){var N=b._asyncToGenerator(function*(I,F){const E=yield(yield I.load(F)).fetchData("json",F),J=k.urlToObject(I.itemUrl);this._set("resourceInfo",{data:E.baseMap,context:{origin:"web-map",portal:I.portal||A.getDefault(),url:J}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:E.spatialReference},this.resourceInfo.context);this.read({title:I.title,thumbnailUrl:I.thumbnailUrl},
{origin:"portal-item",portal:I.portal||A.getDefault(),url:J});return this._loadLayersFromJSON(this.resourceInfo.data,J,F)});return function(I,F){return N.apply(this,arguments)}}();K.fromId=function(N){const I=y.esriBasemapDefinitions[N];if(I){if(I.deprecated){let F=null;"dark-gray"===N?F="dark-gray-vector":"gray"===N?F="gray-vector":"streets"===N?F="streets-vector":"topo"===N&&(F="topo-vector");l.deprecated(D,`The ${N} basemap has entered mature support and is no longer being updated.`,{replacement:F,
see:"https://arcg.is/1iq8aD",warnOnce:!0})}return C.fromJSON(I)}return null};b._createClass(K,[{key:"baseLayers",set:function(N){this._set("baseLayers",d.referenceSetter(N,this._get("baseLayers")))}},{key:"referenceLayers",set:function(N){this._set("referenceLayers",d.referenceSetter(N,this._get("referenceLayers")))}}]);return K}(u.JSONSupportMixin(g));c.__decorate([p.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(G,K,M,N){this._writeBaseLayers(G,K,N)}},origins:{"web-scene":{write:{ignoreOrigin:!0,
target:{baseMapLayers:{type:f}},writer(G,K,M,N){this._writeBaseLayers(G,K,N)}}}}}})],u.prototype,"baseLayers",null);c.__decorate([p.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],u.prototype,"id",void 0);c.__decorate([p.property({type:w})],u.prototype,"portalItem",void 0);c.__decorate([p.property()],u.prototype,"referenceLayers",null);c.__decorate([p.property({readOnly:!0})],u.prototype,"resourceInfo",void 0);c.__decorate([p.property({type:x})],u.prototype,"spatialReference",void 0);
c.__decorate([p.property()],u.prototype,"thumbnailUrl",void 0);c.__decorate([p.property({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],u.prototype,"title",void 0);c.__decorate([v.writer("title")],u.prototype,"writeTitle",null);return u=C=c.__decorate([h.subclass("esri.Basemap")],u)})},"esri/core/Collection":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./ArrayPool ./Evented ./lang ./maybe ./ObjectPool ./ObservableChangesType ./scheduling ./accessorSupport/decorators/property ./accessorSupport/ensureType ./accessorSupport/decorators/shared ./accessorSupport/decorators/subclass ./accessorSupport/tracking ./accessorSupport/tracking/SimpleObservable".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p){function e(M){return M?M instanceof K?M.toArray():M.length?Array.prototype.slice.apply(M):[]:[]}function h(M){if(M&&M.length)return M[0]}function v(M,N,I,F){N&&N.forEach((E,J,P)=>{M.push(E);v(M,I.call(F,E,J,P),I,F)})}var x;let A=function(){function M(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}var N=M.prototype;N.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};N.reset=function(I){this.defaultPrevented=
!1;this.item=I};return M}();const w=new u(A,void 0,M=>{M.item=null;M.target=null;M.defaultPrevented=!1;M.cancellable=!1}),y=()=>{},z=new Set,C=new Set,B=new Set,D=new Map;let G=0,K=x=function(M,N){function I(E){E=M.call(this,E)||this;E._chgListeners=[];E._notifications=null;E._timer=null;E._observable=new p.SimpleObservable;E.length=0;E._items=[];Object.defineProperty(a._assertThisInitialized(E),"uid",{value:G++});return E}a._inheritsLoose(I,M);I.isCollection=function(E){return null!=E&&E instanceof
x};var F=I.prototype;F.normalizeCtorArgs=function(E){return E?Array.isArray(E)||E instanceof x?{items:E}:E:{}};F.destroy=function(){this.removeAll()};F[N]=function*(){yield*this.items};F.hasEventListener=function(E){return"change"===E?0<this._chgListeners.length:this._emitter.hasEventListener(E)};F.on=function(E,J){if("change"===E){const P=this._chgListeners,W={removed:!1,callback:J};P.push(W);this._notifications&&this._notifications.push({listeners:P.slice(),items:this._items.slice(),changes:[]});
return{remove(){this.remove=y;W.removed=!0;P.splice(P.indexOf(W),1)}}}return this._emitter.on(E,J)};F.once=function(E,J){const P=this.on(E,J);return{remove(){P.remove()}}};F.add=function(E,J){k.trackAccess(this._observable);if(this._emitBeforeChanges(t.ObservableChangesType.ADD))return this;J=this.getNextIndex(null!=J?J:null);this._splice(J,0,[E]);this._emitAfterChanges(t.ObservableChangesType.ADD);return this};F.addMany=function(E,J=this._items.length){k.trackAccess(this._observable);if(!E||!E.length||
this._emitBeforeChanges(t.ObservableChangesType.ADD))return this;J=this.getNextIndex(J);this._splice(J,0,e(E));this._emitAfterChanges(t.ObservableChangesType.ADD);return this};F.at=function(E){k.trackAccess(this._observable);E=Math.trunc(E)||0;0>E&&(E+=this.length);if(!(0>E||E>=this.length))return this._items[E]};F.removeAll=function(){k.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(t.ObservableChangesType.REMOVE))return[];const E=this._splice(0,this.length)||[];this._emitAfterChanges(t.ObservableChangesType.REMOVE);
return E};F.clone=function(){k.trackAccess(this._observable);return this._createNewInstance({items:this._items.map(d.clone)})};F.concat=function(...E){k.trackAccess(this._observable);E=E.map(e);return this._createNewInstance({items:this._items.concat(...E)})};F.drain=function(E,J){k.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(t.ObservableChangesType.REMOVE)){var P=l.assumeNonNull(this._splice(0,this.length)),W=P.length;for(let Z=0;Z<W;Z++)E.call(J,P[Z],Z,P);this._emitAfterChanges(t.ObservableChangesType.REMOVE)}};
F.every=function(E,J){k.trackAccess(this._observable);return this._items.every(E,J)};F.filter=function(E,J){k.trackAccess(this._observable);let P;P=2===arguments.length?this._items.filter(E,J):this._items.filter(E);return this._createNewInstance({items:P})};F.find=function(E,J){k.trackAccess(this._observable);return this._items.find(E,J)};F.findIndex=function(E,J){k.trackAccess(this._observable);return this._items.findIndex(E,J)};F.flatten=function(E,J){k.trackAccess(this._observable);const P=[];
v(P,this,E,J);return new x(P)};F.forEach=function(E,J){k.trackAccess(this._observable);return this._items.forEach(E,J)};F.getItemAt=function(E){k.trackAccess(this._observable);return this._items[E]};F.getNextIndex=function(E){k.trackAccess(this._observable);const J=this.length;E=null==E?J:E;0>E?E=0:E>J&&(E=J);return E};F.includes=function(E,J=0){k.trackAccess(this._observable);return this._items.includes(E,J)};F.indexOf=function(E,J=0){k.trackAccess(this._observable);return this._items.indexOf(E,
J)};F.join=function(E=","){k.trackAccess(this._observable);return this._items.join(E)};F.lastIndexOf=function(E,J=this.length-1){k.trackAccess(this._observable);return this._items.lastIndexOf(E,J)};F.map=function(E,J){k.trackAccess(this._observable);E=this._items.map(E,J);return new x({items:E})};F.reorder=function(E,J=this.length-1){k.trackAccess(this._observable);const P=this.indexOf(E);if(-1!==P){0>J?J=0:J>=this.length&&(J=this.length-1);if(P!==J){if(this._emitBeforeChanges(t.ObservableChangesType.MOVE))return E;
this._splice(P,1);this._splice(J,0,[E]);this._emitAfterChanges(t.ObservableChangesType.MOVE)}return E}};F.pop=function(){k.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(t.ObservableChangesType.REMOVE)){var E=h(this._splice(this.length-1,1));this._emitAfterChanges(t.ObservableChangesType.REMOVE);return E}};F.push=function(...E){k.trackAccess(this._observable);if(this._emitBeforeChanges(t.ObservableChangesType.ADD))return this.length;this._splice(this.length,0,E);this._emitAfterChanges(t.ObservableChangesType.ADD);
return this.length};F.reduce=function(E,J){k.trackAccess(this._observable);const P=this._items;return 2===arguments.length?P.reduce(E,J):P.reduce(E)};F.reduceRight=function(E,J){k.trackAccess(this._observable);const P=this._items;return 2===arguments.length?P.reduceRight(E,J):P.reduceRight(E)};F.remove=function(E){k.trackAccess(this._observable);return this.removeAt(this.indexOf(E))};F.removeAt=function(E){k.trackAccess(this._observable);if(!(0>E||E>=this.length||this._emitBeforeChanges(t.ObservableChangesType.REMOVE)))return E=
h(this._splice(E,1)),this._emitAfterChanges(t.ObservableChangesType.REMOVE),E};F.removeMany=function(E){k.trackAccess(this._observable);if(!E||!E.length||this._emitBeforeChanges(t.ObservableChangesType.REMOVE))return[];E=E instanceof x?E.toArray():E;const J=this._items,P=[],W=E.length;for(let qa=0;qa<W;qa++){var Z=J.indexOf(E[qa]);if(-1<Z){{var Y=qa+1;var S=Z+1;const xa=Math.min(E.length-Y,J.length-S);let Fa=0;for(;Fa<xa&&E[Y+Fa]===J[S+Fa];)Fa++;Y=Fa}Y=1+Y;(Z=this._splice(Z,Y))&&0<Z.length&&P.push.apply(P,
Z);qa+=Y-1}}this._emitAfterChanges(t.ObservableChangesType.REMOVE);return P};F.reverse=function(){k.trackAccess(this._observable);if(this._emitBeforeChanges(t.ObservableChangesType.MOVE))return this;const E=this._splice(0,this.length);E&&(E.reverse(),this._splice(0,0,E));this._emitAfterChanges(t.ObservableChangesType.MOVE);return this};F.shift=function(){k.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(t.ObservableChangesType.REMOVE)){var E=h(this._splice(0,1));this._emitAfterChanges(t.ObservableChangesType.REMOVE);
return E}};F.slice=function(E=0,J=this.length){k.trackAccess(this._observable);return this._createNewInstance({items:this._items.slice(E,J)})};F.some=function(E,J){k.trackAccess(this._observable);return this._items.some(E,J)};F.sort=function(E){k.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(t.ObservableChangesType.MOVE))return this;const J=l.assumeNonNull(this._splice(0,this.length));arguments.length?J.sort(E):J.sort();this._splice(0,0,J);this._emitAfterChanges(t.ObservableChangesType.MOVE);
return this};F.splice=function(E,J,...P){k.trackAccess(this._observable);const W=(J?t.ObservableChangesType.REMOVE:0)|(P.length?t.ObservableChangesType.ADD:0);if(this._emitBeforeChanges(W))return[];E=this._splice(E,J,P)||[];this._emitAfterChanges(W);return E};F.toArray=function(){k.trackAccess(this._observable);return this._items.slice()};F.toJSON=function(){k.trackAccess(this._observable);return this.toArray()};F.toLocaleString=function(){k.trackAccess(this._observable);return this._items.toLocaleString()};
F.toString=function(){k.trackAccess(this._observable);return this._items.toString()};F.unshift=function(...E){k.trackAccess(this._observable);if(!E.length||this._emitBeforeChanges(t.ObservableChangesType.ADD))return this.length;this._splice(0,0,E);this._emitAfterChanges(t.ObservableChangesType.ADD);return this.length};F._createNewInstance=function(E){return new this.constructor(E)};F._splice=function(E,J,P){const W=this._items;var Z=this.itemType;let Y=void 0;!this._notifications&&this.hasEventListener("change")&&
(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=g.schedule(()=>this._dispatchChange()));if(J){Y=W.splice(E,J);if(this.hasEventListener("before-remove")){var S=w.acquire();S.target=this;S.cancellable=!0;for(let Fa=0,la=Y.length;Fa<la;Fa++)J=Y[Fa],S.reset(J),this.emit("before-remove",S),S.defaultPrevented&&(Y.splice(Fa,1),W.splice(E,0,J),E+=1,--Fa,--la);w.release(S)}this.length=this._items.length;if(this.hasEventListener("after-remove")){J=
w.acquire();J.target=this;J.cancellable=!1;S=Y.length;for(let Fa=0;Fa<S;Fa++)J.reset(Y[Fa]),this.emit("after-remove",J);w.release(J)}}if(P&&P.length){if(Z){J=[];for(var qa of P)P=Z.ensureType(qa),null==P&&null!=qa||J.push(P);P=J}Z=this.hasEventListener("before-add");qa=this.hasEventListener("after-add");J=E===this.length;if(Z||qa){var xa=w.acquire();xa.target=this;xa.cancellable=!0;S=w.acquire();S.target=this;S.cancellable=!1;for(const Fa of P)Z?(xa.reset(Fa),this.emit("before-add",xa),xa.defaultPrevented||
(J?W.push(Fa):W.splice(E++,0,Fa),this._set("length",W.length),qa&&(S.reset(Fa),this.emit("after-add",S)))):(J?W.push(Fa):W.splice(E++,0,Fa),this._set("length",W.length),S.reset(Fa),this.emit("after-add",S));w.release(S);w.release(xa)}else{if(J)for(xa of P)W.push(xa);else W.splice(E,0,...P);this._set("length",W.length)}}(P&&P.length||Y&&Y.length)&&this._notifyChangeEvent(P,Y);return Y};F._emitBeforeChanges=function(E){let J=!1;if(this.hasEventListener("before-changes")){const P=w.acquire();P.target=
this;P.cancellable=!0;P.type=E;this.emit("before-changes",P);J=P.defaultPrevented;w.release(P)}return J};F._emitAfterChanges=function(E){if(this.hasEventListener("after-changes")){const J=w.acquire();J.target=this;J.cancellable=!1;J.type=E;this.emit("after-changes",J);w.release(J)}this._observable.notify()};F._notifyChangeEvent=function(E,J){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:E,removed:J})};F._dispatchChange=
function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var E=this._notifications;this._notifications=null;for(const J of E){E=J.changes;z.clear();C.clear();B.clear();for(const {added:qa,removed:xa}of E){if(qa)if(0===B.size&&0===C.size)for(const Fa of qa)z.add(Fa);else for(const Fa of qa)C.has(Fa)?(B.add(Fa),C.delete(Fa)):B.has(Fa)||z.add(Fa);if(xa)if(0===B.size&&0===z.size)for(const Fa of xa)C.add(Fa);else for(const Fa of xa)z.has(Fa)?z.delete(Fa):(B.delete(Fa),C.add(Fa))}const P=
c.acquire();z.forEach(qa=>{P.push(qa)});const W=c.acquire();C.forEach(qa=>{W.push(qa)});const Z=this._items,Y=J.items,S=c.acquire();B.forEach(qa=>{Y.indexOf(qa)!==Z.indexOf(qa)&&S.push(qa)});if(J.listeners&&(P.length||W.length||S.length)){E={target:this,added:P,removed:W,moved:S};const qa=J.listeners.length;for(let xa=0;xa<qa;xa++){const Fa=J.listeners[xa];Fa.removed||Fa.callback.call(this,E)}}c.release(P);c.release(W);c.release(S)}z.clear();C.clear();B.clear()}};a._createClass(I,[{key:"items",get:function(){k.trackAccess(this._observable);
return this._items},set:function(E){this._emitBeforeChanges(t.ObservableChangesType.ADD)||(this._splice(0,this.length,e(E)),this._emitAfterChanges(t.ObservableChangesType.ADD))}}]);return I}(f.EventedAccessor,Symbol.iterator);K.ofType=M=>{if(!M)return x;if(D.has(M))return D.get(M);let N=null;if("function"===typeof M)N=M.prototype.declaredClass;else if(M.base)N=M.base.prototype.declaredClass;else for(var I in M.typeMap){const F=M.typeMap[I].prototype.declaredClass;N=N?N+` | ${F}`:F}I=function(F){function E(){return F.apply(this,
arguments)||this}a._inheritsLoose(E,F);return E}(x);b.__decorate([r.shared({Type:M,ensureType:"function"===typeof M?m.ensureType(M):m.ensureOneOfType(M)})],I.prototype,"itemType",void 0);I=b.__decorate([q.subclass(`esri.core.Collection<${N}>`)],I);D.set(M,I);return I};b.__decorate([n.property()],K.prototype,"length",void 0);b.__decorate([n.property()],K.prototype,"items",null);return K=x=b.__decorate([q.subclass("esri.core.Collection")],K)})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],
function(a){function b(d){d.length=0}let c=function(){function d(u=50,t=50){this._pool=new a(Array,void 0,b,t,u)}var l=d.prototype;l.acquire=function(){return this._pool.acquire()};l.release=function(u){this._pool.release(u)};l.prune=function(){this._pool.prune(0)};d.acquire=function(){return f.acquire()};d.release=function(u){return f.release(u)};d.prune=function(){f.prune()};return d}();const f=new c(100);return c})},"esri/core/ObjectPool":function(){define(function(){let a=function(){function b(f,
d,l,u=1,t=0){this.ctor=f;this.acquireFunction=d;this.releaseFunction=l;this.allocationSize=u;this._pool=Array(t);this._initialSize=t;if(this.ctor)for(f=0;f<t;f++)this._pool[f]=new this.ctor;this.allocationSize=Math.max(u,1)}var c=b.prototype;c.destroy=function(){this.prune(0)};c.acquire=function(...f){if(b.test.disabled)var d=new this.ctor;else{if(0===this._pool.length){d=this.allocationSize;for(let l=0;l<d;l++)this._pool[l]=new this.ctor}d=this._pool.pop()}this.acquireFunction?this.acquireFunction(d,
...f):d&&d.acquire&&"function"===typeof d.acquire&&d.acquire(...f);return d};c.release=function(f){f&&!b.test.disabled&&(this.releaseFunction?this.releaseFunction(f):f&&f.release&&"function"===typeof f.release&&f.release(),this._pool.push(f))};c.prune=function(f=this._initialSize){if(!(f>=this._pool.length)){for(let d=f;d<this._pool.length;++d)this._dispose(this._pool[d]);this._pool.length=f}};c._dispose=function(f){f.dispose&&"function"===typeof f.dispose&&f.dispose()};return b}();a.test={disabled:!1};
return a})},"esri/core/Evented":function(){define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],function(a,b,c,f,d){let l=function(){function u(){this._emitter=new u.EventEmitter(this)}var t=u.prototype;t.emit=function(g,n){return this._emitter.emit(g,n)};t.on=function(g,n){return this._emitter.on(g,n)};t.once=function(g,n){return this._emitter.once(g,n)};t.hasEventListener=function(g){return this._emitter.hasEventListener(g)};
return u}();(function(u){let t=function(){function n(r=null){this.target=r;this._listenersMap=null}var m=n.prototype;m.clear=function(){this._listenersMap&&this._listenersMap.clear();this._listenersMap=null};m.emit=function(r,q){r=this._listenersMap&&this._listenersMap.get(r);if(!r)return!1;const k=this.target||this;[...r].forEach(p=>{p.call(k,q)});return 0<r.length};m.on=function(r,q){if(Array.isArray(r)){var k=r.map(p=>this.on(p,q));return f.handlesGroup(k)}if(-1<r.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");
this._listenersMap||(this._listenersMap=new Map);k=this._listenersMap.get(r)||[];k.push(q);this._listenersMap.set(r,k);return{remove:()=>{const p=this._listenersMap&&this._listenersMap.get(r)||[],e=p.indexOf(q);0<=e&&p.splice(e,1)}}};m.once=function(r,q){const k=this.on(r,p=>{k.remove();q.call(null,p)});return k};m.hasEventListener=function(r){r=this._listenersMap&&this._listenersMap.get(r);return null!=r&&0<r.length};return n}();u.EventEmitter=t;u.EventedMixin=n=>{n=function(m){function r(){var k=
m.apply(this,arguments)||this;k._emitter=new t;return k}a._inheritsLoose(r,m);var q=r.prototype;q.destroy=function(){this._emitter.clear()};q.emit=function(k,p){return this._emitter.emit(k,p)};q.on=function(k,p){return this._emitter.on(k,p)};q.once=function(k,p){return this._emitter.once(k,p)};q.hasEventListener=function(k){return this._emitter.hasEventListener(k)};return r}(n);return n=b.__decorate([d.subclass("esri.core.Evented")],n)};let g=function(n){function m(){var q=n.apply(this,arguments)||
this;q._emitter=new l.EventEmitter(a._assertThisInitialized(q));return q}a._inheritsLoose(m,n);var r=m.prototype;r.destroy=function(){this._emitter.clear()};r.emit=function(q,k){return this._emitter.emit(q,k)};r.on=function(q,k){return this._emitter.on(q,k)};r.once=function(q,k){return this._emitter.once(q,k)};r.hasEventListener=function(q){return this._emitter.hasEventListener(q)};return m}(c);g=b.__decorate([d.subclass("esri.core.Evented")],g);u.EventedAccessor=g})(l||(l={}));return l})},"esri/core/Accessor":function(){define("../chunks/_rollupPluginBabelHelpers ./deprecate ./Logger ./accessorSupport/get ./accessorSupport/interfaces ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){function r(q){if(null==q)return{value:q};if(Array.isArray(q))return{type:[q[0]],value:null};switch(typeof q){case "object":return q.constructor&&q.constructor.__accessorMetadata__||q instanceof Date?{type:q.constructor,value:q}:q;case "boolean":return{type:Boolean,value:q};case "string":return{type:String,value:q};case "number":return{type:Number,value:q};case "function":return{type:q,value:null}}}return function(){function q(...p){if(this.constructor===q)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new u(this)});0<p.length&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,p))}q.createSubclass=function(p={}){if(Array.isArray(p))throw Error("Multi-inheritance unsupported since 4.16");const {properties:e,declaredClass:h,constructor:v}=p;delete p.declaredClass;delete p.properties;delete p.constructor;const x=this;let A=function(w){function y(...z){var C=w.call(this,...z)||this;C.inherited=null;v&&
v.apply(a._assertThisInitialized(C),z);return C}a._inheritsLoose(y,w);return y}(x);l.getOwnClassMetadata(A.prototype);for(const w in p){const y=p[w];A.prototype[w]="function"===typeof y?function(...z){const C=this.inherited;this.inherited=function(...D){if(x.prototype[w])return x.prototype[w].apply(this,D)};let B=void 0;try{B=y.apply(this,z)}catch(D){throw this.inherited=C,D;}this.inherited=C;return B}:p[w]}for(const w in e)p=r(e[w]),n.property(p)(A.prototype,w);return m.subclass(h)(A)};var k=q.prototype;
k.postscript=function(p){const e=this.__accessor__;p=e.ctorArgs||p;e.initialize();p&&(this.set(p),e.ctorArgs=null);e.constructed();this.initialize()};k.initialize=function(){};k.destroy=function(){this.destroyed||(g.removeTarget(this),this.__accessor__.destroy())};k.commitProperty=function(p){this.get(p)};k.get=function(p){return f.get(this,p)};k.hasOwnProperty=function(p){return this.__accessor__?this.__accessor__.has(p):Object.prototype.hasOwnProperty.call(this,p)};k.isInstanceOf=function(p){b.deprecatedFunction(c.getLogger(this.declaredClass),
"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"});return this instanceof p};k.keys=function(){return this.__accessor__?this.__accessor__.keys():[]};k.set=function(p,e){t.set(this,p,e);return this};k.watch=function(p,e,h){return g.watch(this,p,e,h)};k._clearOverride=function(p){return this.__accessor__.clearOverride(p)};k._override=function(p,e){return this.__accessor__.override(p,e)};k._isOverridden=function(p){return this.__accessor__.isOverridden(p)};k.notifyChange=function(p){this.__accessor__.notifyChange(p)};
k._get=function(p){return this.__accessor__.internalGet(p)};k._set=function(p,e){this.__accessor__.internalSet(p,e);return this};a._createClass(q,[{key:"initialized",get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},{key:"constructed",get:function(){return this.__accessor__&&this.__accessor__.lifecycle===d.Lifecycle.CONSTRUCTED||!1}},{key:"destroyed",get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}]);return q}()})},"esri/core/deprecate":function(){define(["exports",
"./has"],function(a,b){function c(l,u,t=!1){t&&d.has(u)||(t&&d.add(u),l.warn(`\ud83d\uded1 DEPRECATED - ${u}`))}function f(l,u,t={}){if(b("esri-deprecation-warnings")){const {replacement:g,version:n,see:m,warnOnce:r}=t;g&&(u+=`\n\t\ud83d\udee0\ufe0f Replacement: ${g}`);n&&(u+=`\n\t\u2699\ufe0f Version: ${n}`);m&&(u+=`\n\t\ud83d\udd17 See ${m} for more details.`);c(l,u,r)}}const d=new Set;a.deprecated=f;a.deprecatedFunction=function(l,u,t={}){if(b("esri-deprecation-warnings")){const {moduleName:g}=
t;f(l,`Function: ${(g?g+"::":"")+u+"()"}`,t)}};a.deprecatedModule=function(l,u,t={}){b("esri-deprecation-warnings")&&f(l,`Module: ${u}`,t)};a.deprecatedProperty=function(l,u,t={}){if(b("esri-deprecation-warnings")){const {moduleName:g}=t;f(l,`Property: ${(g?g+"::":"")+u}`,t)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/has":function(){define(function(){function a(u){return"function"===typeof f[u]?f[u]=f[u](globalThis):f[u]}var b,c;let f;if(null!=(b=globalThis.dojoConfig)&&b.has||
null!=(c=globalThis.esriConfig)&&c.has){var d,l;f={...null==(d=globalThis.dojoConfig)?void 0:d.has,...null==(l=globalThis.esriConfig)?void 0:l.has}}else f={};a.add=(u,t,g,n)=>{if(n||"undefined"===typeof f[u])f[u]=t;return g&&a(u)};a.cache=f;a.add("esri-deprecation-warnings",!0);(()=>{a.add("host-webworker","undefined"!==typeof globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);var u="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&
window.location===location&&window.document===document;a.add("host-browser",u);a.add("dom",u);if(a("host-browser")){var t=navigator;u=t.userAgent;t=t.appVersion;const n=parseFloat(t);a.add("edge",parseFloat(u.split("Edge/")[1])||void 0);a.add("webkit",!a("edge")&&parseFloat(u.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&parseFloat(u.split("Chrome/")[1])||void 0);a.add("safari",!t.includes("Safari")||a("chrome")||a("edge")?void 0:parseFloat(t.split("Version/")[1]));a.add("mac",t.includes("Macintosh"));
if(u.match(/(iPhone|iPod|iPad)/)){const m=RegExp.$1.replace(/P/,"p");var g=u.match(/OS ([\d_]+)/)?RegExp.$1:"1";g=parseFloat(g.replace(/_/,".").replace(/_/g,""));a.add(m,g);a.add("ios",g)}a.add("trident",parseFloat(t.split("Trident/")[1])||void 0);a("webkit")||(!u.includes("Gecko")||a("trident")||a("edge")||a.add("mozilla",n),a("mozilla")&&a.add("ff",parseFloat(u.split("Firefox/")[1]||u.split("Minefield/")[1])||void 0))}})();(()=>{if(globalThis.navigator){var u=navigator.userAgent;const t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(u);
u=/iPhone/i.test(u);t&&a.add("esri-mobile",t);u&&a.add("esri-iPhone",u);a.add("esri-geolocation",!!navigator.geolocation)}a.add("esri-canvas-svg-support",!a("trident"));a.add("esri-wasm","WebAssembly"in globalThis);a.add("esri-shared-array-buffer",()=>{const t=!1===globalThis.crossOriginIsolated;return"SharedArrayBuffer"in globalThis&&!t});a.add("esri-atomics","Atomics"in globalThis);a.add("esri-workers","Worker"in globalThis);a.add("web-feat:cache","caches"in globalThis);a.add("esri-workers-arraybuffer-transfer",
!a("safari")||12<=Number(a("safari")));a.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]);a.add("featurelayer-simplify-payload-size-factors",[1,1,4]);a.add("featurelayer-snapshot-enabled",!0);a.add("featurelayer-snapshot-point-min-threshold",8E4);a.add("featurelayer-snapshot-point-max-threshold",4E5);a.add("featurelayer-snapshot-point-coverage",.1);a.add("featurelayer-advanced-symbols",!1);a.add("featurelayer-pbf",!0);a.add("featurelayer-pbf-statistics",!1);a.add("feature-layers-workers",!0);
a.add("feature-polyline-generalization-factor",1);a.add("mapview-transitions-duration",200);a.add("mapview-srswitch-adjust-rotation-scale-threshold",24E6);a.add("mapserver-pbf-enabled",!1);!a("host-webworker")&&a("host-browser")&&(a.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),a.add("esri-image-decode",()=>{if("decode"in new Image){const t=new Image;t.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';
t.decode().then(()=>{a.add("esri-image-decode",!0,!0,!0)}).catch(()=>{a.add("esri-image-decode",!1,!0,!0)})}else return!1}),a.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");t.href="?'";return t.href.includes("?%27")}))})();return a})},"esri/core/Logger":function(){define(["../chunks/_rollupPluginBabelHelpers","../config","./has","./maybe","./string"],function(a,b,c,f,d){const l={info:0,warn:1,error:2,none:3};c=function(){function u(g){this.level=null;this._module=
"";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=g.level&&(this.level=g.level);null!=g.writer&&(this.writer=g.writer);this._module=g.module;u._loggers[this.module]=this;g=this.module.lastIndexOf(".");-1!==g&&(this._parent=u.getLogger(this.module.slice(0,g)))}var t=u.prototype;t.error=function(...g){this._log("error","always",...g)};t.warn=function(...g){this._log("warn","always",...g)};t.info=function(...g){this._log("info","always",...g)};t.errorOnce=
function(...g){this._log("error","once",...g)};t.warnOnce=function(...g){this._log("warn","once",...g)};t.infoOnce=function(...g){this._log("info","once",...g)};t.errorOncePerTick=function(...g){this._log("error","oncePerTick",...g)};t.warnOncePerTick=function(...g){this._log("warn","oncePerTick",...g)};t.infoOncePerTick=function(...g){this._log("info","oncePerTick",...g)};u.getLogger=function(g){let n=u._loggers[g];n||(n=new u({module:g}));return n};t._log=function(g,n,...m){if(this._matchLevel(g)){if("always"!==
n&&!u._throttlingDisabled){const r=this._argsToKey(m),q=this._loggedMessages[g].get(r);if("once"===n&&null!=q||"oncePerTick"===n&&q&&q>=u._tickCounter)return;this._loggedMessages[g].set(r,u._tickCounter);u._scheduleTickCounterIncrement()}for(const r of b.log.interceptors)if(r(g,this.module,...m))return;this._inheritedWriter()(g,this.module,...m)}};t._parentWithMember=function(g,n){let m=this;for(;f.isSome(m);){const r=m[g];if(f.isSome(r))return r;m=m.parent}return n};t._inheritedWriter=function(){return this._parentWithMember("writer",
this._consoleWriter)};t._consoleWriter=function(g,n,...m){console[g](`[${n}]`,...m)};t._matchLevel=function(g){return l[this._parentWithMember("level",b.log.level?b.log.level:"warn")]<=l[g]};t._argsToKey=function(...g){return d.numericHash(JSON.stringify(g,(n,m)=>"object"!==typeof m||Array.isArray(m)?m:"[Object]"))};u._scheduleTickCounterIncrement=function(){u._tickCounterScheduled||(u._tickCounterScheduled=!0,Promise.resolve().then(()=>{u._tickCounter++;u._tickCounterScheduled=!1}))};a._createClass(u,
[{key:"module",get:function(){return this._module}},{key:"parent",get:function(){return this._parent}},{key:"test",get:function(){const g=this;return{loggedMessages:g._loggedMessages,clearLoggedWarnings(){return g._loggedMessages.warn.clear()}}}}],[{key:"testSingleton",get:function(){return{resetLoggers(g={}){const n=u._loggers;u._loggers=g;return n},set throttlingDisabled(g){u._throttlingDisabled=g}}}}]);return u}();c._loggers={};c._tickCounter=0;c._tickCounterScheduled=!1;c._throttlingDisabled=
!1;return c})},"esri/config":function(){define(["module","./core/has","./core/object"],function(a,b,c){var f;b={apiKey:void 0,applicationUrl:null==(f=globalThis.location)?void 0:f.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",
workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(c.deepMerge(b,globalThis.esriConfig,!0),delete b.has);b.assetsPath||(a=(new URL(a.uri,
document.baseURI)).href,b.assetsPath=a.slice(0,a.lastIndexOf("esri/")));b.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath");Object.defineProperty(b,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}});b.request.corsEnabledServers=[];b.request.corsEnabledServers.push=function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};
return b})},"esri/core/object":function(){define(["exports","./lang"],function(a,b){function c(d,l,u){for(const t of d){if(null==u)return;if(!(t in u))if(l)u[t]={};else return;u=u[t]}return u}function f(d,l,u){return l?Object.keys(l).reduce(function(t,g){let n=t[g],m=l[g];if(n===m)return t;if(void 0===n)return t[g]=b.clone(m),t;if(Array.isArray(m)||Array.isArray(t))n=n?Array.isArray(n)?t[g]=n.concat():t[g]=[n]:t[g]=[],m&&(Array.isArray(m)||(m=[m]),u?m.forEach(r=>{-1===n.indexOf(r)&&n.push(r)}):t[g]=
m.concat());else if(m&&"object"===typeof m)t[g]=f(n,m,u);else if(!t.hasOwnProperty(g)||l.hasOwnProperty(g))t[g]=m;return t},d||{}):d}a.deepMerge=function(d,l,u=!1){return f(d,l,u)};a.getDeepValue=function(d,l){if(null!=l)return l[d]||c(d.split("."),!1,l)};a.setDeepValue=function(d,l,u){const t=d.split(".");d=t.pop();(u=c(t,!0,u))&&d&&(u[d]=l)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/lang":function(){define(["exports","./arrayUtils","./has","./maybe","./typedArrayUtil"],function(a,
b,c,f,d){function l(q,k){let p;if(k)for(p in q)q.hasOwnProperty(p)&&(void 0===q[p]?delete q[p]:q[p]instanceof Object&&l(q[p],!0));else for(p in q)q.hasOwnProperty(p)&&void 0===q[p]&&delete q[p];return q}function u(q){if(!q||"object"!==typeof q||"function"===typeof q)return q;var k=m(q);if(f.isSome(k))return k;if("function"===typeof q.clone)return q.clone();if(g(q))return q.map(u);if(n(q))return q.clone();k={};for(const p of Object.getOwnPropertyNames(q))k[p]=u(q[p]);return k}function t(q){if(!q||
"object"!==typeof q||"function"===typeof q)return q;var k=m(q);if(f.isSome(k))return k;if(g(q)){let p=!0;q=q.map(e=>{const h=t(e);null!=e&&null==h&&(p=!1);return h});return p?q:null}if("function"===typeof q.clone)return q.clone();if(!n(q)){k=new (Object.getPrototypeOf(q).constructor);for(const p of Object.getOwnPropertyNames(q)){const e=q[p],h=t(e);if(null!=e&&null==h)return null;k[p]=h}return k}return null}function g(q){return"function"===typeof q.map&&"function"===typeof q.forEach}function n(q){return"function"===
typeof q.notifyChange&&"function"===typeof q.watch}function m(q){if(d.isInt8Array(q)||d.isUint8Array(q)||d.isUint8ClampedArray(q)||d.isInt16Array(q)||d.isUint16Array(q)||d.isInt32Array(q)||d.isUint32Array(q)||d.isFloat32Array(q)||d.isFloat64Array(q))return d.slice(q);if(q instanceof Date)return new Date(q.getTime());if(q instanceof ArrayBuffer)return q.slice(0,q.byteLength);if(q instanceof Map){const k=new Map;q.forEach((p,e)=>{k.set(e,u(p))});return k}if(q instanceof Set){const k=new Set;q.forEach(p=>
{k.add(u(p))});return k}return null}function r(q,k){if(null===q||null===k)return!1;const p=Object.keys(q),e=p.length;if(null===k||Object.keys(k).length!==e)return!1;for(const h of p)if(q[h]!==k[h]||!Object.prototype.hasOwnProperty.call(k,h))return!1;return!0}a.clone=u;a.equals=function(q,k){return q===k||"number"===typeof q&&isNaN(q)&&"number"===typeof k&&isNaN(k)||"function"===typeof(q||{}).getTime&&"function"===typeof(k||{}).getTime&&q.getTime()===k.getTime()||!1};a.equalsShallow=function(q,k){if(q===
k)return!0;if(null===q||void 0===q||"string"===typeof q)return q===k;if("number"===typeof q)return q===k||"number"===typeof k&&isNaN(q)&&isNaN(k);if(q instanceof Date)return k instanceof Date&&q.getTime()===k.getTime();if(Array.isArray(q))return Array.isArray(k)&&b.equals(q,k);if(q instanceof Set){var p;if(p=k instanceof Set)a:if(q.size!==k.size)p=!1;else{for(const e of q)if(!k.has(e)){p=!1;break a}p=!0}return p}if(q instanceof Map){if(p=k instanceof Map)a:if(q.size!==k.size)p=!1;else{for(const [e,
h]of q)if(q=k.get(e),q!==h||void 0===q&&!k.has(e)){p=!1;break a}p=!0}return p}return"object"===typeof q?"object"===typeof k&&r(q,k):!1};a.fixJson=l;a.isAccessorLike=n;a.mixin=function(q={},...k){c("esri-deprecation-warnings")&&console.warn("[esri.core.lang] \ud83d\uded1 DEPRECATED - Function: mixin()\n\t\ud83d\udee0\ufe0f Replacement: Use Object.assign() directly\n\t\u2699\ufe0f Version: 4.19");return Object.assign(q,...k)};a.tryClone=t;a.tryCloneBuiltInObject=m;Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/core/arrayUtils":function(){define(["exports","./maybe","./RandomLCG"],function(a,b,c){function f(q){return q}function d(q,k=f){if(q&&0!==q.length){var p=q[0],e=k(p);for(let h=1;h<q.length;++h){const v=q[h],x=Number(k(v));x>e&&(e=x,p=v)}return p}}function l(q,k,p,e){e=e||n;var h=Math.max(0,e.last-10);for(let v=h;v<p;++v)if(q[v]===k)return e.last=v;p=Math.min(h,p);for(h=0;h<p;++h)if(q[h]===k)return e.last=h;return-1}function u(q){return q?(r.seed=q,()=>r.getFloat()):Math.random}
const t=!!Array.prototype.fill;let g=function(){this.last=0};const n=new g,m=new Set,r=new c;a.PositionHint=g;a.binaryFindClosest=function(q,k,p){if(q&&0!==q.length){var e=q.length-1,h=q[0];if(k<=p(h))return h;h=q[e];if(k>=p(h))return h;var v=0;h=0;for(var x=e;v<x;){h=v+Math.floor((x-v)/2);const w=q[h],y=p(w);if(y===k)return w;if(k<y){if(0<h){x=q[h-1];var A=p(x);if(k>A)return k-A>=y-k?w:x}x=h}else{if(h<e&&(v=q[h+1],A=p(v),k<A))return k-y>=A-k?v:w;v=h+1}}return q[h]}};a.binaryIndexOf=function(q,k,
p){const e=q.length;let h=0;for(var v=e-1;h<v;){const x=h+Math.floor((v-h)/2);k>q[x]?h=x+1:v=x}v=q[h];return p?k>=q[e-1]?-1:v===k?h:h-1:v===k?h:-1};a.constant=function(q,k){if(t)return Array(q).fill(k);const p=Array(q);for(let e=0;e<q;e++)p[e]=k;return p};a.difference=function(q,k,p){let e,h;p?(e=k.filter(v=>!q.some(x=>p(x,v))),h=q.filter(v=>!k.some(x=>p(x,v)))):(e=k.filter(v=>!q.includes(v)),h=q.filter(v=>!k.includes(v)));return{added:e,removed:h}};a.equals=function(q,k,p){if(b.isNone(q)&&b.isNone(k))return!0;
if(b.isNone(q)||b.isNone(k)||q.length!==k.length)return!1;if(p)for(let e=0;e<q.length;e++){if(!p(q[e],k[e]))return!1}else for(p=0;p<q.length;p++)if(q[p]!==k[p])return!1;return!0};a.first=function(q){if(q)return 0<q.length?q[0]:void 0};a.flatten=function(q){return q.reduce((k,p)=>k.concat(p||[]),[])};a.indexOf=l;a.intersect=function(q,k,p){return q&&k?p?q.filter(function(e){return-1<k.findIndex(function(h){return p(e,h)})}):q.filter(function(e){return-1<k.indexOf(e)}):[]};a.isArrayLike=function(q){return q&&
"number"===typeof q.length};a.last=function(q){if(q){var k=q.length;return 0<k?q[k-1]:void 0}};a.max=d;a.min=function(q,k=f){return d(q,p=>-k(p))};a.pickRandom=function(q,k,p){const e=q.length;if(k>=e)return q.slice(0);p=u(p);const h=new Set,v=[];for(;v.length<k;){const x=Math.floor(p()*e);h.has(x)||(h.add(x),v.push(q[x]))}return v};a.range=function(q,k){void 0===k&&(k=q,q=0);const p=Array(k-q);for(let e=q;e<k;e++)p[e-q]=e;return p};a.remove=function(q,k){const p=q.indexOf(k);return-1!==p?(q.splice(p,
1),k):null};a.removeUnordered=function(q,k,p,e){const h=null==p?q.length:p;e=l(q,k,h,e);if(-1!==e)return q[e]=q[h-1],null==p&&q.pop(),k};a.removeUnorderedMany=function(q,k,p=q.length,e=k.length,h,v){if(0===e||0===p)return p;m.clear();for(let x=0;x<e;++x)m.add(k[x]);h=h||n;k=Math.max(0,h.last-10);for(e=k;e<p;++e)if(m.has(q[e])&&(v&&v.push(q[e]),m.delete(q[e]),q[e]=q[p-1],--p,--e,0===m.size||0===p))return m.clear(),p;for(e=0;e<k;++e)if(m.has(q[e])&&(v&&v.push(q[e]),m.delete(q[e]),q[e]=q[p-1],--p,--e,
0===m.size||0===p))return m.clear(),p;m.clear();return p};a.shuffle=function(q,k){k=u(k);for(let p=q.length-1;0<p;p--){const e=Math.floor(k()*(p+1)),h=q[p];q[p]=q[e];q[e]=h}return q};a.splitIntoChunks=function(q,k){const p=q.length;if(0===p)return[];const e=[];for(let h=0;h<p;h+=k)e.push(q.slice(h,h+k));return e};a.unique=function(q,k){return k?q.filter((p,e,h)=>h.findIndex(k.bind(null,p))===e):q.filter((p,e,h)=>h.indexOf(p)===e)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/maybe":function(){define(["exports"],
function(a){function b(f,d){return null!=f?d(f):null}function c(f,d,l){return null!=f?l(f):d}a.abortMaybe=function(f){null!=f&&f.abort();return null};a.applySome=b;a.assumeNonNull=function(f){return f};a.destroyMaybe=function(f){null!=f&&f.destroy();return null};a.disposeMaybe=function(f){null!=f&&f.dispose();return null};a.equalsMaybe=function(f,d){return null!=f&&null!=d?f.equals(d):f===d};a.filterNones=function(f){return f.filter(d=>null!=d)};a.forEachSome=function(f,d){for(const l of f)b(l,d)};
a.get=function(f,...d){for(let l=0;l<d.length&&f;++l)f=f[d[l]];return f};a.isNone=function(f){return null==f};a.isSome=function(f){return null!=f};a.isUndefined=function(f){return void 0===f};a.mapMany=function(f,d){const l=[];for(const u of f)l.push(c(u,null,d));return l};a.mapOr=c;a.mapSome=function(f,d){const l=[];f.forEach(u=>{u=d(u);null!=u&&l.push(u)});return l};a.mapSomeFirst=function(f,d){for(const l of f)if(f=d(l),null!=f)return f;return null};a.none=null;a.nullifyNonnullableForDispose=function(f){return null};
a.releaseMaybe=function(f){null!=f&&f.release();return null};a.removeMaybe=function(f){null!=f&&f.remove();return null};a.unwrap=function(f){return f};a.unwrapOr=function(f,d){return null!=f?f:"function"===typeof d?d():d};a.unwrapOrThrow=function(f,d){if(null==f)throw Error(d);return f};a.unwrapOrValue=function(f,d){return null!=f?f:d};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/RandomLCG":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){let b=function(){function c(d=
1){this._seed=d}var f=c.prototype;f.getInt=function(){return this._seed=(c._a*this._seed+c._c)%c._m};f.getFloat=function(){return this.getInt()/(c._m-1)};f.getIntRange=function(d,l){return Math.round(this.getFloatRange(d,l))};f.getFloatRange=function(d,l){l-=d;const u=this.getInt()/c._m;return d+u*l};a._createClass(c,[{key:"seed",set:function(d){this._seed=null==d?Math.random()*c._m:d}}]);return c}();b._m=2147483647;b._a=48271;b._c=0;return b})},"esri/core/typedArrayUtil":function(){define(["exports",
"./maybe"],function(a,b){a.estimateSize=function(c){return b.isNone(c)?0:128+c.buffer.byteLength+64};a.forEach=function(c,f){if(c.forEach)c.forEach(f);else for(let d=0;d<c.length;d++)f(c[d],d,c)};a.isArrayBuffer=function(c){return c instanceof ArrayBuffer||c&&c.constructor&&"ArrayBuffer"===c.constructor.name};a.isFloat32Array=function(c){return c instanceof Float32Array||c&&c.constructor&&"Float32Array"===c.constructor.name};a.isFloat64Array=function(c){return c instanceof Float64Array||c&&c.constructor&&
"Float64Array"===c.constructor.name};a.isInt16Array=function(c){return c instanceof Int16Array||c&&c.constructor&&"Int16Array"===c.constructor.name};a.isInt32Array=function(c){return c instanceof Int32Array||c&&c.constructor&&"Int32Array"===c.constructor.name};a.isInt8Array=function(c){return c instanceof Int8Array||c&&c.constructor&&"Int8Array"===c.constructor.name};a.isUint16Array=function(c){return c instanceof Uint16Array||c&&c.constructor&&"Uint16Array"===c.constructor.name};a.isUint32Array=
function(c){return c instanceof Uint32Array||c&&c.constructor&&"Uint32Array"===c.constructor.name};a.isUint8Array=function(c){return c instanceof Uint8Array||c&&c.constructor&&"Uint8Array"===c.constructor.name};a.isUint8ClampedArray=function(c){return c instanceof Uint8ClampedArray||c&&c.constructor&&"Uint8ClampedArray"===c.constructor.name};a.slice=function(c,f,d){if(c.slice)return c.slice(f,d);void 0===f?f=0:(0>f&&(f+=c.length),f=Math.min(c.length,Math.max(0,f)));void 0===d?d=c.length:(0>d&&(d+=
c.length),d=Math.min(c.length,Math.max(0,d)));d=Math.max(0,d-f);const l=new c.constructor(d);for(let u=0;u<d;u++)l[u]=c[f+u];return l};a.toArray=function(c){const f=Array(c.length);for(let d=0;d<c.length;d++)f[d]=c[d];return f};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/string":function(){define(["exports","./object"],function(a,b){function c(d){return null==d?"":d}const f=/\{([^\}]+)\}/g;a.escapeRegExpString=function(d,l){return d.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,u=>l&&
-1!==l.indexOf(u)?u:`\\${u}`)};a.numericHash=function(d){let l=0;for(let u=0;u<d.length;u++)l=(l<<5)-l+d.charCodeAt(u),l|=0;return l};a.replace=function(d,l){return d.replace(f,"object"===typeof l?(u,t)=>c(b.getDeepValue(t,l)):(u,t)=>c(l(t)))};a.stripHTML=function(d){return(new DOMParser).parseFromString(d||"","text/html").body.innerText||""};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(a,b){function c(l,u){l=
"?"===l[l.length-1]?l.slice(0,-1):l;if(null!=u.getItemAt||Array.isArray(u)){var t=parseInt(l,10);if(!isNaN(t))return Array.isArray(u)?u[t]:u.getItemAt(t)}t=b.getProperties(u);return b.isPropertyDeclared(t,l)?t.get(l):u[l]}function f(l,u,t){if(null==l)return l;if((l=c(u[t],l))||!(t<u.length-1))return t===u.length-1?l:f(l,u,t+1)}function d(l,u,t=0){return"string"===typeof u&&-1===u.indexOf(".")?c(u,l):f(l,b.pathToArray(u),t)}a.exists=function(l,u){return void 0!==d(u,l)};a.get=function(l,u){return d(l,
u)};a.valueOf=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/utils":function(){define(["exports","../handleUtils","../lang","../maybe"],function(a,b,c,f){function d(n){return n?n.__accessor__?n.__accessor__:n.propertyInvalidated?n:null:null}function l(n,m,r){return m?Object.keys(m).reduce(function(q,k){let p=null;var e="merge";r&&(p=r.path?`${r.path}.${k}`:k,e=r.policy(p));if("replace"===e)return q[k]=m[k],q;if(void 0===q[k])return q[k]=c.clone(m[k]),q;let h=q[k];
e=m[k];if(h===e)return q;if(Array.isArray(e)||Array.isArray(q))h=h?Array.isArray(h)?q[k]=h.concat():q[k]=[h]:q[k]=[],e&&(Array.isArray(e)||(e=[e]),e.forEach(v=>{-1===h.indexOf(v)&&h.push(v)}));else if(e&&"object"===typeof e)if(r){const v=r.path;r.path=f.assumeNonNull(p);q[k]=l(h,e,r);r.path=v}else q[k]=l(h,e,null);else if(!q.hasOwnProperty(k)||m.hasOwnProperty(k))q[k]=e;return q},n||{}):n}function u(n){return Array.isArray(n)?n:n.split(".")}function t(n){return-1<n.indexOf(",")?n.split(",").map(m=>
m.trim()):[n.trim()]}function g(n){if(Array.isArray(n)){const m=[];for(const r of n)m.push(...t(r));return m}return t(n)}a.getDependsInfo=function(n,m){const r=d(n);return r?r.getDependsInfo(n,m,""):""};a.getProperties=d;a.isPropertyDeclared=function(n,m){return null!=n&&n.metadatas&&null!=n.metadatas[m]};a.merge=function(n,m,r){return r?l(n,m,{policy:r,path:""}):l(n,m,null)};a.once=function(n){let m=!1;return()=>{m||(m=!0,n())}};a.parse=function(n,m,r,q){m=g(m);return 1!==m.length?(m=m.map(k=>q(n,
k,r)),b.handlesGroup(m)):q(n,m[0],r)};a.parseConditionalPath=function(n){if(-1===n.indexOf("?"))return null;n=u(n);const m=Array(n.length);for(let r=0;r<n.length;r++){const q=n[r];m[r]="?"===q[q.length-1];m[r]&&(n[r]=q.slice(0,-1))}return{fullPath:n.join("."),conditional:m}};a.pathToArray=u;a.pathToStringOrArray=function(n){return!n||"string"===typeof n&&-1===n.indexOf(".")?n:u(n)};a.splitPath=g;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/handleUtils":function(){define(["exports",
"./maybe"],function(a,b){function c(f){return{remove:()=>{f&&(f(),f=void 0)}}}a.asyncHandle=function(f,d){let l=!1,u=null;f.then(t=>{l?t.remove():u=t});return c(()=>{l=!0;b.isSome(u)?u.remove():b.isSome(d)&&(d.abort(),d=null)})};a.destroyHandle=function(f){return c(b.isSome(f)?()=>f.destroy():void 0)};a.handlesGroup=function(f){return c(()=>f.forEach(d=>b.isSome(d)&&d.remove()))};a.makeHandle=c;a.refHandle=function(f){return c(()=>{const d=f();b.isSome(d)&&d.remove()})};a.timeoutHandle=function(f,
d){const l=setTimeout(f,d);return c(()=>clearTimeout(l))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/interfaces":function(){define(["exports"],function(a){a.Lifecycle=void 0;var b=a.Lifecycle||(a.Lifecycle={});b[b.INITIALIZING=0]="INITIALIZING";b[b.CONSTRUCTING=1]="CONSTRUCTING";b[b.CONSTRUCTED=2]="CONSTRUCTED";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","../maybe","./utils"],function(a,
b,c,f){function d(r){let q=r.constructor.__accessorMetadata__;var k=Object.prototype.hasOwnProperty.call(r.constructor,"__accessorMetadata__");if(!q)q=new g({}),Object.defineProperty(r.constructor,"__accessorMetadata__",{value:q,enumerable:!1,configurable:!0,writable:!0});else if(!k){k=Object.create(q.properties);const p=q.autoDestroy;for(const e in k)k[e]=b.clone(k[e]);q=new g(k);q.autoDestroy=p;Object.defineProperty(r.constructor,"__accessorMetadata__",{value:q,enumerable:!1,configurable:!0,writable:!0})}return c.assumeNonNull(r.constructor.__accessorMetadata__)}
function l(r){return d(r).properties}function u(r){return n.test(r)?"replace":"merge"}function t(r){return m.test(r)?u(r.slice(11)):"merge"}let g=function(r){this.autoDestroy=!1;this.properties=r};const n=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,m=/^properties\./;a.ClassMetadata=g;a.getOwnClassMetadata=d;a.getOwnPropertiesMetadata=l;a.getOwnPropertyMetadata=function(r,q){r=l(r);let k=r[q];k||(k=r[q]={});return k};a.merge=function(r,q){return f.merge(r,q,t)};a.mergeProperty=
function(r,q){return f.merge(r,q,u)};a.setPropertyMetadata=function(r,q,k){l(r)[q]=k};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/Properties":function(){define("../../chunks/_rollupPluginBabelHelpers ../has ../lang ../Logger ../ObjectPool ./interfaces ./Property ./PropertyOrigin ./Store ./tracking ./utils ./tracking/Flags".split(" "),function(a,b,c,f,d,l,u,t,g,n,m,r){f.getLogger("esri.core.accessorSupport.Properties");b=function(){function k(e){this.host=e;this.properties=
new Map;this.ctorArgs=null;this.destroyed=!1;this.lifecycle=l.Lifecycle.INITIALIZING;this.store=new g.Store;this._origin=t.OriginId.USER;e=this.host.constructor.__accessorMetadata__;const h=e.properties;for(const v in h){const x=new u.Property(this,v,h[v]);this.properties.set(v,x)}this.metadatas=h;this._autoDestroy=e.autoDestroy}var p=k.prototype;p.initialize=function(){this.lifecycle=l.Lifecycle.CONSTRUCTING};p.constructed=function(){this.lifecycle=l.Lifecycle.CONSTRUCTED};p.destroy=function(){this.destroyed=
!0;if(this._autoDestroy)for(const [h,v]of this.properties){var e=this.internalGet(h);e&&e&&"function"===typeof e.destroy&&(e.destroy(),~v.flags&r.Flags.NonNullable&&this._internalSet(v,null));v.destroy()}else for([,e]of this.properties)e.destroy()};p.get=function(e){const h=this.properties.get(e);if(h.metadata.get)return h.getComputed();n.trackAccess(h);const v=this.store;return v.has(e)?v.get(e):h.metadata.value};p.originOf=function(e){const h=this.store.originOf(e);return void 0===h&&(e=this.properties.get(e),
void 0!==e&&e.flags&r.Flags.HasDefaultValue)?"defaults":t.idToName(h)};p.has=function(e){return this.properties.has(e)?this.store.has(e):!1};p.keys=function(){return[...this.properties.keys()]};p.internalGet=function(e){const h=this.properties.get(e);if(void 0!==h)return this.store.has(e)?this.store.get(e):h.metadata.value};p.internalSet=function(e,h){e=this.properties.get(e);void 0!==e&&this._internalSet(e,h)};p.getDependsInfo=function(e,h,v){const x=this.properties.get(h);if(void 0===x)return"";
const A=new Set;var w=n.runTracked({onObservableAccessed:z=>A.add(z),onTrackingEnd:()=>{}},()=>{var z;return null==(z=x.metadata.get)?void 0:z.call(e)}),y=e.declaredClass.split(".").pop();h=`${v}${y}.${h}: ${w}\n`;if(0===A.size)return h;v+="  ";for(const z of A){if(!(z instanceof u.Property))continue;w=z.properties.host;y=z.propertyName;const C=m.getProperties(w);h=C?h+C.getDependsInfo(w,y,v):h+`${v}${y}: undefined\n`}return h};p.setAtOrigin=function(e,h,v){e=this.properties.get(e);if(void 0!==e)return this._setAtOrigin(e,
h,v)};p.isOverridden=function(e){e=this.properties.get(e);return void 0!==e&&!!(e.flags&r.Flags.Overriden)};p.clearOverride=function(e){e=this.properties.get(e);void 0!==e&&e.flags&r.Flags.Overriden&&(e.flags&=~r.Flags.Overriden,e.notifyChange())};p.override=function(e,h){e=this.properties.get(e);if(!(void 0===e||null==h&&e.flags&r.Flags.NonNullable)){var v=e.metadata.cast;if(v){h=this._cast(v,h);const {valid:x,value:A}=h;q.release(h);if(!x)return;h=A}e.flags|=r.Flags.Overriden;this._internalSet(e,
h)}};p.set=function(e,h){e=this.properties.get(e);if(!(void 0===e||null==h&&e.flags&r.Flags.NonNullable)){var v=e.metadata.cast;if(v){h=this._cast(v,h);const {valid:x,value:A}=h;q.release(h);if(!x)return;h=A}(v=e.metadata.set)?v.call(this.host,h):this._internalSet(e,h)}};p.setDefaultOrigin=function(e){this._origin=t.nameToId(e)};p.getDefaultOrigin=function(){return t.idToName(this._origin)};p.notifyChange=function(e){e=this.properties.get(e);void 0!==e&&e.notifyChange()};p.invalidate=function(e){e=
this.properties.get(e);void 0!==e&&e.invalidate()};p.commit=function(e){e=this.properties.get(e);void 0!==e&&e.commit()};p._internalSet=function(e,h){this._setAtOrigin(e,h,this.lifecycle!==l.Lifecycle.INITIALIZING?this._origin:t.OriginId.DEFAULTS)};p._setAtOrigin=function(e,h,v){const x=this.store,A=e.propertyName;x.has(A,v)&&c.equals(h,x.get(A))&&~e.flags&r.Flags.Overriden&&v===x.originOf(A)||(e.invalidate(),x.set(A,h,v),e.commit(),n.initializeDependencyTracking(this.host,e))};p._cast=function(e,
h){const v=q.acquire();v.valid=!0;v.value=h;e&&(v.value=e.call(this.host,h,v));return v};a._createClass(k,[{key:"initialized",get:function(){return this.lifecycle!==l.Lifecycle.INITIALIZING}}]);return k}();f=function(){function k(){this.value=null;this.valid=!0}var p=k.prototype;p.acquire=function(){this.valid=!0};p.release=function(){this.value=null};return k}();const q=new d(f);return b})},"esri/core/accessorSupport/Property":function(){define(["exports","./PropertyOrigin","./tracking","./tracking/Flags",
"./tracking/ObservationHandle"],function(a,b,c,f,d){let l=function(){function u(g,n,m){this.properties=g;this.propertyName=n;this.metadata=m;this._handles=this._accessed=this._observers=null;this.flags=f.Flags.Dirty|(m.nonNullable?f.Flags.NonNullable:0)|(m.hasOwnProperty("value")?f.Flags.HasDefaultValue:0)|(void 0===m.get?f.Flags.DepTrackingInitialized:0)|(void 0===m.dependsOn?f.Flags.AutoTracked:0)}var t=u.prototype;t.destroy=function(){this._observers=this._accessed=null;this._clearObservationHandles()};
t.getComputed=function(){c.trackAccess(this);var g=this.properties.store;const n=this.propertyName;var m=this.flags;const r=g.get(n);if(m&f.Flags.Computing||~m&f.Flags.Dirty&&g.has(n))return r;this.flags|=f.Flags.Computing;const q=this.properties.host;m&f.Flags.AutoTracked?m=c.runTracked(this,this.metadata.get,q):(c.trackExplicitDependencies(q,this),m=this.metadata.get.call(q));g.set(n,m,b.OriginId.COMPUTED);g=g.get(n);g===r?this.flags&=~f.Flags.Dirty:c.runUntracked(this.commit,this);this.flags&=
~f.Flags.Computing;return g};t.onObservableAccessed=function(g){g!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(g)||this._accessed.push(g))};t.onTrackingEnd=function(){this._clearObservationHandles();this.flags|=f.Flags.DepTrackingInitialized;const g=this._accessed;if(null!==g){var n=this._handles;null===n&&(n=this._handles=[]);for(let m=0;m<g.length;++m)n.push(g[m].observe(this));g.length=0}};t.observe=function(g){null===this._observers&&(this._observers=[]);this._observers.includes(g)||
this._observers.push(g);return new d.ObservationHandle(this._observers,g)};t.notifyChange=function(){this.onInvalidated();this.onCommitted()};t.invalidate=function(){this.onInvalidated()};t.onInvalidated=function(){~this.flags&f.Flags.Overriden&&(this.flags|=f.Flags.Dirty);const g=this._observers;if(null!==g)for(let n=0;n<g.length;++n)g[n].onInvalidated()};t.commit=function(){this.flags&=~f.Flags.Dirty;this.onCommitted()};t.onCommitted=function(){if(null!==this._observers){var g=this._observers.slice();
for(let n=0;n<g.length;++n)g[n].onCommitted()}};t._clearObservationHandles=function(){const g=this._handles;if(null!==g){for(let n=0;n<g.length;++n)g[n].remove();g.length=0}};return u}();a.Property=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports","../maybe"],function(a,b){function c(d){switch(d){case "defaults":return a.OriginId.DEFAULTS;case "service":return a.OriginId.SERVICE;case "portal-item":return a.OriginId.PORTAL_ITEM;
case "web-scene":return a.OriginId.WEB_SCENE;case "web-map":return a.OriginId.WEB_MAP;case "user":return a.OriginId.USER}}function f(d){switch(d){case a.OriginId.DEFAULTS:return"defaults";case a.OriginId.SERVICE:return"service";case a.OriginId.PORTAL_ITEM:return"portal-item";case a.OriginId.WEB_SCENE:return"web-scene";case a.OriginId.WEB_MAP:return"web-map";case a.OriginId.USER:return"user"}return b.assumeNonNull(void 0)}a.OriginId=void 0;(function(d){d[d.DEFAULTS=0]="DEFAULTS";d[d.COMPUTED=1]="COMPUTED";
d[d.SERVICE=2]="SERVICE";d[d.PORTAL_ITEM=3]="PORTAL_ITEM";d[d.WEB_SCENE=4]="WEB_SCENE";d[d.WEB_MAP=5]="WEB_MAP";d[d.USER=6]="USER"})(a.OriginId||(a.OriginId={}));a.OriginIdNum=a.OriginId.USER+1;a.idToName=f;a.idToReadableName=function(d){return f(d)};a.idToWritableName=function(d){return f(d)};a.nameToId=c;a.readableNameToId=function(d){return c(d)};a.writableNameToId=function(d){return c(d)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking":function(){define(["exports",
"../has","../Logger","./utils","./tracking/Flags"],function(a,b,c,f,d){function l(x){if(void 0!==k)k.onObservableAccessed(x)}function u(x,A,w){if(e)return t(x,A,w);k=x;q.push(x);x=A.call(w);g();return x}function t(x,A,w){const y=e;e=!0;k=x;q.push(x);x=null;try{x=A.call(w)}catch(z){h&&p.error(z)}g();e=y;return x}function g(){const x=q.pop();k=0<q.length?q[q.length-1]:void 0;if(void 0!==x)x.onTrackingEnd()}function n(x,A){if(!(A.flags&d.Flags.DepTrackingInitialized)){var w=h;h=!1;A.flags&d.Flags.AutoTracked?
t(A,A.metadata.get,x):m(x,A);h=w}}function m(x,A){A.flags&d.Flags.ExplicitlyTracking||(A.flags|=d.Flags.ExplicitlyTracking,t(A,()=>{var w=A.metadata.dependsOn||v;for(const y of w)if("string"===typeof y&&-1===y.indexOf("."))r(x,y,!1);else{w=f.pathToArray(y);for(let z=0,C=x;z<w.length&&null!=C&&"object"===typeof C;++z)C=r(C,w[z],z!==w.length-1)}}),A.flags&=~d.Flags.ExplicitlyTracking)}function r(x,A,w){A="?"===A[A.length-1]?A.slice(0,-1):A;if(null!=x.getItemAt||Array.isArray(x)){var y=parseInt(A,10);
if(!isNaN(y))return Array.isArray(x)?x[y]:x.getItemAt(y)}y=f.getProperties(x);if(y=null==y?void 0:y.properties.get(A))l(y),n(x,y);return w?x[A]:void 0}let q=[],k=void 0;const p=c.getLogger("esri.core.Accessor");let e=!1,h=!1;const v=[];a.initializeDependencyTracking=n;a.resetGlobalTarget=function(){q=[]};a.runTracked=u;a.runTrackedNoThrow=t;a.runUntracked=function(x,A){return u(void 0,x,A)};a.trackAccess=l;a.trackExplicitDependencies=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking/Flags":function(){define(["exports"],
function(a){a.Flags=void 0;var b=a.Flags||(a.Flags={});b[b.Dirty=1]="Dirty";b[b.Overriden=2]="Overriden";b[b.Computing=4]="Computing";b[b.NonNullable=8]="NonNullable";b[b.HasDefaultValue=16]="HasDefaultValue";b[b.DepTrackingInitialized=32]="DepTrackingInitialized";b[b.AutoTracked=64]="AutoTracked";b[b.ExplicitlyTracking=128]="ExplicitlyTracking";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports","../../arrayUtils"],
function(a,b){let c=function(){function f(d,l){this._observers=d;this._observer=l}f.prototype.remove=function(){b.remove(this._observers,this._observer)};return f}();a.ObservationHandle=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,c){let f=function(){function d(){this._values=new Map;this.multipleOriginsSupported=!1}var l=d.prototype;l.clone=function(u){const t=new d;this._values.forEach((g,
n)=>{u&&u.has(n)||t.set(n,b.clone(g))});return t};l.get=function(u){return this._values.get(u)};l.originOf=function(){return c.OriginId.USER};l.keys=function(){return[...this._values.keys()]};l.set=function(u,t){this._values.set(u,t)};l.delete=function(u){this._values.delete(u)};l.has=function(u){return this._values.has(u)};l.forEach=function(u){this._values.forEach(u)};return d}();a.Store=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/set":function(){define(["exports",
"../Error","../has","../Logger","./get"],function(a,b,c,f,d){function l(u,t,g){if(u&&t)if("object"===typeof t)for(var n of Object.getOwnPropertyNames(t))l(u,n,t[n]);else if(-1!==t.indexOf("."))t=t.split("."),n=t.splice(t.length-1,1)[0],l(d.get(u,t),n,g);else{n=u.__accessor__;if(null!=n&&c("esri-unknown-property-errors")&&null==n.metadatas[t])throw new b("set:unknown-property","setting unknown property '"+t+"' on instance of "+n.host.declaredClass);u[t]=g}}f.getLogger("esri.core.accessorSupport.set");
a.set=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Error":function(){define(["../chunks/_rollupPluginBabelHelpers","./lang","./Logger","./Message"],function(a,b,c,f){f=function(d){function l(u,t,g){var n=d.call(this,u,t,g)||this;return a._assertThisInitialized(n)instanceof l?n:new l(u,t,g)}a._inheritsLoose(l,d);l.prototype.toJSON=function(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(u,t)=>{if(t&&"object"===
typeof t&&"function"===typeof t.toJSON)return t;try{return b.clone(t)}catch(g){return"[object]"}}))}}catch(u){throw c.getLogger("esri.core.Error").error(u),u;}return{name:this.name,message:this.message,details:this.details}};l.fromJSON=function(u){return new l(u.name,u.message,u.details)};return l}(f);f.prototype.type="error";return f})},"esri/core/Message":function(){define(["./object"],function(a){function b(c,f){return c.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,function(d,l){if(""===l)return"$";
d=a.getDeepValue(l,f);d=null==d?"":d;if("undefined"===typeof d)throw Error(`could not find key "${l}" in template`);return d.toString()})}return function(){function c(f,d,l){this.name=f;this.details=l;this.message=void 0;this instanceof c&&(this.message=d&&b(d,l)||"")}c.prototype.toString=function(){return"["+this.name+"]: "+this.message};return c}()})},"esri/core/accessorSupport/watch":function(){define("exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ../SetUtils ../uid ./get ./trackingUtils ./utils".split(" "),
function(a,b,c,f,d,l,u,t,g,n){function m(B){y.delete(B);y.add(B);z||(z=d.schedule(q))}function r(B){if(!B.removed){var D=B.oldValue,G=B.getValue();B.equals(D,G)||(B.oldValue=G,B.notify(G,D))}}function q(){let B=10;for(;z&&B--;){z=null;const D=k(),G=w.acquire();for(const K of D){const M=K.uid;r(K);M===K.uid&&K.removed&&G.push(K)}for(const K of y)K.removed&&(G.push(K),y.delete(K));for(const K of G)A.pool.release(K);w.release(G);w.release(D);C.forEach(K=>K())}}function k(){const B=w.acquire();B.length=
y.size;let D=0;for(const G of y)B[D]=G,++D;y.clear();return B}function p(B,D,G){let K=n.parse(B,D,G,(M,N,I)=>{let F,E,J=g.reactionDeferred(()=>t.valueOf(M,N),(P,W)=>{M.__accessor__.destroyed||F&&F.uid!==E?K.remove():(F||(F=A.acquireUntracked(P,I,W,M,N),E=F.uid),m(F))});return{remove:n.once(()=>{J.remove();F&&(F.uid!==E||F.removed||(F.removed=!0,m(F)),F=null);K=J=null})}});return K}function e(B,D,G){const K=n.parse(B,D,G,(M,N,I)=>{let F=!1;return g.reaction(()=>t.valueOf(M,N),(E,J)=>{M.__accessor__.destroyed?
K.remove():F||(F=!0,c.equals(J,E)||I.call(M,E,J,N,M),F=!1)})});return K}function h(B,D,G){let K,M,N=g.reactionDeferred(B,(I,F)=>{K&&K.uid!==M?N.remove():(K||(K=A.acquireTracked(I,D,F,G),M=K.uid),m(K))});return{remove:n.once(()=>{N.remove();K&&(K.uid!==M||K.removed||(K.removed=!0,m(K)),K=null);N=null})}}function v(B,D,G){let K=!1;return g.reaction(B,(M,N)=>{K||(K=!0,G(N,M)||D(M,N),K=!1)})}var x;(function(B){B[B.Untracked=0]="Untracked";B[B.Tracked=1]="Tracked"})(x||(x={}));let A=function(){function B(){this.uid=
u.generateUID();this.removed=!1;this.equals=this.path=this.target=this.getValue=this.callback=this.oldValue=this.type=null}B.acquireUntracked=function(G,K,M,N,I){return this.pool.acquire(x.Untracked,G,K,M,N,I,c.equals)};B.acquireTracked=function(G,K,M,N){return this.pool.acquire(x.Tracked,G,K,M,null,null,N)};var D=B.prototype;D.notify=function(G,K){this.type===x.Untracked?this.callback.call(this.target,G,K,this.path,this.target):this.callback.call(null,G,K)};D.acquire=function(G,K,M,N,I,F,E){this.uid=
u.generateUID();this.removed=!1;this.type=G;this.oldValue=K;this.callback=M;this.getValue=N;this.target=I;this.path=F;this.equals=E};D.release=function(){this.target=this.path=this.oldValue=this.callback=this.getValue=null;this.uid=u.generateUID();this.removed=!0};return B}();A.pool=new f.ReentrantObjectPool(A);const w=new b,y=new Set;let z;const C=new Set;a.afterDispatch=function(B){C.add(B);return{remove(){C.delete(B)}}};a.dispatch=q;a.dispatchTarget=function(B){const D=Array.from(y);for(let G=
0;G<D.length;G++){const K=D[G];K.target===B&&(r(K),y.delete(K))}};a.isValueInUse=function(B){return l.someSet(y,D=>D.oldValue===B)};a.removeTarget=function(B){for(const D of y.values())D.target===B&&(D.removed=!0)};a.syncWatchTracked=v;a.watch=function(B,D,G,K=!1){return!B.__accessor__||B.__accessor__.destroyed?{remove(){}}:K?e(B,D,G):p(B,D,G)};a.watchTracked=function(B,D,G=!1,K=c.equals){return G?v(B,D,K):h(B,D,K)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/ReentrantObjectPool":function(){define(["exports",
"../chunks/_rollupPluginBabelHelpers","./maybe","./ObjectPool"],function(a,b,c,f){f=function(d){function l(){var t=d.apply(this,arguments)||this;t._set=new Set;return t}b._inheritsLoose(l,d);var u=l.prototype;u.destroy=function(){d.prototype.destroy.call(this);this._set=c.nullifyNonnullableForDispose(this._set)};u.acquire=function(...t){t=d.prototype.acquire.call(this,...t);this._set.delete(t);return t};u.release=function(t){t&&!this._set.has(t)&&(d.prototype.release.call(this,t),this._set.add(t))};
u._dispose=function(t){this._set.delete(t);d.prototype._dispose.call(this,t)};return l}(f);a.ReentrantObjectPool=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/scheduling":function(){define("exports ./maybe ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils ./time".split(" "),function(a,b,c,f,d,l,u){function t(){const B=performance.now();w=null;w=0<v.length?requestAnimationFrame(t):null;A.executeFrameTasks(B)}function g(){v.forAll(B=>{B.removed&&y.push(B)});v.removeUnorderedMany(y.data,
y.length);y.clear()}function n(){for(;h.length;){const B=b.assumeNonNull(h.shift());B.isActive&&B.callback()}A.willDispatch=!1}let m=function(B){this.phases=B;this.paused=!1;this.ticks=-1;this.removed=!1},r=function(){function B(D){this.callback=D;this.isActive=!0}B.prototype.remove=function(){this.isActive=!1};return B}(),q=0,k=0;const p={time:u.Milliseconds(0),deltaTime:u.Milliseconds(0),elapsedFrameTime:u.Milliseconds(0),frameDuration:u.Milliseconds(0)},e="prepare preRender render postRender update finish".split(" "),
h=[],v=new d;let x=function(){function B(G){this._task=G}var D=B.prototype;D.remove=function(){this._task.removed=!0};D.pause=function(){this._task.paused=!0};D.resume=function(){this._task.paused=!1};return B}();const A={frameTasks:v,willDispatch:!1,clearFrameTasks:function(B=!1){v.forAll(D=>{D.removed=!0});B&&g()},dispatch:n,executeFrameTasks:function(B){const D=u.Milliseconds(B-q);q=B;const G=0<k?k:1E3/60,K=Math.max(0,D-G);for(let M=0;M<e.length;M++){const N=performance.now(),I=e[M];v.forAll(F=>
{var E;F.paused||F.removed||(0===M&&F.ticks++,F.phases[I]&&(p.time=B,p.deltaTime=0===F.ticks?u.Milliseconds(0):D,p.elapsedFrameTime=u.Milliseconds(performance.now()-B),p.frameDuration=u.Milliseconds(G-K),null==(E=F.phases[I])?void 0:E.call(F,p)))});z[M].record(performance.now()-N)}g();C.record(performance.now()-B)}};let w=null;const y=new d,z=e.map(B=>new f(B)),C=new f("total");a.FrameTaskHandle=x;a.addFrameTask=function(B){B=new m(B);v.push(B);null==w&&(q=performance.now(),w=requestAnimationFrame(t));
return new x(B)};a.debug=A;a.performanceInfo=z;a.performanceTotal=C;a.schedule=function(B){B=new r(B);h.push(B);A.willDispatch||(A.willDispatch=!0,c.nextTick(n));return B};a.setFrameDuration=function(B){k=Math.max(0,B)};a.waitTicks=function(B=1,D){const G=l.createResolver(),K=()=>{l.isAborted(D)?G.reject(l.createAbortError()):0===B?G():(--B,c.nextTick(()=>K()))};K();return G.promise};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/nextTick":function(){define(["exports"],function(a){const b=
[];a.nextTick=function(c){b.push(c);1===b.length&&queueMicrotask(()=>{const f=b.slice();b.length=0;for(const d of f)d()})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/PerformanceSampler":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function b(c,f=29){this.name=c;this._counter=0;this._items=Array(f)}b.prototype.record=function(c){this._items[++this._counter%this._items.length]=c};a._createClass(b,[{key:"median",get:function(){return this._items.slice().sort((c,
f)=>c-f)[Math.floor(this._items.length/2)]}},{key:"average",get:function(){return this._items.reduce((c,f)=>c+f,0)/this._items.length}},{key:"last",get:function(){return this._items[this._counter%this._items.length]}}]);return b}()})},"esri/core/PooledArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./arrayUtils","./HeapSort"],function(a,b,c){function f(d){d.data.length>1.5*d.length&&(d.data.length=Math.floor(1.1*d.length))}return function(){function d(u){this.data=[];this._length=
0;this._allocator=void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=new b.PositionHint;u&&(u.initialSize&&(this.data=Array(u.initialSize)),u.allocator&&(this._allocator=u.allocator),void 0!==u.deallocator&&(this._deallocator=u.deallocator),u.shrink&&(this._shrink=()=>f(this)))}var l=d.prototype;l.toArray=function(){return this.data.slice(0,this.length)};l.filter=function(u){const t=[];for(let g=0;g<this._length;g++){const n=this.data[g];u(n)&&t.push(n)}return t};l.getItemAt=function(u){if(!(0>
u||u>=this._length))return this.data[u]};l.clear=function(){this.length=0};l.prune=function(){this.clear();this.data=[]};l.push=function(u){this.data[this._length++]=u};l.pushArray=function(u,t=u.length){for(let g=0;g<t;g++)this.data[this._length++]=u[g]};l.fill=function(u,t){for(let g=0;g<t;g++)this.data[this._length++]=u};l.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const u=this.data[this._length];++this._length;return u};l.unshift=function(u){this.data.unshift(u);
this._length++;f(this)};l.pop=function(){if(0!==this.length){var u=this.data[this.length-1];--this.length;this._shrink();return u}};l.remove=function(u){const t=b.indexOf(this.data,u,this.length,this._hint);if(-1!==t)return this.data.splice(t,1),--this.length,u};l.removeUnordered=function(u){u=b.removeUnordered(this.data,u,this.length,this._hint);void 0!==u&&--this.length;this._shrink();return u};l.removeUnorderedIndex=function(u){if(!(u>=this.length||0>u))return this.swapElements(u,this.length-1),
this.pop()};l.removeUnorderedMany=function(u,t=u.length,g){this.length=b.removeUnorderedMany(this.data,u,this.length,t,this._hint,g);this._shrink()};l.front=function(){if(0!==this.length)return this.data[0]};l.back=function(){if(0!==this.length)return this.data[this.length-1]};l.swapElements=function(u,t){u>=this.length||t>=this.length||u===t||([this.data[u],this.data[t]]=[this.data[t],this.data[u]])};l.sort=function(u){c.sort(this.data,0,this.length,u)};l.iterableSort=function(u){return c.iterableSort(this.data,
0,this.length,u)};l.some=function(u,t){for(let g=0;g<this.length;++g)if(u.call(t,this.data[g],g,this.data))return!0;return!1};l.filterInPlace=function(u,t){let g=0;for(let n=0;n<this._length;++n){const m=this.data[n];u.call(t,m,n,this.data)&&(this.data[n]=this.data[g],this.data[g]=m,g++)}if(this._deallocator)for(u=g;u<this._length;u++)this.data[u]=this._deallocator(this.data[u]);this._length=g;this._shrink();return this};l.forAll=function(u,t){const g=this.length,n=this.data;for(let m=0;m<g;++m)u.call(t,
n[m],m,n)};l.forEach=function(u,t){for(let g=0;g<this.length;++g)u.call(t,this.data[g],g,this.data)};l.map=function(u,t){const g=Array(this.length);for(let n=0;n<this.length;++n)g[n]=u.call(t,this.data[n],n,this.data);return g};l.reduce=function(u,t){for(let g=0;g<this.length;++g)t=u(t,this.data[g],g,this.data);return t};l.has=function(u){const t=this.length,g=this.data;for(let n=0;n<t;++n)if(g[n]===u)return!0;return!1};a._createClass(d,[{key:"length",get:function(){return this._length},set:function(u){if(u>
this._length)if(this._allocator)for(;this._length<u;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=u;else{if(this._deallocator)for(let t=u;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=u;this._shrink()}}}]);return d}()})},"esri/core/HeapSort":function(){define(function(){var a;(function(b){const c=(d,l,u,t)=>{let g=l;const n=u>>>1,m=d[g-1];for(;l<=n;){l=g<<1;l<u&&0>t(d[l-1],d[l])&&++l;const r=d[l-1];if(0>=t(r,m))break;d[g-1]=r;
g=l}d[g-1]=m},f=(d,l)=>d<l?-1:d>l?1:0;b.sort=function(d,l,u,t){void 0===l&&(l=0);void 0===u&&(u=d.length);void 0===t&&(t=f);for(var g=u>>>1;g>l;g--)c(d,g,u,t);g=l+1;for(--u;u>l;u--){const n=d[l];d[l]=d[u];d[u]=n;c(d,g,u,t)}};b.iterableSort=function*(d,l,u,t){void 0===l&&(l=0);void 0===u&&(u=d.length);void 0===t&&(t=f);for(var g=u>>>1;g>l;g--)c(d,g,u,t),yield;g=l+1;for(--u;u>l;u--){const n=d[l];d[l]=d[u];d[u]=n;c(d,g,u,t);yield}}})(a||(a={}));return a})},"esri/core/promiseUtils":function(){define("exports ./clock ./Error ./events ./Logger ./maybe".split(" "),
function(a,b,c,f,d,l){function u(x){return new Promise((A,w)=>{try{x(A,w)}catch(y){Promise.resolve().then(()=>w(y))}})}function t(x="Aborted"){return new c("AbortError",x)}function g(x,A="Aborted"){if(m(x))throw t(A);}function n(x){return l.isSome(x)?"aborted"in x?x:x.signal:x}function m(x){x=n(x);return l.isSome(x)&&x.aborted}function r(x,A){x=n(x);if(!l.isNone(x))if(x.aborted)A();else return f.once(x,"abort",()=>A())}function q(x){return x&&"AbortError"===x.name}function k(){let x=null;const A=
new Promise((w,y)=>{x={promise:void 0,resolve:w,reject:y}});x.promise=A;return x}function p(x){if(x){if("function"!==typeof x.forEach){const A=Object.keys(x),w=A.map(y=>x[y]);return p(w).then(y=>{const z={};A.forEach((C,B)=>z[C]=y[B]);return z})}return u(A=>{const w=[];let y=x.length;0===y&&A(w);x.forEach(z=>{const C={promise:z||Promise.resolve(z)};w.push(C);C.promise.then(B=>{C.value=B}).catch(B=>{C.error=B}).then(()=>{--y;0===y&&A(w)})})})}}function e(x,A,w){const y=new AbortController;r(w,()=>
y.abort());return new Promise((z,C)=>{let B=setTimeout(()=>{B=0;z(A)},x);r(y,()=>{B&&(clearTimeout(B),C(t()))})})}function h(x){return x&&"function"===typeof x.then}function v(x){return h(x)?x:Promise.resolve(x)}a.after=e;a.all=function(x){return Promise.all(x)};a.always=function(x,A){return x.then(A,A)};a.create=u;a.createAbortError=t;a.createDeferred=k;a.createResolver=function(){let x,A;const w=new Promise((z,C)=>{x=z;A=C}),y=z=>{x(z)};y.resolve=z=>x(z);y.reject=z=>A(z);y.timeout=(z,C)=>b.clock.setTimeout(()=>
y.reject(C),z);y.promise=w;return y};a.createTask=function(x,A){let w=new AbortController,y;x=x(w.signal);let z={promise:x,finished:!1,abort:()=>{w&&(w.abort(),w=null)}};const C=()=>{z&&(z.finished=!0,z=null);l.isSome(y)&&(y.remove(),y=null);w=null};x.then(C,C);y=r(A,()=>{l.isSome(z)&&z.abort()});return z};a.debounce=function(x,A=-1){let w,y,z,C,B=null;const D=(...G)=>{if(w){y=G;C&&C.reject(t());C=k();G=l.assumeNonNull(C.promise);if(B){var K=B;B=null;K.abort()}return G}z=C||k();C=null;if(0<A){const N=
new AbortController,I=w=v(x(...G,N.signal));e(A).then(()=>{w===I&&(C?N.abort():B=N)})}else w=1,w=v(x(...G));G=()=>{const N=y;y=z=w=B=null;null!=N&&D(...N)};K=w;const M=z;K.then(G,G);K.then(M.resolve,M.reject);return l.assumeNonNull(M.promise)};return D};a.eachAlways=p;a.eachAlwaysValues=function(x){return p(x).then(A=>A.filter(w=>!!w.value).map(w=>w.value))};a.filter=function(x,A){const w=x.slice();return Promise.all(x.map((y,z)=>A(y,z))).then(y=>w.filter((z,C)=>y[C]))};a.ignoreAbortErrors=function(x){return x.catch(A=>
{if(!q(A))throw A;})};a.isAbortError=q;a.isAborted=m;a.isPromiseLike=h;a.logOnError=function(x,A=d.getLogger("esri")){return x.catch(w=>{q(w)||A.error(w)})};a.onAbort=r;a.onAbortOrThrow=function(x,A){x=n(x);if(!l.isNone(x))return g(x),f.once(x,"abort",()=>A(t()))};a.reject=function(x){return Promise.reject(x)};a.resolve=function(x){return Promise.resolve(x)};a.throwIfAbortError=function(x){if(q(x))throw x;};a.throwIfAborted=g;a.throwIfNotAbortError=function(x){if(!q(x))throw x;};a.timeout=function(x,
A,w,y){const z=w&&"abort"in w?w:null;null!=y||z||(y=w);let C=setTimeout(()=>{C=0;z&&z.abort()},A);const B=()=>y||new c("promiseUtils:timeout","The wrapped promise did not resolve within "+A+" ms");return x.then(D=>{if(0===C)throw B();clearTimeout(C);return D},D=>{clearTimeout(C);throw 0===C?B():D;})};a.waitTick=function(x){return Promise.resolve().then(()=>{g(x)})};a.when=v;a.whenOrAbort=function(x,A){const w=n(A);return l.isNone(w)?x:new Promise((y,z)=>{let C=r(A,()=>z(t()));const B=()=>C=l.removeMaybe(C);
x.then(B,B);x.then(y,z)})};a.whenOrTimeout=function(x,A,w){return Promise.race([x,e(A).then(()=>{throw new c("timeout",`Did not resolve within ${A} milliseconds (${null!=w?w:"timeout"})`);})])};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/clock":function(){define(["exports"],function(a){function b(f){return{setTimeout:(d,l)=>{const u=f.setTimeout(d,l);return{remove:()=>f.clearTimeout(u)}}}}const c=b(globalThis);a.clock=c;a.wrap=b;Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/core/events":function(){define(["exports"],function(a){function b(d){return d&&("function"===typeof d.on||"function"===typeof d.addEventListener)}function c(d,l,u){if(!b(d))throw new TypeError("target is not a Evented or EventTarget object");if("on"in d)return d.on(l,u);if(Array.isArray(l)){const t=l.slice();for(const g of t)d.addEventListener(g,u);return{remove(){for(const g of t)d.removeEventListener(g,u)}}}d.addEventListener(l,u);return{remove(){d.removeEventListener(l,u)}}}const f={Win:"Meta",
Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function({key:d}){return f[d]||d};a.ieKeyNormalizationMap=f;a.isEventTarget=b;a.on=c;a.once=function(d,l,u){if(!b(d))throw new TypeError("target is not a Evented or EventTarget object");if("once"in d)return d.once(l,u);const t=c(d,l,g=>{t.remove();u.call(d,g)});return{remove(){t.remove()}}};
a.pausable=function(d,l,u){let t=!1;const g=c(d,l,n=>{t||u.call(d,n)});return{resume(){t=!1},pause(){t=!0},remove(){g.remove()}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/time":function(){define(["exports"],function(a){a.Milliseconds=function(b){return b};a.Seconds=function(b){return b};a.millisecondsFromSeconds=function(b){return 1E3*b};a.secondsFromMilliseconds=function(b){return.001*b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/SetUtils":function(){define(["exports",
"./maybe"],function(a,b){a.someSet=function(c,f){for(const d of c.entries())if(f(d[0]))return!0;return!1};a.union=function(c,f){const d=new Set;b.isSome(c)&&c.forEach(l=>d.add(l));b.isSome(f)&&f.forEach(l=>d.add(l));return d};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/uid":function(){define(["exports"],function(a){let b=0;a.NullUID=0;a.generateUID=function(){return++b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/trackingUtils":function(){define(["exports",
"./tracking","./tracking/SimpleTrackingTarget"],function(a,b,c){let f=!1;const d=[];a.autorun=function(l){function u(){if(t&&!g)if(f)d.includes(u)||d.unshift(u);else for(t.clear(),g=f=!0,b.runTracked(t,l),f=g=!1;d.length;)d.pop()()}let t=new c.SimpleTrackingTarget(u),g=!1;g=!0;b.runTracked(t,l);g=!1;return{remove:function(){t&&(t.destroy(),t=null)}}};a.reaction=function(l,u){function t(){if(g&&!m)if(f)d.includes(t)||d.unshift(t);else{var r=n;g.clear();m=f=!0;n=b.runTracked(g,l);f=m=!1;for(u(n,r);d.length;)d.pop()()}}
let g=new c.SimpleTrackingTarget(t),n=null,m=!1;m=!0;n=b.runTracked(g,l);m=!1;return{remove:function(){g&&(g.destroy(),n=g=null)}}};a.reactionDeferred=function(l,u){function t(){if(!g)return null;g.clear();return n=b.runTracked(g,l)}let g=new c.SimpleTrackingTarget(function(){u(n,t)}),n=null;t();return{remove:function(){g&&(g.destroy(),g=null);n=null}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports"],function(a){let b=
function(){function c(d){this._notify=d;this._accessed=[];this._handles=[];this._invalidCount=0}var f=c.prototype;f.destroy=function(){this._accessed.length=0;this.clear()};f.onInvalidated=function(){this._invalidCount++};f.onCommitted=function(){const d=this._invalidCount;1===d?(this._invalidCount=0,this._notify()):this._invalidCount=0<d?d-1:0};f.onObservableAccessed=function(d){this._accessed.includes(d)||this._accessed.push(d)};f.onTrackingEnd=function(){const d=this._handles,l=this._accessed;
for(let u=0;u<l.length;++u)d.push(l[u].observe(this));l.length=0};f.clear=function(){const d=this._handles;for(let l=0;l<d.length;++l)d[l].remove();d.length=0};return c}();a.SimpleTrackingTarget=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(a,b,c,f,d,l){function u(g){let n=0;var m=g;if(c.isLongFormType(g))return c.ensureLongFormType(g);for(;Array.isArray(m)&&
1===m.length&&"string"!==typeof m[0]&&"number"!==typeof m[0];)m=m[0],n++;return c.isOneOf(m)?0===n?c.ensureOneOf(m):c.ensureNArrayTyped(c.ensureOneOf(m),n):1===n?c.ensureArray(m):1<n?c.ensureNArray(m,n):g.from?g.from:c.ensureType(g)}function t(g,n){return m=>{m=+g(m);null!=n.step&&(m=Math.round(m/n.step)*n.step);null!=n.min&&(m=Math.max(n.min,m));null!=n.max&&(m=Math.min(n.max,m));return m}}a.ensureRange=t;a.property=function(g={}){return(n,m)=>{if(n===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${n.name}.${m}. Accessor does not support static properties.`);
var r=Object.getOwnPropertyDescriptor(n,m);const q=d.getOwnPropertyMetadata(n,m);r&&(r.get||r.set?(q.get=r.get||q.get,q.set=r.set||q.set):"value"in r&&("value"in g&&b.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${m}" on "${n.constructor.name}" already defined in the metadata`,g),q.value=g.value=r.value));null!=g.readOnly&&(q.readOnly=g.readOnly);if(n=g.aliasOf){const k="string"===typeof n?n:n.source;n="string"===typeof n?null:!0===n.overridable;
let p;q.dependsOn=[k];q.get=function(){let e=f.get(this,k);if("function"===typeof e){p||(p=k.split(".").slice(0,-1).join("."));const h=f.get(this,p);h&&(e=e.bind(h))}return e};q.readOnly||(q.set=n?function(e){void 0!==e?this._override(m,e):this._clearOverride(m)}:function(e){l.set(this,k,e)})}n=g.type;r=g.types;q.cast||(n?q.cast=u(n):r&&(Array.isArray(r)?q.cast=c.ensureArrayTyped(c.ensureOneOfType(r[0])):q.cast=c.ensureOneOfType(r)));g.range&&(q.cast=t(q.cast,g.range));d.mergeProperty(q,g)}};a.propertyJSONMeta=
function(g,n,m){g=d.getOwnPropertyMetadata(g,m);g.json||(g.json={});g=g.json;void 0!==n&&(g.origins||(g.origins={}),g.origins[n]||(g.origins[n]={}),g=g.origins[n]);return g};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger","../MapUtils"],function(a,b,c,f){function d(I){return null==I?I:new Date(I)}function l(I){return null==I?I:!!I}function u(I){return null==I?I:I.toString()}function t(I){if(null==I)return I;
I=parseFloat(I);return isNaN(I)?0:I}function g(I){return null==I?I:Math.round(parseFloat(I))}function n(I){return I&&I.constructor&&void 0!==I.constructor.__accessorMetadata__}function m(I,F){return null!=F&&I&&!(F instanceof I)}function r(I){return I&&I.Type?"function"===typeof I.Type?I.Type:I.Type.base:null}function q(I,F){var E;(E=!F||!F.constructor)||(E=F.constructor,E=!(E&&"isCollection"in E));if(E)return k(I,F)?F:new I(F);E=r(I.prototype.itemType);const J=r(F.constructor.prototype.itemType);
if(!E)return F;if(!J)return new I(F);if(E===J)return F;if(E.prototype.isPrototypeOf(J.prototype))return new I(F);k(I,F);return F}function k(I,F){return n(F)?(K.error("Accessor#set","Assigning an instance of '"+(F.declaredClass||"unknown")+"' which is not a subclass of '"+e(I)+"'"),!0):!1}function p(I,F){return null==F?F:I&&"isCollection"in I?q(I,F):m(I,F)?k(I,F)?F:new I(F):F}function e(I){return I&&I.prototype&&I.prototype.declaredClass||"unknown"}function h(I){switch(I){case Number:return t;case N:return g;
case Boolean:return l;case String:return u;case Date:return d;default:return f.getOrCreateMapValue(M,I,()=>p.bind(null,I))}}function v(I,F){const E=h(I);return 1===arguments.length?E:E(F)}function x(I,F,E){return 1===arguments.length?x.bind(null,I):F?Array.isArray(F)?F.map(J=>I(J,E)):[I(F,E)]:F}function A(I,F,E){return 0!==F&&Array.isArray(E)?E.map(J=>A(I,F-1,J)):I(E)}function w(I,F,E){if(2===arguments.length)return w.bind(null,I,F);if(!E)return E;E=A(I,F,E);let J=F;for(var P=E;0<J&&Array.isArray(P);)J--,
P=P[0];if(void 0!==P)for(P=0;P<J;P++)E=[E];return E}function y(I,F){if(2===arguments.length)return y(I).call(null,F);const E=new Set,J=I.filter(Y=>"function"!==typeof Y),P=I.filter(Y=>"function"===typeof Y);for(const Y of I)"string"!==typeof Y&&"number"!==typeof Y||E.add(Y);let W=null,Z=null;return(Y,S)=>{if(null==Y)return Y;const qa=typeof Y,xa="string"===qa||"number"===qa;if(xa&&(E.has(Y)||P.some(Fa=>"string"===qa&&Fa===String||"number"===qa&&Fa===Number))||"object"===qa&&P.some(Fa=>!m(Y,Fa)))return Y;
xa&&J.length?(W||(W=J.map(Fa=>"string"===typeof Fa?`'${Fa}'`:`${Fa}`).join(", ")),K.error("Accessor#set",`'${Y}' is not a valid value for this property, only the following values are valid: ${W}`)):"object"===typeof Y&&P.length?(Z||(Z=P.map(Fa=>e(Fa)).join(", ")),K.error("Accessor#set",`'${Y}' is not a valid value for this property, value must be one of ${Z}`)):K.error("Accessor#set",`'${Y}' is not a valid value for this property`);S&&(S.valid=!1);return null}}function z(I,F){if(2===arguments.length)return z(I).call(null,
F);const E={},J=[],P=[];for(const Z in I.typeMap){const Y=I.typeMap[Z];E[Z]=v(Y);J.push(e(Y));P.push(Z)}const W="string"===typeof I.key?Z=>Z[I.key]:I.key;return Z=>{if(I.base&&!m(I.base,Z)||null==Z)return Z;var Y=W(Z)||I.defaultKeyValue;const S=E[Y];if(!S)return K.error("Accessor#set",`Invalid property value, value needs to be one of ${`'${J.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${P.join("', '")}'`})`),null;if(!m(I.typeMap[Y],Z))return Z;if("string"===typeof I.key&&
!n(Z)){Y={};for(const qa in Z)qa!==I.key&&(Y[qa]=Z[qa]);return S(Y)}return S(Z)}}function C(I){switch(I.type){case "native":return v(I.value);case "array":return x(C(I.value));case "one-of":return B(I);default:return null}}function B(I){let F=null;return(E,J)=>{if(G(E,I))return E;null==F&&(F=D(I));K.error("Accessor#set",`Invalid property value, value needs to be of type ${F}`);J&&(J.valid=!1);return null}}function D(I){switch(I.type){case "native":switch(I.value){case Number:return"number";case String:return"string";
case Boolean:return"boolean";case N:return"integer";case Date:return"date";default:return e(I.value)}case "array":return`array of ${D(I.value)}`;case "one-of":return I=I.values.map(F=>D(F)),`one of ${I.slice(0,I.length-1)} or ${I[I.length-1]}`}return"unknown"}function G(I,F){if(null==I)return!0;switch(F.type){case "native":switch(F.value){case Number:case N:return"number"===typeof I;case Boolean:return"boolean"===typeof I;case String:return"string"===typeof I}return I instanceof F.value;case "array":return Array.isArray(I)?
!I.some(E=>!G(E,F.value)):!1;case "one-of":return F.values.some(E=>G(I,E))}}const K=c.getLogger("esri.core.Accessor"),M=new WeakMap;let N=function(){};a.Integer=N;a.ensureArray=function(I,F){return 1===arguments.length?x(v.bind(null,I)):x(v.bind(null,I),F)};a.ensureArrayTyped=x;a.ensureBoolean=l;a.ensureClass=p;a.ensureDate=d;a.ensureInteger=g;a.ensureLongFormType=C;a.ensureNArray=function(I,F,E){return 2===arguments.length?w(v.bind(null,I),F):w(v.bind(null,I),F,E)};a.ensureNArrayTyped=w;a.ensureNumber=
t;a.ensureOneOf=y;a.ensureOneOfType=z;a.ensureString=u;a.ensureType=v;a.isClassedType=n;a.isLongFormType=function(I){if(!(I&&"type"in I))return!1;switch(I.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(I){return Array.isArray(I)?!I.some(F=>{F=typeof F;return!("string"===F||"number"===F||"function"===F&&1<I.length)}):!1};a.requiresType=m;a.types={native(I){return{type:"native",value:I}},array(I){return{type:"array",value:I}},oneOf(I){return{type:"one-of",values:I}}};
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/MapUtils":function(){define(["exports"],function(a){a.findInMap=function(b,c){for(const [f,d]of b)if(c(d,f))return d;return null};a.first=function(b){b=b.values().next();return!0!==b.done?b.value:null};a.getOrCreateMapValue=function(b,c,f){const d=b.get(c);if(void 0!==d)return d;f=f();b.set(c,f);return f};a.someMap=function(b,c){for(const [f,d]of b)if(c(d,f))return!0;return!1};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/subclass":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../has ../interfaces ../metadata ../tracking ../extensions/serializableProperty".split(" "),
function(a,b,c,f,d,l,u){function t(r,q){return null==q.get?function(){const k=this.__accessor__.properties.get(r);if(void 0!==k){l.trackAccess(k);var p=this.__accessor__.store;return p.has(r)?p.get(r):k.metadata.value}}:function(){const k=this.__accessor__.properties.get(r);if(void 0!==k)return k.getComputed()}}function g(r){const q=d.getOwnClassMetadata(r.prototype).properties,k={};for(const p of Object.getOwnPropertyNames(q)){const e=q[p];u.processPrototypePropertyMetadata(e);k[p]={enumerable:!0,
configurable:!0,get:t(p,e),set(h){const v=this.__accessor__;if(void 0===v)Object.defineProperty(this,p,{enumerable:!0,configurable:!0,writable:!0,value:h});else if(!Object.isFrozen(this)){if(v.initialized&&e.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${p}' of ${this.declaredClass}`);if(v.lifecycle===f.Lifecycle.CONSTRUCTED&&e.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${p}' of ${this.declaredClass}`);v.set(p,h)}}}}Object.defineProperties(r.prototype,
k)}const n=new Set,m=new Set;a.finalizeClass=g;a.subclass=function(r){return q=>{q.prototype.declaredClass=r;g(q);const k=[],p=[];for(var e=q.prototype;e;)e.hasOwnProperty("initialize")&&!n.has(e.initialize)&&(n.add(e.initialize),k.push(e.initialize)),e.hasOwnProperty("destroy")&&!m.has(e.destroy)&&(m.add(e.destroy),p.push(e.destroy)),e=Object.getPrototypeOf(e);n.clear();m.clear();e=function(h){function v(...x){var A=h.call(this,...x)||this;if(A.constructor===v&&"function"===typeof A.postscript){k.length&&
Object.defineProperty(b._assertThisInitialized(A),"initialize",{enumerable:!1,configurable:!0,value(){for(let w=k.length-1;0<=w;w--)k[w].call(this)}});if(p.length){let w=!1;Object.defineProperty(b._assertThisInitialized(A),"destroy",{enumerable:!1,configurable:!0,value(){if(!w){w=!0;for(let y=0;y<p.length;y++)p[y].call(this)}}})}A.postscript(...x)}return A}b._inheritsLoose(v,h);return v}(q);e.__accessorMetadata__=d.getOwnClassMetadata(q.prototype);e.prototype.declaredClass=r;return e}};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(a,b,c,f,d,l){function u(n,m,r){let q=n&&n.json;n&&n.json&&n.json.origins&&r&&(n=n.json.origins[r.origin])&&("any"===m||m in n)&&(q=n);return q}function t(n){if(n.type){var m=0;for(n=n.type;Array.isArray(n)&&!b.isOneOf(n);)n=
n[0],m++;return{type:n,ndimArray:m}}}function g(n){if(n.types){var m=0;for(n=n.types;Array.isArray(n);)n=n[0],m++;return{types:n,ndimArray:m}}}a.originSpecificPropertyDefinition=u;a.originSpecificReadPropertyDefinition=function(n,m){return u(n,"read",m)};a.originSpecificWritePropertyDefinition=function(n,m){return u(n,"write",m)};a.processPrototypePropertyMetadata=function(n){if(d.process(n)){c.process(n);var m=n.json.types?g(n.json):n.type?t(n):g(n);if(n.json.origins)for(const q in n.json.origins){const k=
n.json.origins[q];if(k.types){var r=k;r=r.type?t(r):g(r)}else r=m;f.create(r,k,!1);k.types&&!k.write&&n.json.write&&n.json.write.enabled&&(k.write={...n.json.write});l.create(r,k)}f.create(m,n.json,!0);l.create(m,n.json)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],function(a){a.process=function(b){if(b.json&&b.json.origins){const c=b.json.origins;b={"web-document":["web-scene","web-map"]};
for(const f in b)if(c[f]){const d=c[f];b[f].forEach(l=>{c[l]=d});delete c[f]}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),function(a,b,c,f,d,l){function u(v){var x;const A=null!=(x=v.ndimArray)?x:0;if(1<A)return m(v);if(1===A)return r(v);if("type"in v&&q(v.type)){var w,y;x=null==(w=v.type.prototype)?void 0:null==
(y=w.itemType)?void 0:y.Type;const z=r("function"===typeof x?{type:x}:{types:x});return(C,B,D)=>(C=z(C,B,D))?new v.type(C):C}return t(v)}function t(v){return"type"in v?g(v.type):e(v.types)}function g(v){return v.prototype.read?(x,A,w)=>{if(null==x)return x;A=typeof x;if("object"!==A)h.error(`Expected JSON value of type 'object' to deserialize type '${v.prototype.declaredClass}', but got '${A}'`);else return A=new v,A.read(x,w),A}:v.fromJSON}function n(v,x,A,w){return 0!==w&&Array.isArray(x)?x.map(y=>
n(v,y,A,w-1)):v(x,void 0,A)}function m(v){var x;const A=t(v),w=n.bind(null,A),y=null!=(x=v.ndimArray)?x:0;return(z,C,B)=>{if(null==z)return z;z=w(z,B,y);C=y;for(B=z;0<C&&Array.isArray(B);)C--,B=B[0];if(void 0!==B)for(B=0;B<C;B++)z=[z];return z}}function r(v){const x=t(v);return(A,w,y)=>{if(null==A)return A;if(Array.isArray(A)){w=[];for(const z of A)A=x(z,void 0,y),void 0!==A&&w.push(A);return w}y=x(A,void 0,y);return void 0!==y?[y]:void 0}}function q(v){return l.isCollection(v)?(v=v.prototype.itemType)&&
v.Type?"function"===typeof v.Type?k(v.Type):p(v.Type):!1:!1}function k(v){return Array.isArray(v)?!1:!!v&&v.prototype&&("read"in v.prototype||"fromJSON"in v||q(v))}function p(v){for(const x in v.typeMap)if(!k(v.typeMap[x]))return!1;return!0}function e(v){var x;let A=null;const w=null!=(x=v.errorContext)?x:"type";return(y,z,C)=>{if(null==y)return y;z=typeof y;if("object"!==z)h.error(`Expected JSON value of type 'object' to deserialize, but got '${z}'`);else{if(!A){z={};for(const M in v.typeMap){var B,
D;const N=v.typeMap[M];var G=d.getOwnClassMetadata(N.prototype);if("function"===typeof v.key)continue;G=G.properties[v.key];if(!G)continue;null!=(B=G.json)&&B.type&&Array.isArray(G.json.type)&&1===G.json.type.length&&"string"===typeof G.json.type[0]&&(z[G.json.type[0]]=N);G=null==(D=G.json)?void 0:D.write;if(!G||!G.writer){z[M]=N;continue}var K=G.target;K="string"===typeof K?K:v.key;const I={};G.writer(M,I,K);I[K]&&(z[I[K]]=N)}A=z}B=v.key;if("string"===typeof B){if(D=(B=y[B])?A[B]:v.defaultKeyValue?
v.typeMap[v.defaultKeyValue]:void 0)return B=new D,B.read(y,C),B;B=`Type '${B||"unknown"}' is not supported`;C&&C.messages&&y&&C.messages.push(new f(`${w}:unsupported`,B,{definition:y,context:C}));h.error(B)}}}}const h=b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=function(v,x,A){var w,y;!v||!A&&!x.read||null!=(w=x.read)&&w.reader||!1===(null==(y=x.read)?void 0:y.enabled)||(A="types"in v?p(v.types):k(v.type),A&&c.setDeepValue("read.reader",u(v),x))};a.createTypeReader=
u;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Warning":function(){define(["../chunks/_rollupPluginBabelHelpers","./Message"],function(a,b){b=function(c){function f(d,l,u){var t=c.call(this,d,l,u)||this;return a._assertThisInitialized(t)instanceof f?t:new f(d,l,u)}a._inheritsLoose(f,c);return f}(b);b.prototype.type="warning";return b})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],function(a){a.isCollection=function(b){return!!b&&
b.prototype&&b.prototype.declaredClass&&0===b.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],function(a){function b(d){d.name&&(d.read?"object"===typeof d.read?void 0===d.read.source&&(d.read.source=d.name):d.read={source:d.name}:d.read={source:d.name},d.write?"object"===typeof d.write?void 0===d.write.target&&(d.write.target=d.name):d.write=
{target:d.name}:d.write={target:d.name})}function c(d){"boolean"===typeof d.read?d.read={enabled:d.read}:"function"===typeof d.read?d.read={enabled:!0,reader:d.read}:d.read&&"object"===typeof d.read&&void 0===d.read.enabled&&(d.read.enabled=!0)}function f(d){"boolean"===typeof d.write?d.write={enabled:d.write}:"function"===typeof d.write?d.write={enabled:!0,writer:d.write}:d.write&&"object"===typeof d.write&&void 0===d.write.enabled&&(d.write.enabled=!0)}a.process=function(d){d.json||(d.json={});
c(d.json);f(d.json);b(d.json);if(d.json.origins)for(const l in d.json.origins)c(d.json.origins[l]),f(d.json.origins[l]),b(d.json.origins[l]);return!0};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports","../../../Error","../../../Logger","../../../object","./type"],function(a,b,c,f,d){function l(e){return(h,v,x,A)=>{if(!h||u(h,e,A))return g(h,v,x,A)}}function u(e,h,v){for(var x in h.typeMap)if(e instanceof
h.typeMap[x])return!0;if(null!=v&&v.messages){var A,w;x=null!=(A=h.errorContext)?A:"type";h=`Values of type '${null!=(w="function"!==typeof h.key?e[h.key]:e.declaredClass)?w:"Unknown"}' cannot be written`;v&&v.messages&&e&&v.messages.push(new b(`${x}:unsupported`,h,{definition:e,context:v}));p.error(h)}return!1}function t(e){return(h,v,x,A)=>{if(!h||!Array.isArray(h))return g(h,v,x,A);h=h.filter(w=>u(w,e,A));return g(h,v,x,A)}}function g(e,h,v,x){f.setDeepValue(v,n(e,x),h)}function n(e,h){return e&&
"function"===typeof e.write?e.write({},h):e&&"function"===typeof e.toJSON?e.toJSON():"number"===typeof e?m(e):e}function m(e){return-Infinity===e?-Number.MAX_VALUE:Infinity===e?Number.MAX_VALUE:isNaN(e)?null:e}function r(e,h,v,x){null===e?e=null:e&&"function"===typeof e.map?(e=e.map(A=>n(A,x)),"function"===typeof e.toArray&&(e=e.toArray())):e=[n(e,x)];f.setDeepValue(v,e,h)}function q(e,h,v){return 0!==v&&Array.isArray(e)?e.map(x=>q(x,h,v-1)):n(e,h)}function k(e){return function(h,v,x,A){if(null===
h)h=null;else{h=q(h,A,e);A=e;for(var w=h;0<A&&Array.isArray(w);)A--,w=w[0];if(void 0!==w)for(w=0;w<A;w++)h=[h]}f.setDeepValue(x,h,v)}}const p=c.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");a.create=function(e,h){var v;if(h.write&&!h.write.writer&&(!1!==h.write.enabled||h.write.overridePolicy)){var x=null!=(v=null==e?void 0:e.ndimArray)?v:0;e&&(1===x||"type"in e&&d.isCollection(e.type))?h.write.writer=r:1<x?h.write.writer=k(x):h.types?Array.isArray(h.types)?h.write.writer=
t(h.types[0]):h.write.writer=l(h.types):h.write.writer=g}};a.numberToJSON=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/ObservableChangesType":function(){define(["exports"],function(a){a.ObservableChangesType=void 0;var b=a.ObservableChangesType||(a.ObservableChangesType={});b[b.ADD=1]="ADD";b[b.REMOVE=2]="REMOVE";b[b.MOVE=4]="MOVE";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/shared":function(){define(["exports"],function(a){a.shared=
function(b){return(c,f)=>{c[f]=b}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","./ObservationHandle"],function(a,b){let c=function(){function f(){this._observers=[]}var d=f.prototype;d.observe=function(l){this._observers.includes(l)||this._observers.push(l);return new b.ObservationHandle(this._observers,l)};d.notify=function(){const l=this._observers.slice();for(let u=0;u<l.length;++u){const t=l[u];t.onInvalidated();
t.onCommitted()}};return f}();a.SimpleObservable=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],function(a,b){a.castForReferenceSetter=function(c){return c};a.referenceSetter=function(c,f,d=b){f||(f=new d);if(f===c)return f;f.removeAll();c&&(Array.isArray(c)||"items"in c&&Array.isArray(c.items))?f.addMany(c):c&&f.add(c);return f};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/JSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./accessorSupport/DefaultsStore ./accessorSupport/defaultsStoreUtils ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){const r=q=>{q=function(k){function p(...h){h=k.call(this,...h)||this;const v=d.assumeNonNull(g.getProperties(b._assertThisInitialized(h))),x=v.store,A=new l.DefaultsStore;v.store=A;u.setupConstructedDefaults(v,x,A);return h}b._inheritsLoose(p,k);var e=p.prototype;e.read=function(h,v){t.read(this,h,v)};e.write=function(h={},v){return n.write(this,h,v)};e.toJSON=function(h){return this.write({},h)};p.fromJSON=function(h,v){if(h){if(h.declaredClass)throw Error("JSON object is already hydrated");
var x=new this;x.read(h,v);h=x}else h=null;return h};return p}(q);q=c.__decorate([m.subclass("esri.core.JSONSupport")],q);q.prototype.toJSON.isDefaultToJSON=!0;return q};a.JSONSupport=function(q){function k(){return q.apply(this,arguments)||this}b._inheritsLoose(k,q);return k}(r(f));a.JSONSupport=c.__decorate([m.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=r;a.isJSONSupport=function(q){return q&&"read"in q&&"write"in q&&"toJSON"in q};Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/core/accessorSupport/DefaultsStore":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,c){let f=function(){function l(){this._values=new Map;this.multipleOriginsSupported=!1}var u=l.prototype;u.clone=function(t){const g=new l;this._values.forEach((n,m)=>{t&&t.has(m)||g.set(m,b.clone(n.value),n.origin)});return g};u.get=function(t,g){g=this._normalizeOrigin(g);t=this._values.get(t);return null==g||(null==t?void 0:t.origin)===g?null==t?void 0:t.value:void 0};u.originOf=function(t){var g,
n;return null!=(g=null==(n=this._values.get(t))?void 0:n.origin)?g:c.OriginId.USER};u.keys=function(t){t=this._normalizeOrigin(t);const g=[...this._values.keys()];return null==t?g:g.filter(n=>{var m;return(null==(m=this._values.get(n))?void 0:m.origin)===t})};u.set=function(t,g,n){n=this._normalizeOrigin(n);if(n===c.OriginId.DEFAULTS){const m=this._values.get(t);if(m&&null!=m.origin&&m.origin>n)return}this._values.set(t,new d(g,n))};u.delete=function(t,g){var n;g=this._normalizeOrigin(g);null!=g&&
(null==(n=this._values.get(t))?void 0:n.origin)!==g||this._values.delete(t)};u.has=function(t,g){g=this._normalizeOrigin(g);if(null!=g){var n;return(null==(n=this._values.get(t))?void 0:n.origin)===g}return this._values.has(t)};u.forEach=function(t){this._values.forEach(({value:g},n)=>t(g,n))};u._normalizeOrigin=function(t){if(null!=t)return t===c.OriginId.DEFAULTS?t:c.OriginId.USER};return l}(),d=function(l,u){this.value=l;this.origin=u};a.DefaultsStore=f;Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/core/accessorSupport/defaultsStoreUtils":function(){define(["exports","./PropertyOrigin"],function(a,b){a.setupConstructedDefaults=function(c,f,d){f.keys().forEach(l=>{d.set(l,f.get(l),b.OriginId.DEFAULTS)});Object.keys(c.metadatas).forEach(l=>{c.internalGet(l)&&d.set(l,c.internalGet(l),b.OriginId.DEFAULTS)})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils","./extensions/serializableProperty"],function(a,b,c,
f){const d={origin:"service"};a.read=function(l,u,t=d){if(u&&"object"===typeof u){var g=c.getProperties(l),n=g.metadatas,m={};for(const w of Object.getOwnPropertyNames(u)){var r=m,q=n,k=w,p=u,e=t,h=f.originSpecificReadPropertyDefinition(q[k],e);h&&(!h.read||!1!==h.read.enabled&&!h.read.source)&&(r[k]=!0);for(const y of Object.getOwnPropertyNames(q)){h=f.originSpecificReadPropertyDefinition(q[y],e);a:{var v=k;var x=p;if(h&&h.read&&!1!==h.read.enabled&&h.read.source){h=h.read.source;if("string"===typeof h){if(h===
v||-1<h.indexOf(".")&&0===h.indexOf(v)&&b.exists(h,x)){v=!0;break a}}else for(const z of h)if(z===v||-1<z.indexOf(".")&&0===z.indexOf(v)&&b.exists(z,x)){v=!0;break a}v=!1}else v=!1}v&&(r[y]=!0)}}g.setDefaultOrigin(t.origin);for(var A of Object.getOwnPropertyNames(m))q=(q=(r=f.originSpecificReadPropertyDefinition(n[A],t).read)&&r.source)&&"string"===typeof q?b.valueOf(u,q):u[A],r&&r.reader&&(q=r.reader.call(l,q,u,t)),void 0!==q&&g.set(A,q);if(!t||!t.ignoreDefaults){g.setDefaultOrigin("defaults");for(const w of Object.getOwnPropertyNames(n))m[w]||
(A=l,u=w,n=g,r=t,q=(q=f.originSpecificPropertyDefinition(n.metadatas[u],"any",r))&&q.default,void 0!==q&&(A="function"===typeof q?q.call(A,u,r):q,void 0!==A&&n.set(u,A)))}g.setDefaultOrigin("user")}};a.readLoadable=function(l,u,t,g=d){var n;u={...g,messages:[]};t(u);null==(n=u.messages)?void 0:n.forEach(m=>{"warning"!==m.type||l.loaded?g&&g.messages&&g.messages.push(m):l.loadWarnings.push(m)})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/write":function(){define("exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),
function(a,b,c,f,d,l,u){function t(m,r,q,k,p){var e,h;const v={};null==(e=r.write)?void 0:null==(h=e.writer)?void 0:h.call(m,k,v,q,p);return v}function g(m,r,q,k,p,e){if(!k||!k.write)return!1;const h=m.get(q);if(!p&&k.write.overridePolicy){var v=k.write.overridePolicy.call(m,h,q,e);void 0!==v&&(p=v)}p||(p=k.write);if(!p||!1===p.enabled)return!1;if((null===h&&!p.allowNull&&!p.writerEnsuresNonNull||void 0===h)&&p.isRequired)return(r=new c("web-document-write:property-required",`Missing value for required property '${q}' on '${m.declaredClass}'`,
{propertyName:q,target:m}),e)&&e.messages?e.messages.push(r):r&&!e&&n.error(r.name,r.message),!1;if(void 0===h||null===h&&!p.allowNull&&!p.writerEnsuresNonNull)return!1;if(v=!r.store.multipleOriginsSupported||r.store.originOf(q)===d.OriginId.DEFAULTS)v=k.default,void 0===v?v=!1:null!=k.defaultEquals?v=k.defaultEquals(h):"function"===typeof v?Array.isArray(h)?(m=v.call(m,q,e),v=b.equals(m,h)):v=!1:v=v===h;return v||!p.ignoreOrigin&&e&&e.origin&&r.store.multipleOriginsSupported&&r.store.originOf(q)<
d.nameToId(e.origin)?!1:!0}const n=f.getLogger("esri.core.accessorSupport.write");a.willPropertyWrite=function(m,r,q,k){const p=l.getProperties(m),e=u.originSpecificWritePropertyDefinition(p.metadatas[r],k);return e?g(m,p,r,e,q,k):!1};a.write=function(m,r,q){if(m&&"function"===typeof m.toJSON&&(!m.toJSON.isDefaultToJSON||!m.write))return l.merge(r,m.toJSON());const k=l.getProperties(m),p=k.metadatas;for(const v in p){const x=u.originSpecificWritePropertyDefinition(p[v],q);if(!g(m,k,v,x,void 0,q))continue;
const A=m.get(v),w=t(m,x,x.write&&"string"===typeof x.write.target?x.write.target:v,A,q);if(0<Object.keys(w).length){var e,h;r=l.merge(r,w);null!=q&&null!=(e=q.resources)&&null!=(h=e.pendingOperations)&&h.length&&Promise.all(q.resources.pendingOperations).then(()=>l.merge(r,w));q&&q.writtenProperties&&q.writtenProperties.push({target:m,propName:v,oldOrigin:d.idToReadableName(k.store.originOf(v)),newOrigin:q.origin})}}return r};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Loadable":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Error ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){const g=n=>{n=function(m){function r(...k){var p=m.call(this,...k)||this;p._loadController=null;p.loadError=null;p.loadStatus="not-loaded";p._set("loadWarnings",[]);p.addResolvingPromise(new Promise(e=>{const h=p.load.bind(a._assertThisInitialized(p));p.load=v=>{const x=new Promise((A,w)=>{const y=d.onAbortOrThrow(v,w);p.destroyed&&w(new c("load:instance-destroyed",`Instance of '${p.declaredClass||p.constructor.name}' is already destroyed`,{instance:a._assertThisInitialized(p)}));
p._promiseProps.when(A,w).finally(()=>{y&&y.remove()})});if("not-loaded"===p.loadStatus){p._set("loadStatus","loading");const A=p._loadController=new AbortController;h({signal:A.signal});d.onAbort(A.signal,()=>{p._promiseProps.abort()})}e();return x}}));p.when(()=>{p._set("loadStatus","loaded");p._loadController=null},e=>{p._set("loadStatus","failed");p._set("loadError",e);p._loadController=null});return p}a._inheritsLoose(r,m);var q=r.prototype;q.load=function(){return null};q.cancelLoad=function(){var k;
if(this.isFulfilled())return this;this._set("loadError",new c("load:cancelled","Cancelled"));null==(k=this._loadController)?void 0:k.abort();return this};a._createClass(r,[{key:"loaded",get:function(){return"loaded"===this.loadStatus}},{key:"loadWarnings",get:function(){return this._get("loadWarnings")}}]);return r}(n);b.__decorate([u.property({readOnly:!0})],n.prototype,"loaded",null);b.__decorate([u.property({readOnly:!0})],n.prototype,"loadError",void 0);b.__decorate([u.property({clonable:!1})],
n.prototype,"loadStatus",void 0);b.__decorate([u.property({type:[l],readOnly:!0})],n.prototype,"loadWarnings",null);return n=b.__decorate([t.subclass("esri.core.Loadable")],n)};f=function(n){function m(){return n.apply(this,arguments)||this}a._inheritsLoose(m,n);return m}(g(f.EsriPromise));f=b.__decorate([t.subclass("esri.core.Loadable")],f);(function(n){n.LoadableMixin=g;n.isLoadable=function(m){return!(!m||!m.load)}})(f||(f={}));return f})},"esri/core/Promise":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u){var t;(function(m){m[m.PENDING=0]="PENDING";m[m.RESOLVED=1]="RESOLVED";m[m.REJECTED=2]="REJECTED"})(t||(t={}));let g=function(){function m(q){this.instance=q;this._resolver=l.createDeferred();this._status=t.PENDING;this._resolvingPromises=[];this._resolver.promise.then(()=>{this._status=t.RESOLVED;this._cleanUp()},()=>{this._status=t.REJECTED;this._cleanUp()})}var r=m.prototype;r.addResolvingPromise=function(q){this._resolvingPromises.push(q);this._tryResolve()};r.isResolved=
function(){return this._status===t.RESOLVED};r.isRejected=function(){return this._status===t.REJECTED};r.isFulfilled=function(){return this._status!==t.PENDING};r.abort=function(){this._resolver.reject(l.createAbortError())};r.when=function(q,k){return this._resolver.promise.then(q,k)};r._cleanUp=function(){this._allPromise=this._resolvingPromises=this._allPromise=null};r._tryResolve=function(){if(!this.isFulfilled()){var q=l.createDeferred(),k=[...this._resolvingPromises,d.assumeNonNull(q.promise)],
p=this._allPromise=Promise.all(k);p.then(()=>{this.isFulfilled()||this._allPromise!==p||this._resolver.resolve(this.instance)},e=>{this.isFulfilled()||this._allPromise!==p||l.isAbortError(e)||this._resolver.reject(e)});q.resolve()}};return m}();const n=m=>{m=function(r){function q(...p){p=r.call(this,...p)||this;p._promiseProps=new g(b._assertThisInitialized(p));p.addResolvingPromise(Promise.resolve());return p}b._inheritsLoose(q,r);var k=q.prototype;k.isResolved=function(){return this._promiseProps.isResolved()};
k.isRejected=function(){return this._promiseProps.isRejected()};k.isFulfilled=function(){return this._promiseProps.isFulfilled()};k.when=function(p,e){return(new Promise((h,v)=>{this._promiseProps.when(h,v)})).then(p,e)};k.catch=function(p){return this.when(null,p)};k.addResolvingPromise=function(p){p&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in p?p.when():p)};return q}(m);return m=c.__decorate([u.subclass("esri.core.Promise")],m)};a.EsriPromise=function(m){function r(){return m.apply(this,
arguments)||this}b._inheritsLoose(r,m);return r}(n(f));a.EsriPromise=c.__decorate([u.subclass("esri.core.Promise")],a.EsriPromise);a.EsriPromiseMixin=n;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/loadAll":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./asyncUtils ./Collection ./Loadable ./maybe".split(" "),function(a,b,c,f,d,l){function u(){u=b._asyncToGenerator(function*(n,m){yield n.load();return t(n,m)});return u.apply(this,arguments)}function t(n,m){return g.apply(this,
arguments)}function g(){g=b._asyncToGenerator(function*(n,m){const r=[],q=(...p)=>{for(const e of p)l.isNone(e)||(Array.isArray(e)?q(...e):f.isCollection(e)?e.forEach(h=>q(h)):d.isLoadable(e)&&r.push(e))};m(q);let k=null;yield c.map(r,function(){var p=b._asyncToGenerator(function*(e){!1!==(yield c.result("loadAll"in e&&"function"===typeof e.loadAll?e.loadAll():e.load())).ok||k||(k=e)});return function(e){return p.apply(this,arguments)}}());if(k)throw k.loadError;return n});return g.apply(this,arguments)}
a.loadAll=function(n,m){return u.apply(this,arguments)};a.loadAllChildren=t;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/asyncUtils":function(){define(["exports","./maybe","./promiseUtils"],function(a,b,c){a.assertResult=function(f){if(!0===f.ok)return f.value;throw f.error;};a.forEach=function(f,d,l){return c.eachAlways(f.map((u,t)=>d.apply(l,[u,t])))};a.map=function(f,d,l){return c.eachAlways(f.map((u,t)=>d.apply(l,[u,t]))).then(u=>u.map(t=>t.value))};a.result=function(f){return b.isNone(f)?
c.resolve():f.then(d=>({ok:!0,value:d})).catch(d=>({ok:!1,error:d}))};a.resultOrAbort=function(f){return f.then(d=>({ok:!0,value:d})).catch(d=>{c.throwIfAbortError(d);return{ok:!1,error:d}})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/urlUtils":function(){define(["exports","../config","./Error","./Logger","./maybe"],function(a,b,c,f,d){function l(L){const R={path:null,query:null},U=new Ia(L),sa=L.indexOf("?");null===U.query?R.path=L:(R.path=L.substring(0,sa),R.query=u(U.query));
U.fragment&&(R.hash=U.fragment,null===U.query&&(R.path=R.path.substring(0,R.path.length-(U.fragment.length+1))));return R}function u(L){var R=L.split("\x26");L={};for(const sa of R){if(!sa)continue;var U=sa.indexOf("\x3d");0>U?(R=decodeURIComponent(sa),U=""):(R=decodeURIComponent(sa.slice(0,U)),U=decodeURIComponent(sa.slice(U+1)));let Aa=L[R];"string"===typeof Aa&&(Aa=L[R]=[Aa]);Array.isArray(Aa)?Aa.push(U):L[R]=U}return L}function t(L){return L&&"object"===typeof L&&"toJSON"in L&&"function"===typeof L.toJSON}
function g(L,R){return L?R&&"function"===typeof R?Object.keys(L).map(U=>encodeURIComponent(U)+"\x3d"+encodeURIComponent(R(U,L[U]))).join("\x26"):Object.keys(L).map(U=>{const sa=L[U];if(null==sa)return"";const Aa=encodeURIComponent(U)+"\x3d";return(U=R&&R[U])?Aa+encodeURIComponent(U(sa)):Array.isArray(sa)?sa.map(La=>t(La)?Aa+encodeURIComponent(JSON.stringify(La)):Aa+encodeURIComponent(La)).join("\x26"):t(sa)?Aa+encodeURIComponent(JSON.stringify(sa)):Aa+encodeURIComponent(sa)}).filter(U=>U).join("\x26"):
""}function n(L){const R=L.indexOf("?");-1!==R?(da.path=L.slice(0,R),da.query=L.slice(R+1)):(da.path=L,da.query=null);return da}function m(L){L=n(L).path;L&&"/"===L[L.length-1]||(L=`${L}/`);L=E(L,!0);return L=L.toLowerCase()}function r(L){const R=Y.proxyRules;L=m(L);for(let U=0;U<R.length;U++)if(0===L.indexOf(R[U].urlPrefix))return R[U]}function q(L){L=e(L);const R=L.indexOf("/sharing");return 0<R?L.substring(0,R):L.replace(/\/+$/,"")}function k(L,R,U=!1){L=W(L);R=W(R);return!U&&L.scheme!==R.scheme||
null==L.host||null==R.host?!1:L.host.toLowerCase()===R.host.toLowerCase()&&L.port===R.port}function p(L,R=T,U){return G(L)?U&&U.preserveProtocolRelative?L:"http"===fa.scheme&&fa.authority===v(L).slice(2)?`http:${L}`:`https:${L}`:K(L)?L:d.assumeNonNull(h("/"===L[0]?J(R):R,L))}function e(L){L=L.trim();L=p(L);if(/^https?:\/\//i.test(L)){const R=n(L);L=R.path.replace(/\/{2,}/g,"/");L=L.replace("/","//");R.query&&(L+=`?${R.query}`)}L=L.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return L=P(L)}function h(...L){var R=
L.filter(d.isSome);if(R&&R.length){L=[];if(x(R[0])){var U=R[0],sa=U.indexOf("//");-1!==sa&&(L.push(U.slice(0,sa+1)),Fa.test(R[0])&&(L[0]+="/"),R[0]=U.slice(sa+2))}else"/"===R[0][0]&&L.push("");R=R.reduce((Aa,La)=>La?Aa.concat(La.split("/")):Aa,[]);for(U=0;U<R.length;U++)sa=R[U],".."===sa&&0<L.length&&".."!==L[L.length-1]?L.pop():(!sa&&U===R.length-1||sa&&("."!==sa||0===L.length))&&L.push(sa);return L.join("/")}}function v(L,R=!1){if(A(L)||w(L))return null;var U=L.indexOf("://");if(-1===U&&G(L))U=
2;else if(-1!==U)U+=3;else return null;U=L.indexOf("/",U);-1!==U&&(L=L.slice(0,U));R&&(L=E(L,!0));return L}function x(L){return G(L)||K(L)}function A(L){return null!=L&&"blob:"===L.slice(0,5)}function w(L){return"data:"===L.slice(0,5)}function y(L){L=z(L);if(!L||!L.isBase64)return null;L=atob(L.data);const R=new Uint8Array(L.length);for(let U=0;U<L.length;U++)R[U]=L.charCodeAt(U);return R.buffer}function z(L){L=L.match(ea);if(!L)return null;const [,R,U,sa]=L;return{mediaType:R,isBase64:!!U,data:sa}}
function C(L){const R=y(L);if(!R)return null;L=z(L);return new Blob([R],{type:L.mediaType})}function B(L,R){if(!L)return!1;const U=document.createElement("a");if(!("download"in U))return!1;L=URL.createObjectURL(L);U.download=R;U.href=L;U.style.display="none";document.body.appendChild(U);U.click();document.body.removeChild(U);URL.revokeObjectURL(L);return!0}function D(L,R){return window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(L,R):!1}function G(L){return null!=L&&void 0!==L&&"/"===
L[0]&&"/"===L[1]}function K(L){return S.test(L)}function M(L){return xa.test(L)||"https"===fa.scheme&&G(L)}function N(L){return qa.test(L)||"http"===fa.scheme&&G(L)}function I(L){return G(L)?`https:${L}`:L.replace(qa,"https:")}function F(){return"https"===fa.scheme}function E(L,R=!1){if(G(L))return L.slice(2);L=L.replace(S,"");R&&1<L.length&&"/"===L[0]&&"/"===L[1]&&(L=L.slice(2));return L}function J(L){var R=L.indexOf("//");R=L.indexOf("/",R+2);return-1===R?L:L.slice(0,R)}function P(L){const R=Y.httpsDomains;
if(!N(L))return L;const U=L.indexOf("/",7);let sa;sa=-1===U?L:L.slice(0,U);sa=sa.toLowerCase().slice(7);if(la.test(sa))if(sa.endsWith(":80"))sa=sa.slice(0,-3),L=L.replace(":80","");else return L;if("http"===fa.scheme&&sa===fa.authority&&!V.test(L))return L;if(F()&&sa===fa.authority||R&&R.some(Aa=>sa===Aa||sa.endsWith(`.${Aa}`))||F()&&!r(L))L=I(L);return L}function W(L){if("string"===typeof L)return new Ia(p(L));L.scheme||(L.scheme=fa.scheme);return L}const Z=f.getLogger("esri.core.urlUtils"),Y=b.request,
S=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,qa=/^\s*http:/i,xa=/^\s*https:/i,Fa=/^\s*file:/i,la=/:\d+$/,V=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,aa=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,Ca=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/;let Ia=function(){function L(R=""){this.uri=R;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;R=d.assumeNonNull(this.uri.match(aa));this.scheme=R[2]||(R[1]?"":
null);this.authority=R[4]||(R[3]?"":null);this.path=R[5];this.query=R[7]||(R[6]?"":null);this.fragment=R[9]||(R[8]?"":null);null!=this.authority&&(R=d.assumeNonNull(this.authority.match(Ca)),this.user=R[3]||null,this.password=R[4]||null,this.host=R[6]||R[7],this.port=R[9]||null)}L.prototype.toString=function(){return this.uri};return L}();const H={},O=new Ia(b.applicationUrl);let fa=O;const Q=function(){var L=d.assumeNonNull(fa.path);L=L.substring(0,L.lastIndexOf(L.split("/")[L.split("/").length-
1]));return`${`${fa.scheme}://${fa.host}${null!=fa.port?`:${fa.port}`:""}`}${L}`}();let T=Q;const da={path:"",query:""},ea=/^data:(.*?)(;base64)?,(.*)$/,pa=/.*?\.([^\/]*)$/,ma=/(^data:image\/svg|\.svg$)/i;a.Url=Ia;a.addProxy=function(L){var R=r(L),U=void 0;if(R){var sa=n(R.proxyUrl);U=sa.path;sa=sa.query?u(sa.query):null}U&&(R=l(L),L=U+"?"+R.path,(U=g({...sa,...R.query}))&&(L=`${L}?${U}`));return L};a.addProxyRule=function(L){L={proxyUrl:L.proxyUrl,urlPrefix:m(L.urlPrefix)};const R=Y.proxyRules,U=
L.urlPrefix;let sa=R.length;for(let Aa=0;Aa<R.length;Aa++){const La=R[Aa].urlPrefix;if(0===U.indexOf(La)){if(U.length===La.length)return-1;sa=Aa;break}0===La.indexOf(U)&&(sa=Aa+1)}R.splice(sa,0,L);return sa};a.addQueryParameter=function(L,R,U){L=l(L);const sa=L.query||{};sa[R]=String(U);return`${L.path}?${g(sa)}`};a.addQueryParameters=function(L,R){L=l(L);const U=L.query||{};for(const sa in R)U[sa]=R[sa];return(R=g(U))?`${L.path}?${R}`:L.path};a.base64UrlEncode=function(L){return btoa(String.fromCharCode.apply(null,
L)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")};a.changeDomain=function(L,R,U){if(!(R&&U&&L&&x(L)))return L;const sa=L.indexOf("//");var Aa=L.indexOf("/",sa+2);const La=L.indexOf(":",sa+2);Aa=Math.min(0>Aa?L.length:Aa,0>La?L.length:La);if(L.slice(sa+2,Aa).toLowerCase()!==R.toLowerCase())return L;R=L.slice(0,sa+2);L=L.slice(Aa);return`${R}${U}${L}`};a.dataComponents=z;a.dataToArrayBuffer=y;a.dataToBlob=C;a.downloadBlobAsFile=function(L,R){B(L,R)||D(L,R)};a.downloadDataAsFile=function(L,
R){var U=(U=C(L))?B(U,R):!1;U||(L=C(L))&&D(L,R)};a.getAppBaseUrl=()=>T;a.getAppUrl=()=>fa;a.getFilename=function(L,R){if(!L)return"";L=l(L).path.replace(/\/+$/,"");L=L.substring(L.lastIndexOf("/")+1);if(null==R||!R.length)return L;R=new RegExp(`.(${R.join("|")})$`,"ig");return L.replace(R,"")};a.getInterceptor=function(L){const R=sa=>null==sa||sa instanceof RegExp&&sa.test(L)||"string"===typeof sa&&L.startsWith(sa),U=Y.interceptors;if(U)for(const sa of U)if(Array.isArray(sa.urls)){if(sa.urls.some(R))return sa}else if(R(sa.urls))return sa;
return null};a.getOrigin=v;a.getPathExtension=function(L){return d.isNone(L)?null:(L=L.match(pa))?L[1]:null};a.getProxyRule=r;a.getProxyUrl=function(L=!1){let R,U=Y.proxyUrl;if("string"===typeof L){if(R=M(L),L=r(L))U=L.proxyUrl}else R=!!L;if(!U)throw Z.warn("esri/config: esriConfig.request.proxyUrl is not set."),new c("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");R&&F()&&(U=I(U));return l(U)};a.hasProtocol=K;a.hasSameOrigin=k;a.hasSamePortal=function(L,R){L=q(L);
R=q(R);return E(L)===E(R)};a.isAbsolute=x;a.isAppHTTPS=F;a.isBlobProtocol=A;a.isDataProtocol=w;a.isHTTPSProtocol=M;a.isProtocolRelative=G;a.isSVG=function(L){return ma.test(L)};a.isTrustedServer=function(L){if("string"===typeof L)if(x(L))L=W(L);else return!0;if(k(L,fa))return!0;const R=Y.trustedServers||[];for(let sa=0;sa<R.length;sa++){var U=R[sa];H[U]||(K(U)||G(U)?H[U]=[new Ia(p(U))]:H[U]=[new Ia(`http://${U}`),new Ia(`https://${U}`)]);U=H[U];for(let Aa=0;Aa<U.length;Aa++)if(k(L,U[Aa]))return!0}return!1};
a.join=h;a.makeAbsolute=p;a.makeData=function(L){return L.isBase64?`data:${L.mediaType};base64,${L.data}`:`data:${L.mediaType},${L.data}`};a.makeRelative=function(L,R=T,U){if(!x(L))return L;var sa=e(L),Aa=sa.toLowerCase();R=e(R).toLowerCase().replace(/\/+$/,"");if((U=U?e(U).toLowerCase().replace(/\/+$/,""):null)&&0!==R.indexOf(U))return L;var La=Aa.indexOf("//")+2;La=Aa.indexOf("/",La);var Pa=-1===La?Aa.length:La;for(La=-1;Aa.slice(0,Pa+1)===R.slice(0,Pa)+"/";){La=Pa+1;if(Pa===Aa.length)break;var Sa=
Aa;Pa+=1;Pa=Sa.indexOf("/",Pa);Pa=-1===Pa?Sa.length:Pa}if(-1===La||U&&La<U.length)return L;L=sa.slice(La);sa=R.slice(La-1).replace(/[^/]+/g,"").length;if(0<sa)for(Aa=0;Aa<sa;Aa++)L=`../${L}`;else L=`./${L}`;return L};a.normalize=e;a.objectToQuery=g;a.queryToObject=u;a.removeFile=function(L){let R=0;if(x(L)){var U=L.indexOf("//");-1!==U&&(R=U+2)}U=L.lastIndexOf("/");return U<R?L:L.slice(0,U+1)};a.removeQueryParameter=function(L,R){const {path:U,query:sa}=l(L);if(!sa)return L;delete sa[R];return(L=
g(sa))?`${U}?${L}`:U};a.removeQueryParameters=function(L,R){L=l(L);const U=Object.keys(L.query||{});0<U.length&&R&&R.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${U.join(", ")}.`);return L.path};a.removeTrailingSlash=function(L){return L.replace(/\/+$/,"")};a.test={setAppUrl:L=>fa=L,setAppBaseUrl:L=>T=L,restoreUrls:()=>{fa=O;T=Q}};a.toHTTP=function(L){return G(L)?`http:${L}`:L.replace(xa,"http:")};a.toHTTPS=I;a.trustedServersUrlCache=
H;a.urlToObject=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","./property"],function(a,b){a.writer=function(c,f,d){let l,u;void 0===f?(u=c,l=[void 0]):"string"!==typeof f?(u=c,l=[void 0],d=f):(u=f,l=Array.isArray(c)?c:[c]);return(t,g)=>{const n=t.constructor.prototype;for(const m of l){const r=b.propertyJSONMeta(t,m,u);r.write&&"object"===typeof r.write||(r.write={});d&&(r.write.target=d);r.write.writer=n[g]}}};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/geometry/SpatialReference":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),function(a,b,c,f,d,l,u,t,g){var n;c=n=function(m){function r(k){k=m.call(this,k)||this;k.latestWkid=null;k.wkid=null;k.wkt=
null;k.vcsWkid=null;k.latestVcsWkid=null;k.imageCoordinateSystem=null;return k}a._inheritsLoose(r,m);r.fromJSON=function(k){if(!k)return null;if(k.wkid){if(102100===k.wkid)return n.WebMercator;if(4326===k.wkid)return n.WGS84}const p=new n;p.read(k);return p};var q=r.prototype;q.normalizeCtorArgs=function(k){return k&&"object"===typeof k?k:{["string"===typeof k?"wkt":"wkid"]:k}};q.writeWkt=function(k,p){this.wkid||(p.wkt=k)};q.clone=function(){if(this===n.WGS84)return n.WGS84;if(this===n.WebMercator)return n.WebMercator;
const k=new n;null!=this.wkid?(k.wkid=this.wkid,null!=this.latestWkid&&(k.latestWkid=this.latestWkid),null!=this.vcsWkid&&(k.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(k.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(k.wkt=this.wkt);this.imageCoordinateSystem&&(k.imageCoordinateSystem=f.clone(this.imageCoordinateSystem));return k};q.equals=function(k){if(null==k)return!1;if(this.imageCoordinateSystem||k.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==k.imageCoordinateSystem)return!1;
const {id:p,referenceServiceName:e}=k.imageCoordinateSystem,{geodataXform:h}=k.imageCoordinateSystem,v=this.imageCoordinateSystem;return null==p||h?JSON.stringify(v)===JSON.stringify(k.imageCoordinateSystem):e?v.id===p&&v.referenceServiceName===e:v.id===p}return g.equals(this,k)};q.toJSON=function(k){return this.write(void 0,k)};a._createClass(r,[{key:"isWGS84",get:function(){return g.isWGS84(this)}},{key:"isWebMercator",get:function(){return g.isWebMercator(this)}},{key:"isGeographic",get:function(){return g.isGeographic(this)}},
{key:"isWrappable",get:function(){return g.isWrappable(this)}}]);return r}(c.JSONSupport);c.GCS_NAD_1927=null;c.WGS84=null;c.WebMercator=null;c.PlateCarree=null;b.__decorate([l.property({readOnly:!0})],c.prototype,"isWGS84",null);b.__decorate([l.property({readOnly:!0})],c.prototype,"isWebMercator",null);b.__decorate([l.property({readOnly:!0})],c.prototype,"isGeographic",null);b.__decorate([l.property({readOnly:!0})],c.prototype,"isWrappable",null);b.__decorate([l.property({type:d.Integer,json:{write:!0}})],
c.prototype,"latestWkid",void 0);b.__decorate([l.property({type:d.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],c.prototype,"wkid",void 0);b.__decorate([l.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],c.prototype,"wkt",void 0);b.__decorate([t.writer("wkt"),t.writer("web-scene","wkt")],c.prototype,"writeWkt",null);b.__decorate([l.property({type:d.Integer,
json:{write:!0}})],c.prototype,"vcsWkid",void 0);b.__decorate([l.property({type:d.Integer,json:{write:!0}})],c.prototype,"latestVcsWkid",void 0);b.__decorate([l.property()],c.prototype,"imageCoordinateSystem",void 0);c=n=b.__decorate([u.subclass("esri.geometry.SpatialReference")],c);c.prototype.toJSON.isDefaultToJSON=!0;c.GCS_NAD_1927=new c({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});
c.WGS84=new c(g.WGS84);c.WebMercator=new c(g.WebMercator);c.PlateCarree=new c(g.PlateCarree);Object.freeze&&(Object.freeze(c.GCS_NAD_1927),Object.freeze(c.WGS84),Object.freeze(c.WebMercator));return c})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/maybe","../../core/string","./SupportedGCSWkids","./WKIDUnitConversion"],function(a,b,c,f,d){function l(h){return m(h)&&null!=h.wkid&&!0===r[h.wkid]}function u(h){return h===f.SupportedGCSWkids.GCSMARS2000||h===
f.SupportedGCSWkids.GCSMARS2000_SPHERE}function t(h){return m(h)&&null!=h.wkid&&u(h.wkid)}function g(h){return h===f.SupportedGCSWkids.GCSMOON2000}function n(h){return m(h)&&null!=h.wkid&&g(h.wkid)}function m(h){return b.isSome(h)&&(null!=h.wkid&&2E3<=h.wkid||null!=h.wkt)}const r={102113:!0,102100:!0,3857:!0,3785:!0},q={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},k=[-2.0037508342788905E7,2.0037508342788905E7],p=[-2.0037508342787E7,2.0037508342787E7],e={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:k,origin:p,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:k,origin:p,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:k,origin:p,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:k,origin:p,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],
dx:1E-5}};c={wkid:4326,wkt:c.replace(e[4326].wkTemplate,{Central_Meridian:"0.0"})};a.PlateCarree={wkid:32662};a.WGS84=c;a.WebMercator={wkid:102100,latestWkid:3857};a.equals=function(h,v){return b.isNone(h)||b.isNone(v)?!1:h===v?!0:null!=h.wkid||null!=v.wkid?h.wkid===v.wkid||l(h)&&l(v)||null!=v.latestWkid&&h.wkid===v.latestWkid||null!=h.latestWkid&&v.wkid===h.latestWkid:h.wkt&&v.wkt?h.wkt.toUpperCase()===v.wkt.toUpperCase():!1};a.getInfo=function(h){return m(h)&&h.wkid?e[h.wkid]:null};a.isCGCS2000=
function(h){return m(h)&&h.wkid===f.SupportedGCSWkids.CGCS2000};a.isEarth=function(h){return!(t(h)||n(h))};a.isGeographic=function(h){return m(h)?h.wkid?null==d[h.wkid]:h.wkt?!!/^\s*GEOGCS/i.test(h.wkt):!1:!1};a.isMars=t;a.isMoon=n;a.isPlateCarree=function(h){return m(h)&&32662===h.wkid};a.isValid=m;a.isWGS84=function(h){return m(h)&&4326===h.wkid};a.isWKIDFromMars=u;a.isWKIDFromMoon=g;a.isWebMercator=l;a.isWrappable=function(h){return m(h)&&null!=h.wkid&&!0===q[h.wkid]};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/geometry/support/SupportedGCSWkids":function(){define(["exports"],function(a){a.SupportedGCSWkids=void 0;var b=a.SupportedGCSWkids||(a.SupportedGCSWkids={});b[b.CGCS2000=4490]="CGCS2000";b[b.GCSMARS2000=104971]="GCSMARS2000";b[b.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE";b[b.GCSMOON2000=104903]="GCSMOON2000";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;const b={values:[1,.3048,.3048006096012192,
.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,
2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,
3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,
3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,
3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,
5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,
6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,
6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,
6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,
6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,
7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,
7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,
8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,
8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,
8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,
23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,
30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,
102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,
103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,
103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,
103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)b[a]=
0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=
0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=
0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=
0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=
0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=
2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=
0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=
0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=
0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8518;8529>=a;a++)b[a]=
2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=9271;9273>=a;a++)b[a]=0;for(a=9295;9297>=a;a++)b[a]=0;for(a=9356;9360>=a;a++)b[a]=0;for(a=9404;9407>=a;a++)b[a]=0;for(a=9476;9482>=a;a++)b[a]=0;for(a=9487;9494>=a;a++)b[a]=0;for(a=9697;9699>=a;a++)b[a]=0;for(a=20002;20032>=a;a++)b[a]=0;for(a=20062;20092>=
a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20904;20932>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21004;21032>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21207;21264>=a;a++)b[a]=0;for(a=21307;21364>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21453;21463>=a;a++)b[a]=0;for(a=21473;21483>=
a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=
a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=
a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=
a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=
a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32158>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=
a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=
102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=
0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102901;102933>=a;a++)b[a]=2;for(a=102934;102950>=a;a++)b[a]=13;for(a=102951;102960>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=
0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=
0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=
2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=
2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=
0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103694>=a;a++)b[a]=0;for(a=103696;103699>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103872>=a;a++)b[a]=0;for(a=103900;103971>=a;a++)b[a]=2;return b})},"esri/portal/Portal":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../config ../kernel ../request ../core/deprecate ../core/Error ../core/JSONSupport ../core/Loadable ../core/Logger ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ../intl/locale ./PortalQueryParams ./PortalQueryResult ./PortalUser ../support/apiKeyUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A,w,y,z,C,B){const D=N=>Object.freeze({__proto__:null,default:N});var G;let K;const M={PortalGroup:()=>new Promise((N,I)=>a(["./PortalGroup"],F=>N(D(F)),I)),PortalItem:()=>new Promise((N,I)=>a(["./PortalItem"],F=>N(D(F)),I)),PortalUser:()=>new Promise((N,I)=>a(["./PortalUser"],F=>N(D(F)),I))};g=G=function(N){function I(E){E=N.call(this,E)||this;E.access=null;E.allSSL=!1;E.authMode="auto";E.authorizedCrossOriginDomains=null;E.basemapGalleryGroupQuery=
null;E.bingKey=null;E.canListApps=!1;E.canListData=!1;E.canListPreProvisionedItems=!1;E.canProvisionDirectPurchase=!1;E.canSearchPublic=!0;E.canShareBingPublic=!1;E.canSharePublic=!1;E.canSignInArcGIS=!1;E.canSignInIDP=!1;E.colorSetsGroupQuery=null;E.commentsEnabled=!1;E.created=null;E.culture=null;E.customBaseUrl=null;E.defaultBasemap=null;E.defaultDevBasemap=null;E.defaultExtent=null;E.defaultVectorBasemap=null;E.description=null;E.devBasemapGalleryGroupQuery=null;E.eueiEnabled=null;E.featuredGroups=
null;E.featuredItemsGroupQuery=null;E.galleryTemplatesGroupQuery=null;E.livingAtlasGroupQuery=null;E.hasCategorySchema=!1;E.helperServices=null;E.homePageFeaturedContent=null;E.homePageFeaturedContentCount=null;E.httpPort=null;E.httpsPort=null;E.id=null;E.ipCntryCode=null;E.isPortal=!1;E.isReadOnly=!1;E.layerTemplatesGroupQuery=null;E.maxTokenExpirationMinutes=null;E.modified=null;E.name=null;E.portalHostname=null;E.portalMode=null;E.portalProperties=null;E.region=null;E.rotatorPanels=null;E.showHomePageDescription=
!1;E.sourceJSON=null;E.supportsHostedServices=!1;E.symbolSetsGroupQuery=null;E.templatesGroupQuery=null;E.units=null;E.url=f.portalUrl;E.urlKey=null;E.user=null;E.useStandardizedQuery=!1;E.useVectorBasemaps=!1;E.vectorBasemapGalleryGroupQuery=null;return E}b._inheritsLoose(I,N);var F=I.prototype;F.normalizeCtorArgs=function(E){return"string"===typeof E?{url:E}:E};F.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=
null)};F.readAuthorizedCrossOriginDomains=function(E){if(E)for(const J of E)-1===f.request.trustedServers.indexOf(J)&&f.request.trustedServers.push(J);return E};F.readDefaultBasemap=function(E){return this._readBasemap(E)};F.readDefaultDevBasemap=function(E){return this._readBasemap(E)};F.readDefaultVectorBasemap=function(E){return this._readBasemap(E)};F.readUrlKey=function(E){return E?E.toLowerCase():E};F.readUser=function(E){let J=null;E&&(J=C.fromJSON(E),J.portal=this);return J};F.load=function(E){const J=
(new Promise((P,W)=>a(["../Basemap"],Z=>P(D(Z)),W))).then(({default:P})=>{q.throwIfAborted(E);K=P}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,E)).then(P=>{if(d.id){const W=d.id;this.credential=W.findCredential(this.restUrl);this.credential||this.authMode!==G.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=W.on("credential-create",()=>{W.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=P;this.read(P)});this.addResolvingPromise(J);return Promise.resolve(this)};
F.createClosestFacilityTask=function(){var E=b._asyncToGenerator(function*(){u.deprecatedFunction(m.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"});yield this.load();const J=this._getHelperServiceUrl("closestFacility");return new (yield new Promise((P,W)=>a(["../tasks/ClosestFacilityTask"],Z=>P(D(Z)),W))).default(J)});return function(){return E.apply(this,arguments)}}();F.createElevationLayers=function(){var E=b._asyncToGenerator(function*(){yield this.load();
const J=this._getHelperService("defaultElevationLayers"),P=(yield new Promise((W,Z)=>a(["../layers/ElevationLayer"],Y=>W(D(Y)),Z))).default;return J?J.map(W=>new P({id:W.id,url:W.url})):[]});return function(){return E.apply(this,arguments)}}();F.createGeometryService=function(){var E=b._asyncToGenerator(function*(){u.deprecatedFunction(m.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"});yield this.load();const J=this._getHelperServiceUrl("geometry");
return new (yield new Promise((P,W)=>a(["../tasks/GeometryService"],Z=>P(D(Z)),W))).default({url:J})});return function(){return E.apply(this,arguments)}}();F.createPrintTask=function(){var E=b._asyncToGenerator(function*(){u.deprecatedFunction(m.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"});yield this.load();const J=this._getHelperServiceUrl("printTask");return new (yield new Promise((P,W)=>a(["../tasks/PrintTask"],Z=>P(D(Z)),W))).default(J)});
return function(){return E.apply(this,arguments)}}();F.createRouteTask=function(){var E=b._asyncToGenerator(function*(){u.deprecatedFunction(m.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"});yield this.load();const J=this._getHelperServiceUrl("route");return new (yield new Promise((P,W)=>a(["../tasks/RouteTask"],Z=>P(D(Z)),W))).default(J)});return function(){return E.apply(this,arguments)}}();F.createServiceAreaTask=function(){var E=b._asyncToGenerator(function*(){u.deprecatedFunction(m.getLogger(this.declaredClass),
null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"});yield this.load();const J=this._getHelperServiceUrl("serviceArea");return new (yield new Promise((P,W)=>a(["../tasks/ServiceAreaTask"],Z=>P(D(Z)),W))).default(J)});return function(){return E.apply(this,arguments)}}();F.fetchBasemaps=function(E,J){const P=new y;P.query=E||(f.apiKey&&B.supportsApiKey(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);
P.disableExtraQuery=!0;return this.queryGroups(P,J).then(W=>{P.num=100;P.query='type:"Web Map" -type:"Web Application"';return W.total?(W=W.results[0],P.sortField=W.sortField||"name",P.sortOrder=W.sortOrder||"desc",W.queryItems(P,J)):null}).then(W=>W&&W.total?W.results.filter(Z=>"Web Map"===Z.type).map(Z=>new K({portalItem:Z})):[])};F.fetchCategorySchema=function(E){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",E).then(J=>J.categorySchema):q.isAborted(E)?
Promise.reject(q.createAbortError()):Promise.resolve([])};F.fetchFeaturedGroups=function(E){const J=this.featuredGroups,P=new y;P.num=100;P.sortField="title";if(J&&J.length){const W=[];for(const Z of J)W.push(`(title:"${Z.title}" AND owner:${Z.owner})`);P.query=W.join(" OR ");return this.queryGroups(P,E).then(Z=>Z.results)}return q.isAborted(E)?Promise.reject(q.createAbortError()):Promise.resolve([])};F.fetchRegions=function(E){var J;const P=(null==(J=this.user)?void 0:J.culture)||this.culture||w.getLocale();
return this._request(this.restUrl+"/portals/regions",{...E,query:{culture:P}})};F.fetchSettings=function(E){var J;const P=(null==(J=this.user)?void 0:J.culture)||this.culture||w.getLocale();return this._request(this.restUrl+"/portals/self/settings",{...E,query:{culture:P}})};I.getDefault=function(){if(!G._default||G._default.destroyed)G._default=new G;return G._default};F.queryGroups=function(E,J){return this._queryPortal("/community/groups",E,"PortalGroup",J)};F.queryItems=function(E,J){return this._queryPortal("/search",
E,"PortalItem",J)};F.queryUsers=function(E,J){E.sortField||(E.sortField="username");return this._queryPortal("/community/users",E,"PortalUser",J)};F.toJSON=function(){throw new t("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};I.fromJSON=function(E){if(!E)return null;if(E.declaredClass)throw Error("JSON object is already hydrated");return new G({sourceJSON:E})};F._getHelperService=function(E){const J=this.helperServices&&this.helperServices[E];if(!J)throw new t("portal:service-not-found",
`The \`helperServices\` do not include an entry named "${E}"`);return J};F._getHelperServiceUrl=function(E){const J=this._getHelperService(E);if(!J.url)throw new t("portal:service-url-not-found",`The \`helperServices\` entry "${E}" does not include a \`url\` value`);return J.url};F._fetchSelf=function(E=this.authMode,J=!1,P){const W=this.restUrl+"/portals/self";E={authMode:E,query:{culture:w.getLocale().toLowerCase()},...P};"auto"===E.authMode&&(E.authMode="no-prompt");J&&(E.query.default=!0);return this._request(W,
E)};F._queryPortal=function(E,J,P,W){const Z=h.ensureType(y,J),Y=S=>this._request(this.restUrl+E,{...Z.toRequestOptions(this),...W}).then(qa=>{const xa=Z.clone();xa.start=qa.nextStart;return new z({nextQueryParams:xa,queryParams:Z,total:qa.total,results:G._resultsToTypedArray(S,{portal:this},qa,W)})}).then(qa=>Promise.all(qa.results.map(xa=>"function"===typeof xa.when?xa.when():qa)).then(()=>qa,xa=>{q.throwIfAbortError(xa);return qa}));return P&&M[P]?M[P]().then(({default:S})=>{q.throwIfAborted(W);
return Y(S)}):Y()};F._signIn=function(){if(this.authMode===G.AUTH_MODE_ANONYMOUS)return Promise.reject(new t("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const E=J=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return J||(this.authMode="immediate"),this.load().then(()=>null);if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=J;return this._fetchSelf("immediate")});
if(this.user&&this.credential===J)return null;this.credential=J;return this._fetchSelf("immediate")}).then(P=>{P&&(this.sourceJSON=P,this.read(P))});return d.id?d.id.getCredential(this.restUrl).then(J=>E(J)):E(this.credential)};F._normalizeSSL=function(E){return E.replace(/^http:/i,"https:").replace(":7080",":7443")};F._normalizeUrl=function(E){const J=this.credential&&this.credential.token;return this._normalizeSSL(J?E+(-1<E.indexOf("?")?"\x26":"?")+"token\x3d"+J:E)};F._requestToTypedArray=function(E,
J,P){return this._request(E,J).then(W=>{const Z=G._resultsToTypedArray(P,{portal:this},W);return Promise.all(Z.map(Y=>"function"===typeof Y.when?Y.when():W)).then(()=>Z,()=>Z)})};F._readBasemap=function(E){return E?(E=K.fromJSON(E),E.portalItem={portal:this},E):null};F._request=function(E,J={}){const P={f:"json",...J.query},{authMode:W=this.authMode===G.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:Z=null,cacheBust:Y=!1,method:S="auto",responseType:qa="json",signal:xa}=J;J={authMode:W,body:Z,cacheBust:Y,
method:S,query:P,responseType:qa,timeout:0,signal:xa};return l(this._normalizeSSL(E),J).then(Fa=>Fa.data)};I._resultsToTypedArray=function(E,J,P,W){if(P){const Z=r.isSome(W)?W.signal:null;P=P.listings||P.notifications||P.userInvitations||P.tags||P.items||P.groups||P.comments||P.provisions||P.results||P.relatedItems||P;if(E||J)P=P.map(Y=>{Y=Object.assign(E?E.fromJSON(Y):Y,J);"function"===typeof Y.load&&Y.load(Z);return Y})}else P=[];return P};b._createClass(I,[{key:"extraQuery",get:function(){const E=
!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!E?` AND orgid:${this.id}`:null}},{key:"isOrganization",get:function(){return!!this.access}},{key:"restUrl",get:function(){let E=this.url;if(E){const J=E.indexOf("/sharing");E=0<J?E.substring(0,J):this.url.replace(/\/+$/,"");E+="/sharing/rest"}return E}},{key:"stylesGroupQuery",get:function(){u.deprecatedProperty(m.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"});return this.stylesGroupQuery3d}},
{key:"thumbnailUrl",get:function(){const E=this.restUrl,J=this.thumbnail;return E&&J?this._normalizeSSL(E+"/portals/self/resources/"+J):null}}]);return I}(g.JSONSupportMixin(n));g.AUTH_MODE_ANONYMOUS="anonymous";g.AUTH_MODE_AUTO="auto";g.AUTH_MODE_IMMEDIATE="immediate";c.__decorate([k.property()],g.prototype,"access",void 0);c.__decorate([k.property()],g.prototype,"allSSL",void 0);c.__decorate([k.property()],g.prototype,"authMode",void 0);c.__decorate([k.property()],g.prototype,"authorizedCrossOriginDomains",
void 0);c.__decorate([v.reader("authorizedCrossOriginDomains")],g.prototype,"readAuthorizedCrossOriginDomains",null);c.__decorate([k.property()],g.prototype,"basemapGalleryGroupQuery",void 0);c.__decorate([k.property()],g.prototype,"bingKey",void 0);c.__decorate([k.property()],g.prototype,"canListApps",void 0);c.__decorate([k.property()],g.prototype,"canListData",void 0);c.__decorate([k.property()],g.prototype,"canListPreProvisionedItems",void 0);c.__decorate([k.property()],g.prototype,"canProvisionDirectPurchase",
void 0);c.__decorate([k.property()],g.prototype,"canSearchPublic",void 0);c.__decorate([k.property()],g.prototype,"canShareBingPublic",void 0);c.__decorate([k.property()],g.prototype,"canSharePublic",void 0);c.__decorate([k.property()],g.prototype,"canSignInArcGIS",void 0);c.__decorate([k.property()],g.prototype,"canSignInIDP",void 0);c.__decorate([k.property()],g.prototype,"colorSetsGroupQuery",void 0);c.__decorate([k.property()],g.prototype,"commentsEnabled",void 0);c.__decorate([k.property({type:Date})],
g.prototype,"created",void 0);c.__decorate([k.property()],g.prototype,"credential",void 0);c.__decorate([k.property()],g.prototype,"culture",void 0);c.__decorate([k.property()],g.prototype,"currentVersion",void 0);c.__decorate([k.property()],g.prototype,"customBaseUrl",void 0);c.__decorate([k.property()],g.prototype,"defaultBasemap",void 0);c.__decorate([v.reader("defaultBasemap")],g.prototype,"readDefaultBasemap",null);c.__decorate([k.property()],g.prototype,"defaultDevBasemap",void 0);c.__decorate([v.reader("defaultDevBasemap")],
g.prototype,"readDefaultDevBasemap",null);c.__decorate([k.property({type:A})],g.prototype,"defaultExtent",void 0);c.__decorate([k.property()],g.prototype,"defaultVectorBasemap",void 0);c.__decorate([v.reader("defaultVectorBasemap")],g.prototype,"readDefaultVectorBasemap",null);c.__decorate([k.property()],g.prototype,"description",void 0);c.__decorate([k.property()],g.prototype,"devBasemapGalleryGroupQuery",void 0);c.__decorate([k.property()],g.prototype,"eueiEnabled",void 0);c.__decorate([k.property({readOnly:!0})],
g.prototype,"extraQuery",null);c.__decorate([k.property()],g.prototype,"featuredGroups",void 0);c.__decorate([k.property()],g.prototype,"featuredItemsGroupQuery",void 0);c.__decorate([k.property()],g.prototype,"galleryTemplatesGroupQuery",void 0);c.__decorate([k.property()],g.prototype,"livingAtlasGroupQuery",void 0);c.__decorate([k.property()],g.prototype,"hasCategorySchema",void 0);c.__decorate([k.property()],g.prototype,"helpBase",void 0);c.__decorate([k.property()],g.prototype,"helperServices",
void 0);c.__decorate([k.property()],g.prototype,"helpMap",void 0);c.__decorate([k.property()],g.prototype,"homePageFeaturedContent",void 0);c.__decorate([k.property()],g.prototype,"homePageFeaturedContentCount",void 0);c.__decorate([k.property()],g.prototype,"httpPort",void 0);c.__decorate([k.property()],g.prototype,"httpsPort",void 0);c.__decorate([k.property()],g.prototype,"id",void 0);c.__decorate([k.property()],g.prototype,"ipCntryCode",void 0);c.__decorate([k.property({readOnly:!0})],g.prototype,
"isOrganization",null);c.__decorate([k.property()],g.prototype,"isPortal",void 0);c.__decorate([k.property()],g.prototype,"isReadOnly",void 0);c.__decorate([k.property()],g.prototype,"layerTemplatesGroupQuery",void 0);c.__decorate([k.property()],g.prototype,"maxTokenExpirationMinutes",void 0);c.__decorate([k.property({type:Date})],g.prototype,"modified",void 0);c.__decorate([k.property()],g.prototype,"name",void 0);c.__decorate([k.property()],g.prototype,"portalHostname",void 0);c.__decorate([k.property()],
g.prototype,"portalMode",void 0);c.__decorate([k.property()],g.prototype,"portalProperties",void 0);c.__decorate([k.property()],g.prototype,"region",void 0);c.__decorate([k.property({readOnly:!0})],g.prototype,"restUrl",null);c.__decorate([k.property()],g.prototype,"rotatorPanels",void 0);c.__decorate([k.property()],g.prototype,"showHomePageDescription",void 0);c.__decorate([k.property()],g.prototype,"sourceJSON",void 0);c.__decorate([k.property()],g.prototype,"staticImagesUrl",void 0);c.__decorate([k.property({readOnly:!0,
json:{read:!1}})],g.prototype,"stylesGroupQuery",null);c.__decorate([k.property({json:{name:"2DStylesGroupQuery"}})],g.prototype,"stylesGroupQuery2d",void 0);c.__decorate([k.property({json:{name:"stylesGroupQuery"}})],g.prototype,"stylesGroupQuery3d",void 0);c.__decorate([k.property()],g.prototype,"supportsHostedServices",void 0);c.__decorate([k.property()],g.prototype,"symbolSetsGroupQuery",void 0);c.__decorate([k.property()],g.prototype,"templatesGroupQuery",void 0);c.__decorate([k.property()],
g.prototype,"thumbnail",void 0);c.__decorate([k.property({readOnly:!0})],g.prototype,"thumbnailUrl",null);c.__decorate([k.property()],g.prototype,"units",void 0);c.__decorate([k.property()],g.prototype,"url",void 0);c.__decorate([k.property()],g.prototype,"urlKey",void 0);c.__decorate([v.reader("urlKey")],g.prototype,"readUrlKey",null);c.__decorate([k.property()],g.prototype,"user",void 0);c.__decorate([v.reader("user")],g.prototype,"readUser",null);c.__decorate([k.property()],g.prototype,"useStandardizedQuery",
void 0);c.__decorate([k.property()],g.prototype,"useVectorBasemaps",void 0);c.__decorate([k.property()],g.prototype,"vectorBasemapGalleryGroupQuery",void 0);return g=G=c.__decorate([x.subclass("esri.portal.Portal")],g)})},"esri/kernel":function(){define("require exports ./chunks/_rollupPluginBabelHelpers ./core/has ./core/urlUtils ./support/revision".split(" "),function(a,b,c,f,d,l){b.id=void 0;f("host-webworker")||(console.debug(`Using ArcGIS API for JavaScript ${"4.23"} [Date: ${l.buildDate}, Revision: ${l.commitHash.slice(0,
8)}]`),(f("edge")||f("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser"));b.buildDate=l.buildDate;b.revision=l.commitHash;b.addTokenParameter=function(u){const t=b.id&&b.id.findCredential(u);return t&&t.token?d.addQueryParameter(u,"token",t.token):u};b.setId=function(u){b.id=u};b.version="4.23";b.workerMessages={request(u,t){return c._asyncToGenerator(function*(){var g,{default:n}=yield new Promise((q,k)=>a(["./request"],p=>q(Object.freeze({__proto__:null,default:p})),
k));const m=u.options,r=m.responseType;m.signal=null==t?void 0:t.signal;m.responseType="native"===r||"native-request-init"===r?"native-request-init":["blob","json","text"].includes(r)&&null!=(g=d.getInterceptor(u.url))&&g.after?r:"array-buffer";g=yield n(u.url,m);n={data:g.data,ssl:g.ssl};switch(g.requestOptions.responseType){case "native-request-init":return delete n.data.signal,n;case "blob":n.data=yield n.data.arrayBuffer();break;case "json":n.data=(new TextEncoder).encode(JSON.stringify(n.data)).buffer;
break;case "text":n.data=(new TextEncoder).encode(n.data).buffer}return{result:n,transferList:[n.data]}})()}};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/support/revision":function(){define(["exports"],function(a){a.buildDate="20220401";a.commitHash="d89a886f188f892dc564848925fcf2ea216aa909";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/request":function(){define("require ./chunks/_rollupPluginBabelHelpers ./config ./kernel ./core/Error ./core/has ./core/lang ./core/maybe ./core/promiseUtils ./core/urlUtils ./support/apiKeyUtils ./support/requestUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r){function q(V,aa){return k.apply(this,arguments)}function k(){k=b._asyncToGenerator(function*(V,aa){var Ca,Ia=n.isDataProtocol(V);const H=n.isBlobProtocol(V);H||Ia||(V=n.normalize(V));const O={url:V,requestOptions:{...t.unwrap(aa)}};let fa=n.getInterceptor(V);if(fa){V=yield G(fa,O);if(null!=V)return{data:V,getHeader:Fa,requestOptions:O.requestOptions,url:O.url};fa.after||fa.error||(fa=null)}V=O.url;aa=O.requestOptions;if("image"===aa.responseType){if(l("host-webworker")||
l("host-node"))throw h("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),O);}else if(Ia)throw h("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+aa.responseType),O);if("head"===aa.method){if(aa.body)throw h("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),O);if(Ia||H)throw h("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),
O);}yield v();if(W)return W.execute(V,aa);const Q=new AbortController;g.onAbort(aa,()=>Q.abort());Ia=yield I({controller:Q,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:fa,params:O,redoRequest:!1,useIdentity:Z.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1});null==(Ca=fa)?void 0:null==Ca.after?void 0:Ca.after(Ia);return Ia});return k.apply(this,arguments)}function p(V){(V=n.getOrigin(V))&&!q._corsServers.includes(V)&&q._corsServers.push(V)}function e(V){V=n.getOrigin(V);
return!V||V.endsWith(".arcgis.com")||q._corsServers.includes(V)||n.isTrustedServer(V)}function h(V,aa,Ca,Ia){let H="Error";const O={url:Ca.url,requestOptions:Ca.requestOptions,getHeader:Fa,ssl:!1};if(aa instanceof d)return aa.details?(aa.details=u.clone(aa.details),aa.details.url=Ca.url,aa.details.requestOptions=Ca.requestOptions):aa.details=O,aa;if(aa){Ca=Ia&&(T=>Ia.headers.get(T));const fa=Ia&&Ia.status,Q=aa.message;Q&&(H=Q);Ca&&(O.getHeader=Ca);O.httpStatus=(null!=aa.httpCode?aa.httpCode:aa.code)||
fa||0;O.subCode=aa.subcode;O.messageCode=aa.messageCode;O.messages="string"===typeof aa.details?[aa.details]:aa.details;O.raw=la in aa?aa[la]:aa}return g.isAbortError(aa)?g.createAbortError():new d(V,H,O)}function v(){return x.apply(this,arguments)}function x(){x=b._asyncToGenerator(function*(){l("host-webworker")?W||(W=yield new Promise((V,aa)=>a(["./core/workers/request"],V,aa))):q._abortableFetch||(q._abortableFetch=globalThis.fetch.bind(globalThis))});return x.apply(this,arguments)}function A(){return w.apply(this,
arguments)}function w(){w=b._asyncToGenerator(function*(){f.id||(yield new Promise((V,aa)=>a(["./identity/IdentityManager"],Ca=>V(Object.freeze({__proto__:null,default:Ca})),aa)))});return w.apply(this,arguments)}function y(V){return z.apply(this,arguments)}function z(){z=b._asyncToGenerator(function*(V){const aa=V.params.url,Ca=V.params.requestOptions,Ia=V.controller.signal,H=Ca.body;let O=null,fa=null,Q=null;Y&&"HTMLFormElement"in globalThis&&(H instanceof FormData?O=H:H instanceof HTMLFormElement&&
(fa=H,O=new FormData(fa)));"string"===typeof H&&(Q=H);V.fetchOptions={cache:Ca.cacheBust&&!q._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:Ca.headers||{},method:"head"===Ca.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:Ia};if(O||Q)V.fetchOptions.body=O||Q;"anonymous"===Ca.authMode&&(V.useIdentity=!1);V.hasToken=!!(/token=/i.test(aa)||Ca.query&&Ca.query.token||O&&O.get&&O.get("token")||fa&&fa.elements.token);!V.hasToken&&c.apiKey&&m.supportsApiKey(aa)&&
(Ca.query||(Ca.query={}),Ca.query.token=c.apiKey,V.hasToken=!0);if(V.useIdentity&&!V.hasToken&&!V.credentialToken&&!C(aa)&&!g.isAborted(Ia)){let T;"immediate"===Ca.authMode?(yield A(),T=yield f.id.getCredential(aa,{signal:Ia}),V.credential=T):"no-prompt"===Ca.authMode?(yield A(),T=yield f.id.getCredential(aa,{prompt:!1,signal:Ia}).catch(()=>{}),V.credential=T):f.id&&(T=f.id.findCredential(aa));T&&(V.credentialToken=T.token,V.useSSL=!!T.ssl)}});return z.apply(this,arguments)}function C(V){return xa.some(aa=>
aa.test(V))}function B(V){return D.apply(this,arguments)}function D(){D=b._asyncToGenerator(function*(V){let aa=V.params.url;const Ca=V.params.requestOptions,Ia=V.fetchOptions,H=n.isBlobProtocol(aa)||n.isDataProtocol(aa),O=Ca.responseType||"json",fa=H?0:null!=Ca.timeout?Ca.timeout:Z.timeout;var Q=!1;if(!H){V.useSSL&&(aa=n.toHTTPS(aa));Ca.cacheBust&&"default"===Ia.cache&&(aa=n.addQueryParameter(aa,"request.preventCache",Date.now()));var T={...Ca.query};V.credentialToken&&(T.token=V.credentialToken);
Q=n.objectToQuery(T);l("esri-url-encodes-apostrophe")&&(Q=Q.replace(/'/g,"%27"));const L=aa.length+1+Q.length;Q="delete"===Ca.method||"post"===Ca.method||"put"===Ca.method||!!Ca.body||L>Z.maxUrlLength;const R=Ca.useProxy||!!n.getProxyRule(aa);if(R){const U=n.getProxyUrl(aa);var da=U.path;!Q&&da.length+1+L>Z.maxUrlLength&&(Q=!0);U.query&&(T={...U.query,...T})}if("HEAD"===Ia.method&&(Q||R)){if(Q){if(L>Z.maxUrlLength)throw h("request:invalid-parameters",Error("URL exceeds maximum length"),V.params);
throw h("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),V.params);}if(R)throw h("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),V.params);}Q?(Ia.method="delete"===Ca.method?"DELETE":"put"===Ca.method?"PUT":"POST",Ca.body?aa=n.addQueryParameters(aa,T):(Ia.body=n.objectToQuery(T),Ia.headers["Content-Type"]="application/x-www-form-urlencoded")):aa=n.addQueryParameters(aa,T);R&&(V.useProxy=!0,aa=`${da}?${aa}`);T.token&&Y&&Ia.body instanceof
FormData&&(da=Ia.body,da.set?da.set("token",T.token):da.append("token",T.token));Ca.hasOwnProperty("withCredentials")?V.withCredentials=Ca.withCredentials:n.hasSameOrigin(aa,n.getAppUrl())||(n.isTrustedServer(aa)?V.withCredentials=!0:f.id&&(T=f.id.findServerInfo(aa))&&T.webTierAuth&&(V.withCredentials=!0));V.withCredentials&&(Ia.credentials="include")}T=0;let ea=!1;0<fa&&(T=setTimeout(()=>{ea=!0;V.controller.abort()},fa));let pa,ma;try{if("native-request-init"===Ca.responseType)ma=Ia,ma.url=aa;else if("image"!==
Ca.responseType||"default"!==Ia.cache||"GET"!==Ia.method||Q||M(Ca.headers)||!H&&!V.useProxy&&Z.proxyUrl&&!e(aa))if(pa=yield q._abortableFetch(aa,Ia),V.useProxy||p(aa),"native"===Ca.responseType)ma=pa;else{if("HEAD"!==Ia.method)if(pa.ok){switch(O){case "array-buffer":ma=yield pa.arrayBuffer();break;case "blob":case "image":ma=yield pa.blob();break;default:ma=yield pa.text()}T&&(clearTimeout(T),T=0);if("json"===O||"xml"===O||"document"===O)if(ma)switch(O){case "json":ma=JSON.parse(ma);break;case "xml":ma=
N(ma,"application/xml");break;case "document":ma=N(ma,"text/html")}else ma=null;if(ma){if("array-buffer"===O||"blob"===O){const L=pa.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(L)&&750>=ma["blob"===O?"size":"byteLength"])try{const R=yield(new Response(ma)).json();R.error&&(ma=R)}catch{}}"image"===O&&ma instanceof Blob&&(ma=yield P(URL.createObjectURL(ma),V,!0))}}else ma=yield pa.text()}else ma=yield P(aa,V)}catch(L){if("AbortError"===L.name){if(ea)throw Error("Timeout exceeded");
throw g.createAbortError("Request canceled");}if(!pa&&L instanceof TypeError&&Z.proxyUrl&&!Ca.body&&"delete"!==Ca.method&&"head"!==Ca.method&&"post"!==Ca.method&&"put"!==Ca.method&&!V.useProxy&&!e(aa))V.redoRequest=!0,n.addProxyRule({proxyUrl:Z.proxyUrl,urlPrefix:n.getOrigin(aa)});else throw L;}finally{T&&clearTimeout(T)}return[pa,ma]});return D.apply(this,arguments)}function G(V,aa){return K.apply(this,arguments)}function K(){K=b._asyncToGenerator(function*(V,aa){if(null!=V.responseData)return V.responseData;
V.headers&&(aa.requestOptions.headers={...aa.requestOptions.headers,...V.headers});V.query&&(aa.requestOptions.query={...aa.requestOptions.query,...V.query});if(V.before){let Ca,Ia;try{Ia=yield V.before(aa)}catch(H){Ca=h("request:interceptor",H,aa)}if(Ia instanceof Error||Ia instanceof d)Ca=h("request:interceptor",Ia,aa);if(Ca)throw V.error&&V.error(Ca),Ca;return Ia}});return K.apply(this,arguments)}function M(V){if(V)for(const aa of Object.getOwnPropertyNames(V))if(V[aa])return!0;return!1}function N(V,
aa){let Ca;try{Ca=(new DOMParser).parseFromString(V,aa)}catch{}if(!Ca||Ca.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return Ca}function I(V){return F.apply(this,arguments)}function F(){F=b._asyncToGenerator(function*(V){var aa,Ca;yield y(V);let Ia;try{do[Ia,H]=yield B(V);while(!(yield E(V,Ia,H)))}catch(fa){var H=h("request:server",fa,V.params,Ia);H.details.ssl=V.useSSL;V.interceptor&&V.interceptor.error&&V.interceptor.error(H);throw H;}const O=V.params.url;
!/\/sharing\/rest\/(accounts|portals)\/self/i.test(O)||V.hasToken||V.credentialToken||null==(aa=H)||null==(Ca=aa.user)||!Ca.username||n.isTrustedServer(O)||(aa=n.getOrigin(O,!0))&&Z.trustedServers.push(aa);(aa=V.credential)&&f.id&&(Ca=(Ca=f.id.findServerInfo(aa.server))&&Ca.owningSystemUrl)&&(Ca=Ca.replace(/\/?$/,"/sharing"),(aa=f.id.findCredential(Ca,aa.userId))&&-1===f.id._getIdenticalSvcIdx(Ca,aa)&&aa.resources.unshift(Ca));return{data:H,getHeader:Ia?fa=>Ia.headers.get(fa):Fa,requestOptions:V.params.requestOptions,
ssl:V.useSSL,url:V.params.url}});return F.apply(this,arguments)}function E(V,aa,Ca){return J.apply(this,arguments)}function J(){J=b._asyncToGenerator(function*(V,aa,Ca){if(V.redoRequest)return V.redoRequest=!1;const Ia=V.params.requestOptions;if(!aa||"native"===Ia.responseType||"native-request-init"===Ia.responseType)return!0;let H;if(!aa.ok)throw H=Error(`Unable to load ${aa.url} status: ${aa.status}`),H[la]=Ca,H;null!=Ca&&Ca.error&&(H=Ca.error);let O,fa,Q;H&&(O=Number(H.code),fa=H.hasOwnProperty("subcode")?
Number(H.subcode):null,Q=(Q=H.messageCode)&&Q.toUpperCase());aa=Ia.authMode;if(403===O&&(4===fa||H.message&&-1<H.message.toLowerCase().indexOf("ssl")&&-1===H.message.toLowerCase().indexOf("permission"))){if(!V.useSSL)return V.useSSL=!0,!1}else if(!V.hasToken&&V.useIdentity&&("no-prompt"!==aa||498===O)&&-1!==S.indexOf(O)&&!C(V.params.url)&&(403!==O||-1===qa.indexOf(Q)&&(null==fa||2===fa&&V.credentialToken))){yield A();try{const T=yield f.id.getCredential(V.params.url,{error:h("request:server",H,V.params),
prompt:"no-prompt"!==aa,signal:V.controller.signal,token:V.credentialToken});V.credential=T;V.credentialToken=T.token;V.useSSL=V.useSSL||T.ssl;return!1}catch(T){if("no-prompt"===aa)return V.credential=null,V.credentialToken=null,!1;H=T}}if(H)throw H;return!0});return J.apply(this,arguments)}function P(V,aa,Ca=!1){const Ia=aa.controller.signal,H=new Image;H.crossOrigin=aa.withCredentials?"use-credentials":"anonymous";H.alt="";H.src=V;return r.loadImageAsync(H,V,Ca,Ia)}let W;const Z=c.request,Y="FormData"in
globalThis,S=[499,498,403,401],qa=["COM_0056","COM_0057","SB_0008"],xa=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Fa=()=>null,la=Symbol();q._abortableFetch=null;q._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return q})},"esri/support/apiKeyUtils":function(){define(["exports","../core/urlUtils"],function(a,b){const c=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];a.isApiKey=
function(f){return f&&4<f.length&&f.startsWith("AAPK")};a.supportsApiKey=function(f){const d=b.getOrigin(f,!0);return d&&d.endsWith(".arcgis.com")&&!c.includes(d)&&!f.endsWith("/sharing/rest/generateToken")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/requestUtils":function(){define(["exports","../core/has","../core/maybe","../core/promiseUtils"],function(a,b,c,f){function d(){try{return new DOMException("Aborted","AbortError")}catch{const l=Error();l.name="AbortError";return l}}
a.loadImageAsync=function(l,u,t=!1,g){return new Promise((n,m)=>{if(f.isAborted(g))m(d());else{var r=()=>{p();m(Error(`Unable to load ${u}`))},q=()=>{const e=l;p();n(e)},k=()=>{if(l){var e=l;p();e.src="";m(d())}},p=()=>{b("esri-image-decode")||(l.removeEventListener("error",r),l.removeEventListener("load",q));l=q=r=null;c.isSome(g)&&g.removeEventListener("abort",k);k=null;t&&URL.revokeObjectURL(u)};c.isSome(g)&&g.addEventListener("abort",k);b("esri-image-decode")?l.decode().then(q,r):(l.addEventListener("error",
r),l.addEventListener("load",q))}})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","./property"],function(a,b){a.reader=function(c,f,d){let l,u;void 0===f||Array.isArray(f)?(u=c,d=f,l=[void 0]):(u=f,l=Array.isArray(c)?c:[c]);return(t,g)=>{const n=t.constructor.prototype;l.forEach(m=>{m=b.propertyJSONMeta(t,m,u);m.read&&"object"===typeof m.read||(m.read={});m.read.reader=n[g];d&&(m.read.source=(m.read.source||[]).concat(d))})}};
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Extent":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/string ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersectsBase ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(a,b,c,
f,d,l,u,t,g,n,m,r,q,k,p,e){function h(x,A,w){return null==A?w:null==w?A:x(A,w)}var v;l=v=function(x){function A(...y){y=x.call(this,...y)||this;y.type="extent";y.xmin=0;y.ymin=0;y.mmin=void 0;y.zmin=void 0;y.xmax=0;y.ymax=0;y.mmax=void 0;y.zmax=void 0;return y}a._inheritsLoose(A,x);var w=A.prototype;w.normalizeCtorArgs=function(y,z,C,B,D){return!y||"esri.geometry.SpatialReference"!==y.declaredClass&&null==y.wkid?"object"===typeof y?(y.spatialReference=null==y.spatialReference?r.WGS84:y.spatialReference,
y):{xmin:y,ymin:z,xmax:C,ymax:B,spatialReference:null==D?r.WGS84:D}:{spatialReference:y,xmin:0,ymin:0,xmax:0,ymax:0}};A.fromBounds=function(y,z){return new v({xmin:y[0],ymin:y[1],xmax:y[2],ymax:y[3],spatialReference:z})};A.fromPoint=function(y){return new v({xmin:y.x,ymin:y.y,zmin:y.z,xmax:y.x,ymax:y.y,zmax:y.z,spatialReference:y.spatialReference})};w.centerAt=function(y){const z=this.center;return null!=y.z&&this.hasZ?this.offset(y.x-z.x,y.y-z.y,y.z-z.z):this.offset(y.x-z.x,y.y-z.y)};w.clone=function(){const y=
new v;y.xmin=this.xmin;y.ymin=this.ymin;y.xmax=this.xmax;y.ymax=this.ymax;y.spatialReference=this.spatialReference;null!=this.zmin&&(y.zmin=this.zmin,y.zmax=this.zmax);null!=this.mmin&&(y.mmin=this.mmin,y.mmax=this.mmax);return y};w.contains=function(y){if(!y)return!1;const z=this.spatialReference,C=y.spatialReference;z&&C&&!z.equals(C)&&e.canProject(z,C)&&(y=z.isWebMercator?e.geographicToWebMercator(y):e.webMercatorToGeographic(y,!0));return"point"===y.type?q.extentContainsPoint(this,y):"extent"===
y.type?q.extentContainsExtent(this,y):!1};w.equals=function(y){if(this===y)return!0;if(c.isNone(y))return!1;const z=this.spatialReference,C=y.spatialReference;z&&C&&!z.equals(C)&&e.canProject(z,C)&&(y=z.isWebMercator?e.geographicToWebMercator(y):e.webMercatorToGeographic(y,!0));return this.xmin===y.xmin&&this.ymin===y.ymin&&this.zmin===y.zmin&&this.mmin===y.mmin&&this.xmax===y.xmax&&this.ymax===y.ymax&&this.zmax===y.zmax&&this.mmax===y.mmax};w.expand=function(y){y=.5*(1-y);var z=this.width*y;const C=
this.height*y;this.xmin+=z;this.ymin+=C;this.xmax-=z;this.ymax-=C;this.hasZ&&(z=(this.zmax-this.zmin)*y,this.zmin+=z,this.zmax-=z);this.hasM&&(y*=this.mmax-this.mmin,this.mmin+=y,this.mmax-=y);return this};w.intersects=function(y){if(c.isNone(y))return!1;"mesh"===y.type&&(y=y.extent);const z=this.spatialReference,C=y.spatialReference;z&&C&&!z.equals(C)&&e.canProject(z,C)&&(y=z.isWebMercator?e.geographicToWebMercator(y):e.webMercatorToGeographic(y,!0));return k.getFeatureExtentIntersector(y.type)(this,
y)};w.normalize=function(){const y=this._normalize(!1,!0);return Array.isArray(y)?y:[y]};w.offset=function(y,z,C){this.xmin+=y;this.ymin+=z;this.xmax+=y;this.ymax+=z;null!=C&&(this.zmin+=C,this.zmax+=C);return this};w.shiftCentralMeridian=function(){return this._normalize(!0)};w.union=function(y){if(this===y)return this;this.xmin=Math.min(this.xmin,y.xmin);this.ymin=Math.min(this.ymin,y.ymin);this.xmax=Math.max(this.xmax,y.xmax);this.ymax=Math.max(this.ymax,y.ymax);if(this.hasZ||y.hasZ)this.zmin=
h(Math.min,this.zmin,y.zmin),this.zmax=h(Math.max,this.zmax,y.zmax);if(this.hasM||y.hasM)this.mmin=h(Math.min,this.mmin,y.mmin),this.mmax=h(Math.max,this.mmax,y.mmax);return this};w.intersection=function(y){if(this===y)return this;if(c.isNone(y)||!this.intersects(y))return null;this.xmin=Math.max(this.xmin,y.xmin);this.ymin=Math.max(this.ymin,y.ymin);this.xmax=Math.min(this.xmax,y.xmax);this.ymax=Math.min(this.ymax,y.ymax);if(this.hasZ||y.hasZ)this.zmin=h(Math.max,this.zmin,y.zmin),this.zmax=h(Math.min,
this.zmax,y.zmax);if(this.hasM||y.hasM)this.mmin=h(Math.max,this.mmin,y.mmin),this.mmax=h(Math.min,this.mmax,y.mmax);return this};w.toJSON=function(y){return this.write({},y)};w._shiftCM=function(y=p.getInfo(this.spatialReference)){if(!y||!this.spatialReference)return this;const z=this.spatialReference,C=this._getCM(y);if(C){const B=z.isWebMercator?e.webMercatorToGeographic(C):C;this.xmin-=C.x;this.xmax-=C.x;z.isWebMercator||(B.x=this._normalizeX(B.x,y).x);this.spatialReference=new r(f.replace(z.isWGS84?
y.altTemplate:y.wkTemplate,{Central_Meridian:B.x}))}return this};w._getCM=function(y){let z=null;const [C,B]=y.valid;y=this.xmin;const D=this.xmax;y>=C&&y<=B&&D>=C&&D<=B||(z=this.center);return z};w._normalize=function(y,z,C){const B=this.spatialReference;if(!B)return this;C=C||p.getInfo(B);if(!C)return this;const D=this._getParts(C).map(M=>M.extent);if(2>D.length)return D[0]||this;if(2<D.length)return y?this._shiftCM(C):this.set({xmin:C.valid[0],xmax:C.valid[1]});if(y)return this._shiftCM(C);if(z)return D;
let G=!0,K=!0;D.forEach(M=>{M.hasZ||(G=!1);M.hasM||(K=!1)});return{rings:D.map(M=>{const N=[[M.xmin,M.ymin],[M.xmin,M.ymax],[M.xmax,M.ymax],[M.xmax,M.ymin],[M.xmin,M.ymin]];if(G){var I=(M.zmax-M.zmin)/2;for(let F=0;F<N.length;F++)N[F].push(I)}if(K)for(M=(M.mmax-M.mmin)/2,I=0;I<N.length;I++)N[I].push(M);return N}),hasZ:G,hasM:K,spatialReference:B}};w._getParts=function(y){let z=this.cache._parts;if(!z){z=[];const {ymin:I,ymax:F,spatialReference:E}=this;var C=this.width,B=this.xmin,D=this.xmax;y=y||
p.getInfo(E);const [J,P]=y.valid;var G=this._normalizeX(this.xmin,y);var K=G.x,M=G.frameId;G=this._normalizeX(this.xmax,y);y=G.x;G=G.frameId;var N=K===y&&0<C;if(C>2*P){C=new v(B<D?K:y,I,P,F,E);B=new v(J,I,B<D?y:K,F,E);D=new v(0,I,P,F,E);K=new v(J,I,0,F,E);y=[];N=[];C.contains(D)&&y.push(M);C.contains(K)&&N.push(M);B.contains(D)&&y.push(G);B.contains(K)&&N.push(G);for(let W=M+1;W<G;W++)y.push(W),N.push(W);z.push({extent:C,frameIds:[M]},{extent:B,frameIds:[G]},{extent:D,frameIds:y},{extent:K,frameIds:N})}else K>
y||N?z.push({extent:new v(K,I,P,F,E),frameIds:[M]},{extent:new v(J,I,y,F,E),frameIds:[G]}):z.push({extent:new v(K,I,y,F,E),frameIds:[M]});this.cache._parts=z}G=this.hasZ;C=this.hasM;if(G||C)for(M={},G&&(M.zmin=this.zmin,M.zmax=this.zmax),C&&(M.mmin=this.mmin,M.mmax=this.mmax),G=0;G<z.length;G++)z[G].extent.set(M);return z};w._normalizeX=function(y,z){const [C,B]=z.valid;z=2*B;var D=0;y>B?(D=Math.ceil(Math.abs(y-B)/z),y-=D*z):y<C&&(D=Math.ceil(Math.abs(y-C)/z),y+=D*z,D=-D);return{x:y,frameId:D}};a._createClass(A,
[{key:"cache",get:function(){this.commitProperty("xmin");this.commitProperty("ymin");this.commitProperty("zmin");this.commitProperty("mmin");this.commitProperty("xmax");this.commitProperty("ymax");this.commitProperty("zmax");this.commitProperty("mmax");this.commitProperty("spatialReference");return{}}},{key:"center",get:function(){const y=new m({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(y.z=.5*(this.zmin+this.zmax));this.hasM&&(y.m=
.5*(this.mmin+this.mmax));return y}},{key:"extent",get:function(){return this.clone()}},{key:"hasM",get:function(){return null!=this.mmin&&null!=this.mmax}},{key:"hasZ",get:function(){return null!=this.zmin&&null!=this.zmax}},{key:"height",get:function(){return Math.abs(this.ymax-this.ymin)}},{key:"width",get:function(){return Math.abs(this.xmax-this.xmin)}}]);return A}(n);b.__decorate([d.property({readOnly:!0})],l.prototype,"cache",null);b.__decorate([d.property({readOnly:!0})],l.prototype,"center",
null);b.__decorate([d.property({readOnly:!0})],l.prototype,"extent",null);b.__decorate([d.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],l.prototype,"hasM",null);b.__decorate([d.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],l.prototype,"hasZ",null);b.__decorate([d.property({readOnly:!0})],l.prototype,"height",null);b.__decorate([d.property({readOnly:!0})],l.prototype,"width",null);b.__decorate([d.property({type:Number,json:{type:[Number,String],write:{enabled:!0,
allowNull:!0}}})],l.prototype,"xmin",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],l.prototype,"ymin",void 0);b.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],l.prototype,"mmin",void 0);b.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],l.prototype,"zmin",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],
l.prototype,"xmax",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],l.prototype,"ymax",void 0);b.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],l.prototype,"mmax",void 0);b.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],l.prototype,"zmax",void 0);l=v=b.__decorate([g.subclass("esri.geometry.Extent")],l);l.prototype.toJSON.isDefaultToJSON=
!0;return l})},"esri/geometry/Geometry":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./SpatialReference".split(" "),function(a,b,c,f,d,l,u,t,g,n){c=function(m){function r(...k){k=m.call(this,...k)||this;k.type=null;k.hasM=!1;k.hasZ=!1;k.spatialReference=n.WGS84;
return k}a._inheritsLoose(r,m);var q=r.prototype;q.readSpatialReference=function(k,p){if(k instanceof n)return k;if(null!=k){const e=new n;e.read(k,p);return e}return k};q.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};q.clearCache=function(){this.notifyChange("cache")};q.getCacheValue=function(k){return this.cache[k]};q.setCacheValue=function(k,p){this.cache[k]=p};a._createClass(r,[{key:"cache",get:function(){this.commitProperty("spatialReference");
return{}}},{key:"extent",get:function(){return null}}]);return r}(c.JSONSupport);b.__decorate([f.property()],c.prototype,"type",void 0);b.__decorate([f.property({readOnly:!0})],c.prototype,"cache",null);b.__decorate([f.property({readOnly:!0})],c.prototype,"extent",null);b.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(m){return{enabled:m}}}}})],c.prototype,"hasM",void 0);b.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(m){return{enabled:m}}}}})],c.prototype,"hasZ",
void 0);b.__decorate([f.property({type:n,json:{write:!0}})],c.prototype,"spatialReference",void 0);b.__decorate([t.reader("spatialReference")],c.prototype,"readSpatialReference",null);return c=b.__decorate([g.subclass("esri.geometry.Geometry")],c)})},"esri/geometry/Point":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v){function x(z){return z&&("esri.geometry.SpatialReference"===z.declaredClass||null!=z.wkid)}var A;const w=[0,0],y=c.getLogger("esri.geometry.Point");c=A=function(z){function C(...D){D=z.call(this,...D)||this;D.x=0;D.y=0;D.z=void 0;D.m=void 0;D.type="point";return D}a._inheritsLoose(C,z);C.copy=function(D,G){G._set("x",D._get("x"));G._set("y",D._get("y"));G._set("z",D._get("z"));G._set("m",D._get("m"));D=D._get("spatialReference");G._set("spatialReference",
Object.isFrozen(D)?D:D.clone())};var B=C.prototype;B.normalizeCtorArgs=function(D,G,K,M,N){let I;if(Array.isArray(D))I=D,N=G,D=I[0],G=I[1],K=I[2],M=I[3];else if(D&&"object"===typeof D){if(I=D,D=null!=I.x?I.x:I.longitude,G=null!=I.y?I.y:I.latitude,K=I.z,M=I.m,(N=I.spatialReference)&&"esri.geometry.SpatialReference"!==N.declaredClass&&(N=new k(N)),null!=I.longitude||null!=I.latitude)null==I.longitude?y.warn(".longitude\x3d","Latitude was defined without longitude"):null==I.latitude?y.warn(".latitude\x3d",
"Longitude was defined without latitude"):!I.declaredClass&&N&&N.isWebMercator&&(G=v.lngLatToXY(I.longitude,I.latitude,w),D=G[0],G=G[1])}else x(K)?(N=K,K=null):x(M)&&(N=M,M=null);D={x:D,y:G};null==D.x&&null!=D.y?y.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==D.y&&null!=D.x&&y.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=N&&(D.spatialReference=N);null!=K&&(D.z=K);null!=M&&(D.m=M);return D};B.writeX=function(D,G,K){G[K]=isNaN(D)?"NaN":D};B.readX=
function(D){return"string"===typeof D?NaN:D};B.clone=function(){const D=new A;D.x=this.x;D.y=this.y;D.z=this.z;D.m=this.m;D.spatialReference=this.spatialReference;return D};B.copy=function(D){A.copy(D,this);return this};B.equals=function(D){if(f.isNone(D))return!1;const {x:G,y:K,z:M,m:N,spatialReference:I}=this,{z:F,m:E}=D;let {x:J,y:P,spatialReference:W}=D;if(!I.equals(W))if(I.isWebMercator&&W.isWGS84)[J,P]=v.lngLatToXY(J,P),W=I;else if(I.isWGS84&&W.isWebMercator)[J,P]=v.xyToLngLat(J,P),W=I;else return!1;
return G===J&&K===P&&M===F&&N===E&&I.wkid===W.wkid};B.offset=function(D,G,K){return p.offsetPoint(this,D,G,K)};B.normalize=function(){if(!this.spatialReference)return this;var D=h.getInfo(this.spatialReference);if(!D)return this;let G=this.x;const [K,M]=D.valid;D=2*M;let N;G>M?(N=Math.ceil(Math.abs(G-M)/D),G-=N*D):G<K&&(N=Math.ceil(Math.abs(G-K)/D),G+=N*D);this._set("x",G);return this};B.distance=function(D){return e.distance(this,D)};B.toArray=function(){const D=this.hasZ,G=this.hasM;return D&&G?
[this.x,this.y,this.z,this.m]:D?[this.x,this.y,this.z]:G?[this.x,this.y,this.m]:[this.x,this.y]};B.toJSON=function(D){return this.write({},D)};a._createClass(C,[{key:"cache",get:function(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");this.commitProperty("spatialReference");return{}}},{key:"hasM",get:function(){return void 0!==this.m},set:function(D){const G=void 0!==this._get("m");D!==G&&(this._set("m",D?0:void 0),this._set("hasM",D))}},{key:"hasZ",
get:function(){return void 0!==this.z},set:function(D){const G=void 0!==this._get("z");D!==G&&(this._set("z",D?0:void 0),this._set("hasZ",D))}},{key:"latitude",get:function(){const {spatialReference:D,x:G,y:K}=this;if(D){if(D.isWebMercator)return v.xyToLngLat(G,K,w)[1];if(D.isGeographic)return K}return null},set:function(D){const {spatialReference:G,x:K}=this;G&&(G.isWebMercator?this._set("y",v.lngLatToXY(K,D,w)[1]):G.isGeographic&&this._set("y",D),this._set("latitude",D))}},{key:"longitude",get:function(){const {x:D,
y:G,spatialReference:K}=this;if(K){if(K.isWebMercator)return v.xyToLngLat(D,G,w)[0];if(K.isGeographic)return D}return null},set:function(D){const {y:G,spatialReference:K}=this;K&&(K.isWebMercator?this._set("x",v.lngLatToXY(D,G,w)[0]):K.isGeographic&&this._set("x",D),this._set("longitude",D))}}]);return C}(q);b.__decorate([d.property({readOnly:!0})],c.prototype,"cache",null);b.__decorate([d.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasM",null);b.__decorate([d.property({type:Boolean,
json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasZ",null);b.__decorate([d.property({type:Number})],c.prototype,"latitude",null);b.__decorate([d.property({type:Number})],c.prototype,"longitude",null);b.__decorate([d.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),t.cast(z=>isNaN(z)?z:r.ensureNumber(z))],c.prototype,"x",void 0);b.__decorate([m.writer("x")],c.prototype,"writeX",null);b.__decorate([g.reader("x")],c.prototype,"readX",null);
b.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"y",void 0);b.__decorate([d.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],c.prototype,"z",void 0);b.__decorate([d.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],c.prototype,"m",void 0);c=A=b.__decorate([n.subclass("esri.geometry.Point")],c);c.prototype.toJSON.isDefaultToJSON=!0;return c})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports",
"../ensureType","../metadata"],function(a,b,c){function f(t){const g="__accessorMetadata__"in t?b.ensureType(t):t;return function(...n){n.push(g);if("number"===typeof n[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return d.apply(this,n)}}function d(t,g,n,m){c.getOwnPropertyMetadata(t,g).cast=m}function l(t){return function(g,n){c.getOwnPropertyMetadata(g,t).cast=g[n]}}const u=Object.prototype.toString;a.cast=function(...t){if(3!==t.length||"string"!==typeof t[1]){if(1===
t.length&&"[object Function]"===u.call(t[0]))return f(t[0]);if(1===t.length&&"string"===typeof t[0])return l(t[0])}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/offset":function(){define(["exports"],function(a){a.offsetCoordsX=function(b,c){b[0]+=c;return b};a.offsetPoint=function(b,c,f,d){b.x+=c;b.y+=f;if(null!=d){var l;b.z=(null!=(l=b.z)?l:0)+d}return b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/pointUtils":function(){define(["exports"],
function(a){a.distance=function(b,c){const f=b.x-c.x,d=b.y-c.y;b=b.hasZ&&c.hasZ?b.z-c.z:0;return Math.sqrt(f*f+d*d+b*b)};a.squareDistance=function(b,c){const f=b.x-c.x,d=b.y-c.y;b=b.hasZ&&c.hasZ?b.z-c.z:0;return f*f+d*d+b*b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/webMercatorUtils":function(){define("exports ../../core/lang ../../core/maybe ../SpatialReference ./Ellipsoid ./spatialReferenceUtils".split(" "),function(a,b,c,f,d,l){function u(r,q,k,p,e){e.spatialReference=
k;if("x"in r&&"x"in e)[e.x,e.y]=q(r.x,r.y,m,p);else if("xmin"in r&&"xmin"in e)[e.xmin,e.ymin]=q(r.xmin,r.ymin,m,p),[e.xmax,e.ymax]=q(r.xmax,r.ymax,m,p);else if("paths"in r&&"paths"in e||"rings"in r&&"rings"in e){r="paths"in r?r.paths:r.rings;k=[];for(let v=0;v<r.length;v++){const x=r[v];var h=[];k.push(h);for(let A=0;A<x.length;A++)h.push(q(x[A][0],x[A][1],[0,0],p)),2<x[A].length&&h[A].push(x[A][2]),3<x[A].length&&h[A].push(x[A][3])}"paths"in e?e.paths=k:e.rings=k}else if("points"in r&&"points"in
e){r=r.points;k=[];for(h=0;h<r.length;h++)k[h]=q(r[h][0],r[h][1],[0,0],p),2<r[h].length&&k[h].push(r[h][2]),3<r[h].length&&k[h].push(r[h][3]);e.points=k}return e}function t(r,q){const k=r&&(null!=r.wkid||null!=r.wkt?r:r.spatialReference),p=q&&(null!=q.wkid||null!=q.wkt?q:q.spatialReference);return r&&"type"in r&&"mesh"===r.type||q&&"type"in q&&"mesh"===q.type||!k||!p?!1:l.equals(p,k)?!0:l.isWebMercator(p)&&l.isWGS84(k)||l.isWebMercator(k)&&l.isWGS84(p)}function g(r,q,k=[0,0]){89.99999<q?q=89.99999:
-89.99999>q&&(q=-89.99999);q*=.017453292519943;k[0]=.017453292519943*r*d.earth.radius;k[1]=d.earth.halfSemiMajorAxis*Math.log((1+Math.sin(q))/(1-Math.sin(q)));return k}function n(r,q,k=[0,0],p=!1){r=r/d.earth.radius*57.29577951308232;k[0]=p?r:r-360*Math.floor((r+180)/360);k[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-q/d.earth.radius)));return k}const m=[0,0];a.canProject=t;a.geographicToWebMercator=function(r,q=!1,k=b.clone(r)){return u(r,g,f.WebMercator,q,k)};a.lngLatToXY=g;a.project=
function(r,q){if(c.isNone(r))return null;const k=r.spatialReference;q=q&&(null!=q.wkid||null!=q.wkt?q:q.spatialReference);return t(k,q)?l.equals(k,q)?b.clone(r):l.isWebMercator(q)?u(r,g,f.WebMercator,!1,b.clone(r)):l.isWGS84(q)?u(r,n,f.WGS84,!1,b.clone(r)):null:null};a.webMercatorToGeographic=function(r,q=!1,k=b.clone(r)){return u(r,n,f.WGS84,q,k)};a.x2lon=function(r){return r/d.earth.radius};a.xyToLngLat=n;a.y2lat=function(r){return Math.PI/2-2*Math.atan(Math.exp(-r/d.earth.radius))};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/geometry/support/Ellipsoid":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(a,b){let c=function(){function u(t,g,n,m){this.semiMajorAxis=t;this.flattening=g;this.outerAtmosphereRimWidth=n;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=Math.PI*this.semiMajorAxis;this.metersPerDegree=this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-1;
this.eccentricitySquared=m?m:2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}b._createClass(u,[{key:"radius",get:function(){return this.semiMajorAxis}}]);return u}();const f=new c(6378137,1/298.257223563,3E5,.006694379990137799),d=new c(3396190,.005886007555525457,23E4),l=new c(1737400,0,0);a.Ellipsoid=c;a.earth=f;a.mars=d;a.moon=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/contains":function(){define(["exports",
"../../core/maybe"],function(a,b){function c(t,g){return f(t,g[0],g[1])}function f(t,g,n,m){return g>=t.xmin&&g<=t.xmax&&n>=t.ymin&&n<=t.ymax?null!=m&&t.hasZ?m>=t.zmin&&m<=t.zmax:!0:!1}function d(t,g){if(t=t.rings)if(Array.isArray(t[0][0])){var n=!1;for(let m=0,r=t.length;m<r;m++)n=l(n,t[m],g);g=n}else g=l(!1,t,g);else g=!1;return g}function l(t,g,n){const [m,r]=n;n=0;for(let q=0,k=g.length;q<k;q++){n++;n===k&&(n=0);const [p,e]=g[q],[h,v]=g[n];(e<r&&v>=r||v<r&&e>=r)&&p+(r-e)/(v-e)*(h-p)<m&&(t=!t)}return t}
const u=[0,0];a.extentContainsCoords2D=c;a.extentContainsCoords3D=function(t,g){return f(t,g[0],g[1],g[2])};a.extentContainsExtent=function(t,g){const {xmin:n,ymin:m,zmin:r,xmax:q,ymax:k,zmax:p}=g;return t.hasZ&&g.hasZ?f(t,n,m,r)&&f(t,n,k,r)&&f(t,q,k,r)&&f(t,q,m,r)&&f(t,n,m,p)&&f(t,n,k,p)&&f(t,q,k,p)&&f(t,q,m,p):f(t,n,m)&&f(t,n,k)&&f(t,q,k)&&f(t,q,m)};a.extentContainsMultipoint=function(t,g){if(!g.points||g.points.length)return!1;for(const n of g.points)if(!c(t,n))return!1;return!0};a.extentContainsPoint=
function(t,g){return b.isSome(g)?f(t,g.x,g.y,g.z):!1};a.polygonContainsCoords=d;a.polygonContainsPoint=function(t,g){u[1]=g.y;u[0]=g.x;return d(t,u)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/intersectsBase":function(){define(["exports","./contains"],function(a,b){function c(h,v){return b.extentContainsPoint(h,v)}function f(h,v){var x=h.hasZ&&v.hasZ;if(h.xmin<=v.xmin){var A=v.xmin;if(h.xmax<A)return!1}else if(A=h.xmin,v.xmax<A)return!1;if(h.ymin<=v.ymin){if(A=v.ymin,
h.ymax<A)return!1}else if(A=h.ymin,v.ymax<A)return!1;if(x&&v.hasZ)if(h.zmin<=v.zmin){if(x=v.zmin,h.zmax<x)return!1}else if(x=h.zmin,v.zmax<x)return!1;return!0}function d(h,v){const {points:x,hasZ:A}=v;v=A?b.extentContainsCoords3D:b.extentContainsCoords2D;for(const w of x)if(v(h,w))return!0;return!1}function l(h,v){n[0]=h.xmin;n[1]=h.ymax;m[0]=h.xmax;m[1]=h.ymax;r[0]=h.xmin;r[1]=h.ymin;q[0]=h.xmax;q[1]=h.ymin;for(var x of k)if(b.polygonContainsCoords(v,x))return!0;for(const A of v.rings)if(A.length){v=
A[0];if(b.extentContainsCoords2D(h,v))return!0;for(x=1;x<A.length;x++){const w=A[x];if(b.extentContainsCoords2D(h,w)||t(v,w,p))return!0;v=w}}return!1}function u(h,v){n[0]=h.xmin;n[1]=h.ymax;m[0]=h.xmax;m[1]=h.ymax;r[0]=h.xmin;r[1]=h.ymin;q[0]=h.xmax;q[1]=h.ymin;v=v.paths;for(const x of v){if(!v.length)continue;let A=x[0];if(b.extentContainsCoords2D(h,A))return!0;for(let w=1;w<x.length;w++){const y=x[w];if(b.extentContainsCoords2D(h,y)||t(A,y,p))return!0;A=y}}return!1}function t(h,v,x){for(let A=0;A<
x.length;A++)if(g(h,v,x[A][0],x[A][1]))return!0;return!1}function g(h,v,x,A,w){const [y,z]=h,[C,B]=v,[D,G]=x,[K,M]=A;var N=K-D;h=y-D;v=C-y;const I=M-G;x=z-G;A=B-z;const F=I*v-N*A;if(0===F)return!1;N=(N*x-I*h)/F;h=(v*x-A*h)/F;return 0<=N&&1>=N&&0<=h&&1>=h?(w&&(w[0]=y+N*(C-y),w[1]=z+N*(B-z)),!0):!1}const n=[0,0],m=[0,0],r=[0,0],q=[0,0],k=[n,m,r,q],p=[[r,n],[n,m],[m,q],[q,r]],e=[0,0];a.extentIntersectsExtent=f;a.extentIntersectsMultipoint=d;a.extentIntersectsPoint=c;a.extentIntersectsPolygon=l;a.extentIntersectsPolyline=
u;a.getFeatureExtentIntersector=function(h){switch(h){case "esriGeometryEnvelope":case "extent":return f;case "esriGeometryMultipoint":case "multipoint":return d;case "esriGeometryPoint":case "point":return c;case "esriGeometryPolygon":case "polygon":return l;case "esriGeometryPolyline":case "polyline":return u}};a.isSelfIntersecting=function(h){for(let B=0;B<h.length;B++){const D=h[B];for(var v=0;v<D.length-1;v++){var x=D[v],A=D[v+1];for(var w=B+1;w<h.length;w++)for(var y=0;y<h[w].length-1;y++){var z=
h[w][y],C=h[w][y+1];if(g(x,A,z,C,e)&&!(e[0]===x[0]&&e[1]===x[1]||e[0]===z[0]&&e[1]===z[1]||e[0]===A[0]&&e[1]===A[1]||e[0]===C[0]&&e[1]===C[1]))return!0}}v=D.length;if(!(4>=v))for(x=0;x<v-3;x++)for(A=v-1,0===x&&(A=v-2),w=D[x],y=D[x+1],z=x+2;z<A;z++){C=D[z];const G=D[z+1];if(g(w,y,C,G,e)&&!(e[0]===w[0]&&e[1]===w[1]||e[0]===C[0]&&e[1]===C[1]||e[0]===y[0]&&e[1]===y[1]||e[0]===G[0]&&e[1]===G[1]))return!0}}return!1};a.segmentIntersects=g;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/locale":function(){define(["exports"],
function(a){function b(){var p,e;return null!=(p=null!=m?m:null==(e=globalThis.navigator)?void 0:e.language)?p:"en"}function c(){void 0===n&&(n=b());return n}function f(p=c()){p=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(p);return null==p?void 0:p[1].toLowerCase()}function d(){var p;const e=null!=(p=g)?p:b();n!==e&&(n=e,[...k].forEach(h=>{h.call(null,e)}),[...q].forEach(h=>{h.call(null,e)}))}var l,u,t;let g=void 0,n=void 0;const m=null!=(l=null==(u=globalThis.esriConfig)?void 0:u.locale)?l:null==(t=globalThis.dojoConfig)?
void 0:t.locale,r={he:!0,ar:!0},q=[],k=[];null==globalThis.addEventListener?void 0:globalThis.addEventListener("languagechange",d);a.beforeLocaleChange=function(p){k.push(p);return{remove(){q.splice(k.indexOf(p),1)}}};a.getDefaultLocale=b;a.getLanguage=f;a.getLocale=c;a.onLocaleChange=function(p){q.push(p);return{remove(){q.splice(q.indexOf(p),1)}}};a.prefersRTL=function(p=c()){p=f(p);return void 0!==p&&(r[p]||!1)};a.setLocale=function(p){g=p?p:void 0;d()};Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/portal/PortalQueryParams":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/jsonMap ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),function(a,b,c,f,d,l,u,t,g,n,m,r){var q;const k=new f.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",
numViews:"num-views"});c=q=function(p){function e(v){v=p.call(this,v)||this;v.categories=null;v.disableExtraQuery=!1;v.extent=null;v.filter=null;v.num=10;v.query=null;v.sortField=null;v.start=1;return v}a._inheritsLoose(e,p);var h=e.prototype;h.clone=function(){return new q({categories:this.categories?d.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,
start:this.start})};h.toRequestOptions=function(v,x){let A;this.categories&&(A=this.categories.map(z=>Array.isArray(z)?JSON.stringify(z):z));let w;if(this.extent){var y=r.project(this.extent,m.WGS84);l.isSome(y)&&(w=`${y.xmin},${y.ymin},${y.xmax},${y.ymax}`)}y=this.query;!this.disableExtraQuery&&v.extraQuery&&(y="("+y+")"+v.extraQuery);v={categories:A,bbox:w,q:y,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(v.sortField=this.sortField.split(",").map(z=>
k.toJSON(z.trim())).join(","),v.sortOrder=this.sortOrder);return{query:{...x,...v}}};a._createClass(e,[{key:"sortOrder",get:function(){return this._get("sortOrder")||"asc"},set:function(v){"asc"!==v&&"desc"!==v||this._set("sortOrder",v)}}]);return e}(c);b.__decorate([u.property()],c.prototype,"categories",void 0);b.__decorate([u.property()],c.prototype,"disableExtraQuery",void 0);b.__decorate([u.property({type:n})],c.prototype,"extent",void 0);b.__decorate([u.property()],c.prototype,"filter",void 0);
b.__decorate([u.property()],c.prototype,"num",void 0);b.__decorate([u.property()],c.prototype,"query",void 0);b.__decorate([u.property()],c.prototype,"sortField",void 0);b.__decorate([u.property()],c.prototype,"sortOrder",null);b.__decorate([u.property()],c.prototype,"start",void 0);return c=q=b.__decorate([g.subclass("esri.portal.PortalQueryParams")],c)})},"esri/core/jsonMap":function(){define(["exports","./object"],function(a,b){let c=function(){function f(l,u={ignoreUnknown:!1,useNumericKeys:!1}){this.jsonToAPI=
l;this.options=u;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this._invertMap(l);this.apiValues=this._getKeysSorted(this.apiToJSON);this.jsonValues=this._getKeysSorted(this.jsonToAPI);this.read=t=>this.fromJSON(t);this.write=(t,g,n)=>{t=this.toJSON(t);void 0!==t&&b.setDeepValue(n,t,g)};this.write.isJSONMapWriter=!0}var d=f.prototype;d.toJSON=function(l){return this.apiToJSON.hasOwnProperty(l)?(l=this.apiToJSON[l],this.options.useNumericKeys?+l:l):this.options.ignoreUnknown?void 0:l};d.fromJSON=
function(l){return this.jsonToAPI.hasOwnProperty(l)?this.jsonToAPI[l]:this.options.ignoreUnknown?void 0:l};d._invertMap=function(l){const u={};for(const t in l)u[l[t]]=t;return u};d._getKeysSorted=function(l){const u=[];for(const t in l)u.push(t);u.sort();return u};return f}();a.JSONMap=c;a.strict=function(){return function(f,d){return new c(f,{ignoreUnknown:!0,...d})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/PortalQueryResult":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){c=function(g){function n(m){m=g.call(this,m)||this;m.nextQueryParams=null;m.queryParams=null;m.results=null;m.total=null;return m}a._inheritsLoose(n,g);return n}(c);b.__decorate([f.property()],c.prototype,"nextQueryParams",void 0);b.__decorate([f.property()],c.prototype,"queryParams",void 0);b.__decorate([f.property()],c.prototype,"results",void 0);b.__decorate([f.property()],c.prototype,"total",void 0);return c=b.__decorate([t.subclass("esri.portal.PortalQueryResult")],
c)})},"esri/portal/PortalUser":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./PortalFolder ./PortalGroup".split(" "),function(a,b,c,f,d,l,u,t,g,n,m,r){var q;d=q=function(k){function p(...h){h=k.call(this,...h)||this;h.access=null;h.created=null;h.culture=null;h.description=null;
h.email=null;h.fullName=null;h.modified=null;h.orgId=null;h.portal=null;h.preferredView=null;h.privileges=null;h.region=null;h.role=null;h.roleId=null;h.sourceJSON=null;h.units=null;h.username=null;h.userType=null;return h}b._inheritsLoose(p,k);var e=p.prototype;e.addItem=function(h){const v=h&&h.item;var x=h&&h.data;h=h&&h.folder;const A={method:"post"};v&&(A.query=v.createPostQuery(),null!=x&&("string"===typeof x?A.query.text=x:"object"===typeof x&&(A.query.text=JSON.stringify(x))));x=this.userContentUrl;
h&&(x+="/"+("string"===typeof h?h:h.id));return this.portal._request(x+"/addItem",A).then(w=>{v.id=w.id;v.portal=this.portal;return v.loaded?v.reload():v.load()})};e.deleteItem=function(h){let v=this.userContentUrl;h.ownerFolder&&(v+="/"+h.ownerFolder);return this.portal._request(v+`/items/${h.id}/delete`,{method:"post"}).then(()=>{h.id=null;h.portal=null})};e.deleteItems=function(h){const v=this.userContentUrl+"/deleteItems";var x=h.map(A=>A.id);return x.length?(x={method:"post",query:{items:x.join(",")}},
this.portal._request(v,x).then(()=>{h.forEach(A=>{A.id=null;A.portal=null})})):Promise.resolve(void 0)};e.fetchFolders=function(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then(h=>h&&h.folders?h.folders.map(v=>{v=m.fromJSON(v);v.portal=this.portal;return v}):[])};e.fetchGroups=function(){return this.portal._request(this.url).then(h=>h&&h.groups?h.groups.map(v=>{v=r.fromJSON(v);v.portal=this.portal;return v}):[])};e.fetchItems=function(h){h||(h={});let v=this.userContentUrl;
h.folder&&(v+="/"+h.folder.id);let x;return(new Promise((A,w)=>a(["./PortalItem"],y=>A(Object.freeze({__proto__:null,default:y})),w))).then(({default:A})=>{x=A;return this.portal._request(v,{query:{folders:!1,num:h.num||10,start:h.start||1,sortField:h.sortField||"created",sortOrder:h.sortOrder||"asc"}})}).then(A=>{let w;return A&&A.items?(w=A.items.map(y=>{y=x.fromJSON(y);y.portal=this.portal;return y}),Promise.all(w.map(y=>y.load())).catch(y=>y).then(()=>({items:w,nextStart:A.nextStart,total:A.total}))):
{items:[],nextStart:-1,total:0}})};e.fetchTags=function(){return this.portal._request(this.url+"/tags").then(h=>h.tags)};e.getThumbnailUrl=function(h){let v=this.thumbnailUrl;v&&h&&(v+=`&w=${h}`);return v};e.queryFavorites=function(h){return this.favGroupId?(this._favGroup||(this._favGroup=new r({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(h)):Promise.reject(new f("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};e.toJSON=function(){throw new f("internal:not-yet-implemented",
"PortalGroup.toJSON is not yet implemented");};p.fromJSON=function(h){if(!h)return null;if(h.declaredClass)throw Error("JSON object is already hydrated");const v=new q;v.sourceJSON=h;v.read(h);return v};b._createClass(p,[{key:"thumbnailUrl",get:function(){const h=this.url,v=this.thumbnail;return h&&v?this.portal._normalizeUrl(`${h}/info/${v}?f=json`):null}},{key:"userContentUrl",get:function(){const h=this.get("portal.restUrl");return h?`${h}/content/users/${this.username}`:null}},{key:"url",get:function(){const h=
this.get("portal.restUrl");return h?`${h}/community/users/${this.username}`:null}}]);return p}(d.JSONSupport);c.__decorate([l.property()],d.prototype,"access",void 0);c.__decorate([l.property({type:Date})],d.prototype,"created",void 0);c.__decorate([l.property()],d.prototype,"culture",void 0);c.__decorate([l.property()],d.prototype,"description",void 0);c.__decorate([l.property()],d.prototype,"email",void 0);c.__decorate([l.property()],d.prototype,"favGroupId",void 0);c.__decorate([l.property()],
d.prototype,"fullName",void 0);c.__decorate([l.property({type:Date})],d.prototype,"modified",void 0);c.__decorate([l.property()],d.prototype,"orgId",void 0);c.__decorate([l.property()],d.prototype,"portal",void 0);c.__decorate([l.property()],d.prototype,"preferredView",void 0);c.__decorate([l.property()],d.prototype,"privileges",void 0);c.__decorate([l.property()],d.prototype,"region",void 0);c.__decorate([l.property()],d.prototype,"role",void 0);c.__decorate([l.property()],d.prototype,"roleId",void 0);
c.__decorate([l.property()],d.prototype,"sourceJSON",void 0);c.__decorate([l.property()],d.prototype,"thumbnail",void 0);c.__decorate([l.property({readOnly:!0})],d.prototype,"thumbnailUrl",null);c.__decorate([l.property()],d.prototype,"units",void 0);c.__decorate([l.property({readOnly:!0})],d.prototype,"userContentUrl",null);c.__decorate([l.property({readOnly:!0})],d.prototype,"url",null);c.__decorate([l.property()],d.prototype,"username",void 0);c.__decorate([l.property()],d.prototype,"userType",
void 0);return d=q=c.__decorate([n.subclass("esri.portal.PortalUser")],d)})},"esri/portal/PortalFolder":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t,g){f=function(n){function m(r){r=n.call(this,r)||this;r.created=null;r.id=null;r.portal=null;r.title=
null;r.username=null;return r}a._inheritsLoose(m,n);m.prototype.toJSON=function(){throw new c("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};a._createClass(m,[{key:"url",get:function(){const r=this.get("portal.restUrl");return r?`${r}/content/users/${this.username}/${this.id}`:null}}]);return m}(f.JSONSupport);b.__decorate([d.property({type:Date})],f.prototype,"created",void 0);b.__decorate([d.property()],f.prototype,"id",void 0);b.__decorate([d.property()],f.prototype,
"portal",void 0);b.__decorate([d.property()],f.prototype,"title",void 0);b.__decorate([d.property({readOnly:!0})],f.prototype,"url",null);b.__decorate([d.property()],f.prototype,"username",void 0);return f=b.__decorate([g.subclass("esri.portal.PortalFolder")],f)})},"esri/portal/PortalGroup":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./PortalQueryParams".split(" "),
function(a,b,c,f,d,l,u,t,g,n){f=function(m){function r(k){k=m.call(this,k)||this;k.access=null;k.created=null;k.description=null;k.id=null;k.isInvitationOnly=!1;k.modified=null;k.owner=null;k.portal=null;k.snippet=null;k.sortField=null;k.sortOrder=null;k.tags=null;k.title=null;return k}a._inheritsLoose(r,m);var q=r.prototype;q.fetchCategorySchema=function(k){return this.portal._request(this.url+"/categorySchema",k).then(p=>{p=p.categorySchema||[];return p.some(e=>"contentCategorySetsGroupQuery.LivingAtlas"===
e.source)?this._fetchCategorySchemaSet("LivingAtlas",k):p})};q.fetchMembers=function(k){return this.portal._request(this.url+"/users",k)};q.getThumbnailUrl=function(k){let p=this.thumbnailUrl;p&&k&&(p+=`&w=${k}`);return p};q.toJSON=function(){throw new c("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};q.queryItems=function(k,p){k=t.ensureType(n,k);if(5<parseFloat(this.portal.currentVersion))return k=k||new n,this.portal._queryPortal(`/content/groups/${this.id}/search`,
k,"PortalItem",p);k=k?k.clone():new n;k.query="group:"+this.id+(k.query?" "+k.query:"");return this.portal.queryItems(k,p)};q._fetchCategorySchemaSet=function(k,p){return this.portal._fetchSelf(this.portal.authMode,!0,p).then(e=>{if(e=e.contentCategorySetsGroupQuery){const h=new n;h.disableExtraQuery=!0;h.num=1;h.query=e;return this.portal.queryGroups(h,p)}throw new c("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(e=>{if(e.total){e=e.results[0];const h=
new n;h.num=1;h.query=`typekeywords:"${k}"`;return e.queryItems(h,p)}throw new c("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(e=>e.total?e.results[0].fetchData("json",p).then(h=>(h=h&&h.categorySchema)&&h.length?h:[]):[])};a._createClass(r,[{key:"thumbnailUrl",get:function(){const k=this.url,p=this.thumbnail;return k&&p?this.portal._normalizeUrl(`${k}/info/${p}?f=json`):null}},{key:"url",get:function(){const k=this.get("portal.restUrl");return k?k+"/community/groups/"+
this.id:null}}]);return r}(f.JSONSupport);b.__decorate([d.property()],f.prototype,"access",void 0);b.__decorate([d.property({type:Date})],f.prototype,"created",void 0);b.__decorate([d.property()],f.prototype,"description",void 0);b.__decorate([d.property()],f.prototype,"id",void 0);b.__decorate([d.property()],f.prototype,"isInvitationOnly",void 0);b.__decorate([d.property({type:Date})],f.prototype,"modified",void 0);b.__decorate([d.property()],f.prototype,"owner",void 0);b.__decorate([d.property()],
f.prototype,"portal",void 0);b.__decorate([d.property()],f.prototype,"snippet",void 0);b.__decorate([d.property()],f.prototype,"sortField",void 0);b.__decorate([d.property()],f.prototype,"sortOrder",void 0);b.__decorate([d.property()],f.prototype,"tags",void 0);b.__decorate([d.property()],f.prototype,"thumbnail",void 0);b.__decorate([d.property({readOnly:!0})],f.prototype,"thumbnailUrl",null);b.__decorate([d.property()],f.prototype,"title",void 0);b.__decorate([d.property({readOnly:!0})],f.prototype,
"url",null);return f=b.__decorate([g.subclass("esri.portal.PortalGroup")],f)})},"esri/portal/PortalItem":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../assets ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v){var x;l=x=function(A){function w(z){z=A.call(this,z)||this;z.access=null;z.accessInformation=null;z.apiKey=null;z.applicationProxies=null;z.avgRating=null;z.categories=null;z.created=null;z.culture=null;z.description=null;z.extent=null;z.groupCategories=null;z.id=null;z.itemControl=null;z.licenseInfo=null;z.modified=null;z.name=null;z.numComments=null;z.numRatings=null;z.numViews=null;z.owner=null;z.ownerFolder=null;z.portal=null;z.screenshots=null;z.size=
null;z.snippet=null;z.sourceJSON=null;z.tags=null;z.title=null;z.type=null;z.typeKeywords=null;z.url=null;return z}b._inheritsLoose(w,A);w.from=function(z){return r.ensureClass(x,z)};var y=w.prototype;y.destroy=function(){this.portal=null};y.readExtent=function(z){return z&&z.length?new p(z[0][0],z[0][1],z[1][0],z[1][1]):null};y.load=function(z){this.portal||(this.portal=e.getDefault());const C=this.portal.load(z).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,
{signal:g.isSome(z)?z.signal:null,query:{token:this.apiKey}}):{}).then(B=>{this.sourceJSON=B;this.read(B)});this.addResolvingPromise(C);return Promise.resolve(this)};y.addRating=function(z){const C={method:"post",query:{}};z instanceof v&&(z=z.rating);isNaN(z)||"number"!==typeof z||(C.query.rating=z);return this.portal._request(this.itemUrl+"/addRating",C).then(()=>new v({rating:z,created:new Date}))};y.clone=function(){const z={access:this.access,accessInformation:this.accessInformation,applicationProxies:u.clone(this.applicationProxies),
avgRating:this.avgRating,categories:u.clone(this.categories),created:u.clone(this.created),culture:this.culture,description:this.description,extent:u.clone(this.extent),groupCategories:u.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:u.clone(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:u.clone(this.screenshots),
size:this.size,snippet:this.snippet,tags:u.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:u.clone(this.typeKeywords),url:this.url};this.loaded&&(z.loadStatus="loaded");return(new x({sourceJSON:this.sourceJSON})).set(z)};y.createPostQuery=function(){const z=this.toJSON();for(const C in z)"tags"===C&&null!==z[C]&&(z[C]=z[C].join(", ")),"typeKeywords"===C&&null!==z[C]&&(z[C]=z[C].join(", ")),"extent"===C&&z[C]&&(z[C]=JSON.stringify(z[C]));return z};y.deleteRating=
function(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})};y.fetchData=function(z="json",C){return this.portal._request(this.itemUrl+"/data",{responseType:z,...C,query:{token:this.apiKey}})};y.fetchRating=function(z){return this.portal._request(this.itemUrl+"/rating",{query:{token:this.apiKey},...z}).then(C=>null!=C.rating?(C.created=new Date(C.created),new v(C)):null)};y.fetchRelatedItems=function(z,C){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",
{query:{...z,token:this.apiKey},...C},x)};y.getThumbnailUrl=function(z){let C=this.thumbnailUrl;C&&z&&(C+=`&w=${z}`);return C};y.reload=function(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(z=>{this.sourceJSON=z;this.read(z);return this})};y.update=function(z){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const C=z&&z.data,B={method:"post"};B.query=this.createPostQuery();for(const D in B.query)null===B.query[D]&&(B.query[D]="");B.query.clearEmptyFields=
!0;null!=C&&("string"===typeof C?B.query.text=C:"object"===typeof C&&(B.query.text=JSON.stringify(C)));return this.portal._request(`${this.userItemUrl}/update`,B).then(()=>this.reload())}):Promise.reject(new d("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};y.updateThumbnail=function(z){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const C=z.thumbnail,B=z.filename,D={method:"post"};if("string"===typeof C)n.isDataProtocol(C)?D.query={data:C}:
D.query={url:n.makeAbsolute(C)},g.isSome(B)&&(D.query.filename=B);else{const G=new FormData;g.isSome(B)?G.append("file",C,B):G.append("file",C);D.body=G}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,D).then(()=>this.reload())}):Promise.reject(new d("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};y.fetchResources=function(){var z=b._asyncToGenerator(function*(C={},B){return(yield new Promise((D,G)=>a(["./support/resourceUtils"],D,G))).fetchResources(this,
C,B)});return function(){return z.apply(this,arguments)}}();y.addResource=function(){var z=b._asyncToGenerator(function*(C,B,D){const G=yield new Promise((K,M)=>a(["./support/resourceUtils"],K,M));C.portalItem=this;return G.addOrUpdateResource(C,"add",B,D)});return function(C,B,D){return z.apply(this,arguments)}}();y.removeResource=function(){var z=b._asyncToGenerator(function*(C,B){const D=yield new Promise((G,K)=>a(["./support/resourceUtils"],G,K));if(C.portalItem&&C.portalItem.itemUrl!==this.itemUrl)throw new d("removeresource:portal-item-mismatch",
"The portal item associated with the provided resource does not match the item");return D.removeResource(this,C,B)});return function(C,B){return z.apply(this,arguments)}}();y.removeAllResources=function(){var z=b._asyncToGenerator(function*(C){return(yield new Promise((B,D)=>a(["./support/resourceUtils"],B,D))).removeAllResources(this,C)});return function(C){return z.apply(this,arguments)}}();y.resourceFromPath=function(z){return new h({portalItem:this,path:z})};y.toJSON=function(){var z=this.extent;
z={created:this.created&&this.created.getTime(),description:this.description,extent:z&&[[z.xmin,z.ymin],[z.xmax,z.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return u.fixJson(z)};w.fromJSON=function(z){if(!z)return null;if(z.declaredClass)throw Error("JSON object is already hydrated");
return new x({sourceJSON:z})};y._getPostQuery=function(){const z=this.toJSON();for(const C in z)"tags"===C&&null!==z[C]&&(z[C]=z[C].join(", ")),"typeKeywords"===C&&null!==z[C]&&(z[C]=z[C].join(", ")),"extent"===C&&z[C]&&(z[C]=JSON.stringify(z[C]));return z};b._createClass(w,[{key:"displayName",get:function(){const z=this.type,C=this.typeKeywords||[];let B=z;"Feature Service"===z||"Feature Collection"===z?B=-1<C.indexOf("Table")?"Table":-1<C.indexOf("Route Layer")?"Route Layer":-1<C.indexOf("Markup")?
"Markup":"Feature Layer":"Image Service"===z?B=-1<C.indexOf("Elevation 3D Layer")?"Elevation Layer":-1<C.indexOf("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===z?B="Scene Layer":"Media Service"===z?B="Media Layer":"Scene Package"===z?B="Scene Layer Package":"Stream Service"===z?B="Feature Layer":"Geoprocessing Service"===z&&this.portal&&this.portal.isPortal?B=-1<C.indexOf("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===z?B="Locator":"Geoenrichment Service"===
z?B="GeoEnrichment Service":"Microsoft Powerpoint"===z?B="Microsoft PowerPoint":"GeoJson"===z?B="GeoJSON":"Globe Service"===z?B="Globe Layer":"Vector Tile Service"===z?B="Tile Layer":"netCDF"===z?B="NetCDF":"Map Service"===z?B=-1===C.indexOf("Spatiotemporal")&&(-1<C.indexOf("Hosted Service")||-1<C.indexOf("Tiled"))&&-1===C.indexOf("Relational")?"Tile Layer":"Map Image Layer":z&&-1<z.toLowerCase().indexOf("add in")?B=z.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===z?B="Big Data File Share":
"Compact Tile Package"===z?B="Tile Package (tpkx)":"OGCFeatureServer"===z?B="OGC Feature Layer":"web mapping application"===z&&-1<C.indexOf("configurableApp")&&(B="Instant App");return B}},{key:"iconUrl",get:function(){var z=this.type&&this.type.toLowerCase()||"";const C=this.typeKeywords||[];let B=!1,D=!1,G=!1,K=!1,M=!1,N=!1;0<z.indexOf("service")||"feature collection"===z||"kml"===z||"wms"===z||"wmts"===z||"wfs"===z?(B=-1<C.indexOf("Hosted Service"),"feature service"===z||"feature collection"===
z||"kml"===z||"wfs"===z?(D=-1<C.indexOf("Table"),G=-1<C.indexOf("Route Layer"),K=-1<C.indexOf("Markup"),M=-1!==C.indexOf("Spatiotemporal"),N=-1!==C.indexOf("UtilityNetwork"),z=M&&D?"spatiotemporaltable":D?"table":G?"routelayer":K?"markup":M?"spatiotemporal":B?"featureshosted":N?"utilitynetwork":"features"):z="map service"===z||"wms"===z||"wmts"===z?B||-1<C.indexOf("Tiled")||"wmts"===z?"maptiles":"mapimages":"scene service"===z?-1<C.indexOf("Line")?"sceneweblayerline":-1<C.indexOf("3DObject")?"sceneweblayermultipatch":
-1<C.indexOf("Point")?"sceneweblayerpoint":-1<C.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<C.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<C.indexOf("Polygon")?"sceneweblayerpolygon":-1<C.indexOf("Building")?"sceneweblayerbuilding":-1<C.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===z?-1<C.indexOf("Elevation 3D Layer")?"elevationlayer":-1<C.indexOf("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===z?"streamlayer":"media service"===z?"mediaservice":
"vector tile service"===z?"vectortile":"datastore catalog service"===z?"datastorecollection":"geocoding service"===z?"geocodeservice":"geoprocessing service"===z?-1<C.indexOf("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":"layers"):z="web map"===z||"cityengine web scene"===z?"maps":"web scene"===z?-1<C.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===z&&-1<C.indexOf("configurableApp")?"instantapps":"web mapping application"===z||"mobile application"===
z||"application"===z||"operation view"===z||"desktop application"===z?"apps":"map document"===z||"map package"===z||"published map"===z||"scene document"===z||"globe document"===z||"basemap package"===z||"mobile basemap package"===z||"mobile map package"===z||"project package"===z||"project template"===z||"pro map"===z||"layout"===z||"layer"===z&&-1<C.indexOf("ArcGIS Pro")||"explorer map"===z&&C.indexOf("Explorer Document")?"mapsgray":"service definition"===z||"csv"===z||"shapefile"===z||"cad drawing"===
z||"geojson"===z||"360 vr experience"===z||"netcdf"===z||"administrative report"===z?"datafiles":"explorer add in"===z||"desktop add in"===z||"windows viewer add in"===z||"windows viewer configuration"===z?"appsgray":"arcgis pro add in"===z||"arcgis pro configuration"===z?"addindesktop":"rule package"===z||"file geodatabase"===z||"sqlite geodatabase"===z||"csv collection"===z||"kml collection"===z||"windows mobile package"===z||"map template"===z||"desktop application template"===z||"gml"===z||"arcpad package"===
z||"code sample"===z||"form"===z||"document link"===z||"earth configuration"===z||"operations dashboard add in"===z||"rules package"===z||"image"===z||"workflow manager package"===z||"explorer map"===z&&-1<C.indexOf("Explorer Mapping Application")||-1<C.indexOf("Document")?"datafilesgray":"network analysis service"===z||"geoprocessing service"===z||"geodata service"===z||"geometry service"===z||"geoprocessing package"===z||"locator package"===z||"geoprocessing sample"===z||"workflow manager service"===
z?"toolsgray":"layer"===z||"layer package"===z||"explorer layer"===z?"layersgray":"scene package"===z?"scenepackage":"mobile scene package"===z?"mobilescenepackage":"tile package"===z||"compact tile package"===z?"tilepackage":"task file"===z?"taskfile":"report template"===z?"report-template":"statistical data collection"===z?"statisticaldatacollection":"insights workbook"===z?"workbook":"insights model"===z?"insightsmodel":"insights page"===z?"insightspage":"insights theme"===z?"insightstheme":"hub initiative"===
z?"hubinitiative":"hubpage"===z?"hubpage":"hub event"===z?"hubevent":"hub site application"===z?"hubsite":"hub project"===z?"hubproject":"relational database connection"===z?"relationaldatabaseconnection":"big data file share"===z?"datastorecollection":"image collection"===z?"imagecollection":"style"===z?"style":"desktop style"===z?"desktopstyle":"dashboard"===z?"dashboard":"raster function template"===z?"rasterprocessingtemplate":"vector tile package"===z?"vectortilepackage":"ortho mapping project"===
z?"orthomappingproject":"ortho mapping template"===z?"orthomappingtemplate":"solution"===z?"solutions":"geopackage"===z?"geopackage":"deep learning package"===z?"deeplearningpackage":"real time analytic"===z?"realtimeanalytics":"big data analytic"===z?"bigdataanalytics":"feed"===z?"feed":"excalibur imagery project"===z?"excaliburimageryproject":"notebook"===z?"notebook":"storymap"===z?"storymap":"survey123 add in"===z?"survey123addin":"mission"===z?"mission":"mission report"===z?"missionreport":"quickcapture project"===
z?"quickcaptureproject":"pro report"===z?"proreport":"urban model"===z?"urbanmodel":"web experience"===z?"experiencebuilder":"web experience template"===z?"webexperiencetemplate":"experience builder widget"===z?"experiencebuilderwidget":"experience builder widget package"===z?"experiencebuilderwidgetpackage":"workflow"===z?"workflow":"insights script"===z?"insightsscript":"kernel gateway connection"===z?"kernelgatewayconnection":"hub initiative template"===z?"hubinitiativetemplate":"storymap theme"===
z?"storymaptheme":"knowledge graph"===z?"knowledgegraph":"native application"===z?"nativeapp":"native application installer"===z?"nativeappinstaller":"link chart"===z?"linkchart":"investigation"===z?"investigation":"ogcfeatureserver"===z?"features":"pro project"===z?"proproject":"insights workbook package"===z?"insightsworkbookpackage":"apache parquet"===z?"apacheparquet":"maps";return z?f.getAssetUrl("esri/images/portal/"+z+"16.png"):null}},{key:"isLayer",get:function(){return-1<"Map Service;Feature Service;Feature Collection;Scene Service;Image Service;Stream Service;Vector Tile Service;WMTS;WMS".split(";").indexOf(this.type)}},
{key:"itemUrl",get:function(){const z=this.get("portal.restUrl");return z?z+"/content/items/"+this.id:null}},{key:"thumbnailUrl",get:function(){const z=this.itemUrl,C=this.thumbnail;return z&&C?this.portal._normalizeUrl(`${z}/info/${C}?f=json`):null}},{key:"userItemUrl",get:function(){const z=this.get("portal.restUrl");if(!z)return null;const C=this.owner||this.get("portal.user.username");return C?`${z}/content/users/${this.ownerFolder?`${C}/${this.ownerFolder}`:C}/items/${this.id}`:null}}]);return w}(l.JSONSupportMixin(t));
c.__decorate([m.property({type:["private","shared","org","public"]})],l.prototype,"access",void 0);c.__decorate([m.property()],l.prototype,"accessInformation",void 0);c.__decorate([m.property({type:String})],l.prototype,"apiKey",void 0);c.__decorate([m.property({json:{read:{source:"appProxies"}}})],l.prototype,"applicationProxies",void 0);c.__decorate([m.property()],l.prototype,"avgRating",void 0);c.__decorate([m.property()],l.prototype,"categories",void 0);c.__decorate([m.property({type:Date})],
l.prototype,"created",void 0);c.__decorate([m.property()],l.prototype,"culture",void 0);c.__decorate([m.property()],l.prototype,"description",void 0);c.__decorate([m.property({readOnly:!0})],l.prototype,"displayName",null);c.__decorate([m.property({type:p})],l.prototype,"extent",void 0);c.__decorate([q.reader("extent")],l.prototype,"readExtent",null);c.__decorate([m.property()],l.prototype,"groupCategories",void 0);c.__decorate([m.property({readOnly:!0})],l.prototype,"iconUrl",null);c.__decorate([m.property()],
l.prototype,"id",void 0);c.__decorate([m.property({readOnly:!0})],l.prototype,"isLayer",null);c.__decorate([m.property()],l.prototype,"itemControl",void 0);c.__decorate([m.property({readOnly:!0})],l.prototype,"itemUrl",null);c.__decorate([m.property()],l.prototype,"licenseInfo",void 0);c.__decorate([m.property({type:Date})],l.prototype,"modified",void 0);c.__decorate([m.property()],l.prototype,"name",void 0);c.__decorate([m.property()],l.prototype,"numComments",void 0);c.__decorate([m.property()],
l.prototype,"numRatings",void 0);c.__decorate([m.property()],l.prototype,"numViews",void 0);c.__decorate([m.property()],l.prototype,"owner",void 0);c.__decorate([m.property()],l.prototype,"ownerFolder",void 0);c.__decorate([m.property({type:e})],l.prototype,"portal",void 0);c.__decorate([m.property()],l.prototype,"screenshots",void 0);c.__decorate([m.property()],l.prototype,"size",void 0);c.__decorate([m.property()],l.prototype,"snippet",void 0);c.__decorate([m.property()],l.prototype,"sourceJSON",
void 0);c.__decorate([m.property()],l.prototype,"tags",void 0);c.__decorate([m.property()],l.prototype,"thumbnail",void 0);c.__decorate([m.property({readOnly:!0})],l.prototype,"thumbnailUrl",null);c.__decorate([m.property()],l.prototype,"title",void 0);c.__decorate([m.property()],l.prototype,"type",void 0);c.__decorate([m.property()],l.prototype,"typeKeywords",void 0);c.__decorate([m.property()],l.prototype,"url",void 0);c.__decorate([m.property({readOnly:!0})],l.prototype,"userItemUrl",null);return l=
x=c.__decorate([k.subclass("esri.portal.PortalItem")],l)})},"esri/assets":function(){define("exports ./config ./request ./core/Error ./core/Logger ./core/urlUtils".split(" "),function(a,b,c,f,d,l){function u(g){if(!b.assetsPath)throw t.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new f("assets:path-not-set","config.assetsPath is not set");return l.join(b.assetsPath,g)}const t=d.getLogger("esri.assets");a.fetchAsset=function(g,
n){return c(u(g),n)};a.getAssetUrl=u;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/PortalItemResource":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t,g,n,m,r,q){const k=l.getLogger("esri.portal.PortalItemResource");
f=function(p){function e(v){v=p.call(this,v)||this;v.portalItem=null;return v}b._inheritsLoose(e,p);var h=e.prototype;h.normalizeCtorArgs=function(v){return v&&v.portalItem&&v.path?{...v,path:this._normalizePath(v.path,v.portalItem)}:v};h._castPath=function(v){return this._normalizePath(v,this.portalItem)};h.fetch=function(v="json",x){const A=this.url;if(u.isNone(A))throw new d("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(A,
{responseType:v,query:{token:this.portalItem.apiKey},signal:u.get(x,"signal")})};h.update=function(){var v=b._asyncToGenerator(function*(x,A){return(yield new Promise((w,y)=>a(["./support/resourceUtils"],w,y))).addOrUpdateResource(this,"update",x,A)});return function(x,A){return v.apply(this,arguments)}}();h.hasPath=function(){return u.isSome(this.path)};h._normalizePath=function(v,x){if(u.isNone(v))return v;v=v.replace(/^\/+/,"");u.isSome(x)&&t.isAbsolute(v)&&(v=t.makeRelative(v,x.itemUrl));return v.replace(/^\/+/,
"").replace(/^(\.\/)?resources\//,"")};b._createClass(e,[{key:"path",set:function(v){u.isSome(v)&&t.isAbsolute(v)?k.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",v)}},{key:"url",get:function(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}},{key:"itemRelativeUrl",get:function(){return this.portalItem&&this.path?`./resources/${this.path}`:null}}]);return e}(f);c.__decorate([g.property()],f.prototype,
"portalItem",void 0);c.__decorate([g.property({type:String,value:null})],f.prototype,"path",null);c.__decorate([r.cast("path")],f.prototype,"_castPath",null);c.__decorate([g.property({type:String,readOnly:!0})],f.prototype,"url",null);c.__decorate([g.property({type:String,readOnly:!0})],f.prototype,"itemRelativeUrl",null);return f=c.__decorate([q.subclass("esri.portal.PortalItemResource")],f)})},"esri/portal/PortalRating":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){c=function(g){function n(m){m=g.call(this,m)||this;m.created=null;m.rating=null;return m}a._inheritsLoose(n,g);return n}(c);b.__decorate([f.property()],c.prototype,"created",void 0);b.__decorate([f.property()],c.prototype,"rating",void 0);return c=b.__decorate([t.subclass("esri.portal.PortalRating")],c)})},"esri/support/basemapDefinitions":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../assets","../intl/messages"],function(a,b,c,f){function d(){d=b._asyncToGenerator(function*(l){if(l){var u=
-1<l.indexOf("-vector")?l.slice(0,l.indexOf("-vector")):l,t=yield f.fetchMessageBundle("esri/t9n/basemaps");return t[l]||t[u]}});return d.apply(this,arguments)}a.esriBasemapDefinitions={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,
visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/terrain.jpg")},
baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",
classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/oceans.jpg")},
baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",
classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",
title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",
classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",
visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-relief.jpg")},
baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",
classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",
url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",
title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-night.jpg")},
title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",
title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",
layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",
title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},
"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",
url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}};
a.getBasemapTitle=function(l){return d.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/messages":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../core/Error","../core/promiseUtils","./locale"],function(a,b,c,f,d){function l(v){var x;return null!=(x=q[v])?x:!1}function u(v){for(const x of p.keys())m(v.pattern,x)&&p.delete(x)}function t(){t=b._asyncToGenerator(function*(v){const x=d.getLocale();p.has(v)||p.set(v,g(v,x));v=p.get(v);yield e.add(v);
return v});return t.apply(this,arguments)}function g(v,x){return n.apply(this,arguments)}function n(){n=b._asyncToGenerator(function*(v,x){const A=[];for(const w of k)if(m(w.pattern,v))try{return yield w.fetchMessageBundle(v,x)}catch(y){A.push(y)}if(A.length)throw new c("intl:message-bundle-error",`Errors occurred while loading "${v}"`,{errors:A});throw new c("intl:no-message-bundle-loader",`No loader found for message bundle "${v}"`);});return n.apply(this,arguments)}function m(v,x){return"string"===
typeof v?x.startsWith(v):v.test(x)}const r=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,q={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0},k=[],p=new Map;d.beforeLocaleChange(()=>{p.clear()});const e=new (function(){function v(){this._numLoading=0}var x=v.prototype;x.waitForAll=function(){var A=
b._asyncToGenerator(function*(){this._dfd&&(yield this._dfd.promise)});return function(){return A.apply(this,arguments)}}();x.add=function(A){this._increase();A.then(()=>this._decrease(),()=>this._decrease());return this.waitForAll()};x._increase=function(){this._numLoading++;this._dfd||(this._dfd=f.createDeferred())};x._decrease=function(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)};return v}()),h={cache:p,loaders:k};a.fetchMessageBundle=
function(v){return t.apply(this,arguments)};a.normalizeMessageBundleLocale=function(v){if(!r.test(v))return null;const [,x,A]=r.exec(v);v=x+(A?"-"+A.toUpperCase():"");return l(v)?v:l(x)?x:null};a.registerMessageBundleLoader=function(v){k.includes(v)||(u(v),k.unshift(v));return{remove(){const x=k.indexOf(v);-1<x&&(k.splice(x,1),u(v))}}};a.test=h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/webdoc/support/writeUtils":function(){define("exports ../../core/Error ../../core/lang ../../core/maybe ../../core/object ../../core/accessorSupport/extensions/serializableProperty/writer".split(" "),
function(a,b,c,f,d,l){function u(m){return!("feature"!==m.type||m.url||!m.source||"memory"!==m.source.type)}function t(m,r){"maxScale"in m&&(r.maxScale=l.numberToJSON(m.maxScale));"minScale"in m&&(r.minScale=l.numberToJSON(m.minScale))}const g=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile wms wmts".split(" ")),n=new Set("csv feature geo-rss geojson group imagery imagery-tile kml map-image map-notes ogc-feature route tile unknown unsupported vector-tile web-tile wfs wms wmts".split(" "));
a.disableRestrictedWriting=function(m){g.add(m);n.add(m)};a.enableRestrictedWriting=function(m){g.delete(m);n.delete(m)};a.getLayerJSON=function(m,r,q){if(!("write"in m&&m.write))return q&&q.messages&&q.messages.push(new b("layer:unsupported",`Layers (${m.title}, ${m.id}) of type '${m.declaredClass}' cannot be persisted`,{layer:m})),null;if(q.restrictedWebMapWriting){var k="basemap"===q.layerContainerType?g:"operational-layers"===q.layerContainerType?n:null;k=f.isSome(k)?k.has(m.type)&&!u(m):!0}else k=
!0;if(k)return r={},m.write(r,q)?r:null;if(f.isSome(r)&&(q=r=c.clone(r),u(m)?(k=(k=d.getDeepValue("featureCollection.layers",q))&&k[0]&&k[0].layerDefinition)&&t(m,k):"stream"===m.type?(k=q.layerDefinition=q.layerDefinition||{},t(m,k)):"group"!==m.type&&t(m,q),"blendMode"in m&&(q.blendMode=m.blendMode,"normal"===q.blendMode&&delete q.blendMode),q.opacity=l.numberToJSON(m.opacity),q.title=m.title||"Layer",q.visibility=m.visible,"legendEnabled"in m&&"wmts"!==m.type))if(u(m)){if(q=q.featureCollection)q.showLegend=
m.legendEnabled}else q.showLegend=m.legendEnabled;return r};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/Ground":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Color ./core/Collection ./core/collectionUtils ./core/compilerUtils ./core/Error ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./ground/NavigationConstraint ./webdoc/support/opacityUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A){function w(C){return"elevation"===C.type||C&&"createElevationSampler"in C}var y;const z=q.getLogger("esri.Ground");g=y=function(C){function B(G){var K=C.call(this,G)||this;K.opacity=1;K.surfaceColor=null;K.navigationConstraint=null;K.layers=new d;K.layers.on("after-add",M=>{M=M.item;M.parent&&M.parent!==b._assertThisInitialized(K)&&"remove"in M.parent&&M.parent.remove(M);M.parent=b._assertThisInitialized(K);"elevation"!==M.type&&"base-elevation"!==
M.type&&z.error(`Layer '${M.title}, id:${M.id}' of type '${M.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)});K.layers.on("after-remove",M=>{M.item.parent=null});return K}b._inheritsLoose(B,C);var D=B.prototype;D.initialize=function(){this.when().catch(G=>{z.error("#load()","Failed to load ground",G)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};D.destroy=function(){const G=this.layers.removeAll();
for(const K of G)K.destroy();this.layers.destroy()};D.normalizeCtorArgs=function(G){G&&"resourceInfo"in G&&(this._set("resourceInfo",G.resourceInfo),G={...G},delete G.resourceInfo);return G};D.writeLayers=function(G,K,M,N){const I=[];G&&(N={...N,layerContainerType:"ground"},G.forEach(F=>{if("write"in F){const E={};u.typeCast(F)().write(E,N)&&I.push(E)}else N&&N.messages&&N.messages.push(new t("layer:unsupported",`Layers (${F.title}, ${F.id}) of type '${F.declaredClass}' cannot be persisted in the ground`,
{layer:F}))}));K.layers=I};D.load=function(G){this.addResolvingPromise(this._loadFromSource(G));return Promise.resolve(this)};D.loadAll=function(){return r.loadAll(this,G=>{G(this.layers)})};D.queryElevation=function(){var G=b._asyncToGenerator(function*(K,M){yield this.load({signal:null==M?void 0:M.signal});var {ElevationQuery:N}=yield new Promise((F,E)=>a(["./layers/support/ElevationQuery"],F,E));k.throwIfAborted(M);N=new N;const I=this.layers.filter(w).toArray();return N.queryAll(I,K,M)});return function(K,
M){return G.apply(this,arguments)}}();D.createElevationSampler=function(){var G=b._asyncToGenerator(function*(K,M){yield this.load({signal:null==M?void 0:M.signal});var {ElevationQuery:N}=yield new Promise((F,E)=>a(["./layers/support/ElevationQuery"],F,E));k.throwIfAborted(M);N=new N;const I=this.layers.filter(w).toArray();return N.createSamplerAll(I,K,M)});return function(K,M){return G.apply(this,arguments)}}();D.clone=function(){const G={opacity:this.opacity,surfaceColor:n.clone(this.surfaceColor),
navigationConstraint:n.clone(this.navigationConstraint),layers:this.layers.slice()};this.loaded&&(G.loadStatus="loaded");return(new y({resourceInfo:this.resourceInfo})).set(G)};D.read=function(G,K){this.resourceInfo||this._set("resourceInfo",{data:G,context:K});C.prototype.read.call(this,G,K)};D._loadFromSource=function(G){const K=this.resourceInfo;return K?this._loadLayersFromJSON(K.data,K.context,G):Promise.resolve(null)};D._loadLayersFromJSON=function(G,K,M){const N=K&&K.origin||"web-scene",I=
K&&K.portal||null,F=K&&K.url||null;return(new Promise((E,J)=>a(["./layers/support/layersCreator"],E,J))).then(({populateOperationalLayers:E})=>{k.throwIfAborted(M);const J=[];G.layers&&Array.isArray(G.layers)&&J.push(E(this.layers,G.layers,{context:{origin:N,url:F,portal:I,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}));return k.eachAlways(J)}).then(()=>{})};b._createClass(B,[{key:"layers",set:function(G){this._set("layers",l.referenceSetter(G,this._get("layers")))}}]);
return B}(g.JSONSupportMixin(m));c.__decorate([p.property({json:{read:!1}})],g.prototype,"layers",null);c.__decorate([v.writer("layers")],g.prototype,"writeLayers",null);c.__decorate([p.property({readOnly:!0})],g.prototype,"resourceInfo",void 0);c.__decorate([p.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:e.Integer,read:{reader:A.transparencyToOpacity,source:"transparency"},write:{writer:(C,B)=>{B.transparency=A.opacityToTransparency(C)},target:"transparency"}}})],g.prototype,
"opacity",void 0);c.__decorate([p.property({type:f,json:{type:[e.Integer],write:(C,B)=>{B.surfaceColor=C.toJSON().slice(0,3)}}})],g.prototype,"surfaceColor",void 0);c.__decorate([p.property({type:x.NavigationConstraint,json:{write:!0}})],g.prototype,"navigationConstraint",void 0);return g=y=c.__decorate([h.subclass("esri.Ground")],g)})},"esri/Color":function(){define(["./chunks/_rollupPluginBabelHelpers","./colorUtils","./core/mathUtils","./core/maybe","./core/accessorSupport/ensureType"],function(a,
b,c,f,d){function l(g){return c.clamp(d.ensureInteger(g),0,255)}function u(g,n,m){g=Number(g);return isNaN(g)?m:g<n?n:g>m?m:g}let t=function(){function g(m){this.b=this.g=this.r=255;this.a=1;m&&this.setColor(m)}g.blendColors=function(m,r,q,k=new g){k.r=Math.round(m.r+(r.r-m.r)*q);k.g=Math.round(m.g+(r.g-m.g)*q);k.b=Math.round(m.b+(r.b-m.b)*q);k.a=m.a+(r.a-m.a)*q;return k._sanitize()};g.fromRgb=function(m,r){var q=m.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(q){m=q[2].split(/\s*,\s*/);
q=q[1];if("rgb"===q&&3===m.length||"rgba"===q&&4===m.length)return q=m[0],"%"===q.charAt(q.length-1)?(q=m.map(k=>2.56*parseFloat(k)),4===m.length&&(q[3]=parseFloat(m[3])),g.fromArray(q,r)):g.fromArray(m.map(k=>parseFloat(k)),r);if("hsl"===q&&3===m.length||"hsla"===q&&4===m.length)return g.fromArray(b.hsla2rgba(parseFloat(m[0]),parseFloat(m[1])/100,parseFloat(m[2])/100,parseFloat(m[3])),r)}return null};g.fromHex=function(m,r=new g){if(4!==m.length&&7!==m.length||"#"!==m[0])return null;const q=4===
m.length?4:8,k=(1<<q)-1;let p=Number("0x"+m.substr(1));if(isNaN(p))return null;["b","g","r"].forEach(e=>{const h=p&k;p>>=q;r[e]=4===q?17*h:h});r.a=1;return r};g.fromArray=function(m,r=new g){r._set(Number(m[0]),Number(m[1]),Number(m[2]),Number(m[3]));isNaN(r.a)&&(r.a=1);return r._sanitize()};g.fromString=function(m,r){const q=b.isNamedColor(m)?b.getNamedColor(m):null;return q&&g.fromArray(q,r)||g.fromRgb(m,r)||g.fromHex(m,r)};g.fromJSON=function(m){return m&&new g([m[0],m[1],m[2],m[3]/255])};g.toUnitRGB=
function(m){return f.isSome(m)?[m.r/255,m.g/255,m.b/255]:null};g.toUnitRGBA=function(m){return f.isSome(m)?[m.r/255,m.g/255,m.b/255,null!=m.a?m.a:1]:null};var n=g.prototype;n.setColor=function(m){if("string"===typeof m)g.fromString(m,this);else if(Array.isArray(m))g.fromArray(m,this);else{var r,q,k,p;this._set(null!=(r=m.r)?r:0,null!=(q=m.g)?q:0,null!=(k=m.b)?k:0,null!=(p=m.a)?p:1);m instanceof g||this._sanitize()}return this};n.toRgb=function(){return[this.r,this.g,this.b]};n.toRgba=function(){return[this.r,
this.g,this.b,this.a]};n.toHex=function(){const m=this.r.toString(16),r=this.g.toString(16),q=this.b.toString(16);return`#${2>m.length?"0"+m:m}${2>r.length?"0"+r:r}${2>q.length?"0"+q:q}`};n.toCss=function(m=!1){const r=this.r+", "+this.g+", "+this.b;return m?`rgba(${r}, ${this.a})`:`rgb(${r})`};n.toString=function(){return this.toCss(!0)};n.toJSON=function(){return this.toArray()};n.toArray=function(m=g.AlphaMode.ALWAYS){const r=l(this.r),q=l(this.g),k=l(this.b);return m===g.AlphaMode.ALWAYS||1!==
this.a?[r,q,k,l(255*this.a)]:[r,q,k]};n.clone=function(){return new g(this.toRgba())};n.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};n.equals=function(m){return f.isSome(m)&&m.r===this.r&&m.g===this.g&&m.b===this.b&&m.a===this.a};n._sanitize=function(){this.r=Math.round(u(this.r,0,255));this.g=Math.round(u(this.g,0,255));this.b=Math.round(u(this.b,0,255));this.a=u(this.a,0,1);return this};n._set=function(m,r,q,k){this.r=m;this.g=r;this.b=q;this.a=k};a._createClass(g,[{key:"isBright",
get:function(){return 127<=.299*this.r+.587*this.g+.114*this.b}}]);return g}();t.prototype.declaredClass="esri.Color";(function(g){g=g.AlphaMode||(g.AlphaMode={});g[g.ALWAYS=0]="ALWAYS";g[g.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"})(t||(t={}));return t})},"esri/colorUtils":function(){define(["exports"],function(a){function b(d){var l;return null!=(l=f[d])?l:f[d.toLowerCase()]}function c(d,l,u){0>u&&++u;1<u&&--u;const t=6*u;return 1>t?d+(l-d)*t:1>2*u?l:2>3*u?d+(l-d)*(2/3-u)*6:d}const f={transparent:[0,0,0,
0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,
43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,
50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,
165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,
182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,
209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,
160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,
224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};a.getNamedColor=b;a.getNamedColorCopy=function(d){return[...b(d)]};a.hex2rgba=function(d){var l=5<d.length;const u=l?8:4,t=(1<<u)-1,g=l?1:17;l=l?9===d.length:5===d.length;d=Number("0x"+d.substr(1));if(isNaN(d))return null;const n=[0,0,0,1];l&&(l=d&t,d>>=u,n[3]=g*l/255);l=d&t;d>>=u;n[2]=g*l;l=d&t;d>>=u;n[1]=g*l;l=d&t;d>>=u;n[0]=g*l;return n};a.hsla2rgba=function(d,l,u,t=1){d=(d%360+360)%360/
360;l=.5>=u?u*(l+1):u+l-u*l;u=2*u-l;return[Math.round(255*c(u,l,d+1/3)),Math.round(255*c(u,l,d)),Math.round(255*c(u,l,d-1/3)),t]};a.isNamedColor=function(d){return f[d]||f[d.toLowerCase()]};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/mathUtils":function(){define(["exports","../chunks/vec3","../chunks/vec4"],function(a,b,c){function f(n,m,r){return Math.min(Math.max(n,m),r)}function d(n,m,r){return n+(m-n)*r}function l(n){return Math.asin(f(n,-1,1))}function u(n){t[0]=n;return t[0]}
const t=new Float32Array(1),g=u(3.4028234663852886E38);a.NUMBER_MAX_FLOAT32=g;a.acosClamped=function(n){return Math.acos(f(n,-1,1))};a.applyOpacity=function(n,m,r){return c.set(n,m[0],m[1],m[2],m[3]*r)};a.asinClamped=l;a.cartesianToSpherical=function(n,m){const r=b.length(n),q=l(n[2]/r);b.set(m,r,q,Math.atan2(n[1]/r,n[0]/r));return m};a.clamp=f;a.clampFloat32=function(n){return u(Math.max(-g,Math.min(n,g)))};a.deg2rad=function(n){return n*Math.PI/180};a.floatEqualAbsolute=function(n,m,r=1E-6){return isNaN(n)||
isNaN(m)?!1:(n>m?n-m:m-n)<=r};a.floatEqualRelative=function(n,m,r=1E-6){if(isNaN(n)||isNaN(m))return!1;if(n===m)return!0;const q=Math.abs(n-m),k=Math.abs(n),p=Math.abs(m);if(0===n||0===m||1E-12>k&&1E-12>p){if(q>.01*r)return!1}else if(q/(k+p)>r)return!1;return!0};a.isPowerOfTwo=function(n){return 0===(n&n-1)};a.lerp=d;a.nextHighestPowerOfTen=function(n){return 10**Math.ceil(Math.LOG10E*Math.log(n))};a.nextHighestPowerOfTwo=function(n){--n;for(let m=1;32>m;m<<=1)n|=n>>m;return n+1};a.nextPowerOfTwo=
function(n){n--;n|=n>>1;n|=n>>2;n|=n>>4;n|=n>>8;n|=n>>16;n++;return n};a.rad2deg=function(n){return 180*n/Math.PI};a.reciprocalClamped=function(n,m=1E-6){return(0>n?-1:1)/Math.max(Math.abs(n),m)};a.roundToNearest=function(n,m){return 0===m?0:Math.round(n/m)*m};a.scale=function(n,m,r,q,k){return d(q,k,(n-m)/(r-m))};a.smoothstep=function(n,m,r){n=f((r-n)/(m-n),0,1);return n*n*(3-2*n)};a.sphericalToCartesian=function(n,m){const r=n[0],q=n[1];n=n[2];const k=Math.cos(q);b.set(m,r*k*Math.cos(n),r*k*Math.sin(n),
r*Math.sin(q))};a.step=function(n,m){return m<n?0:1};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/vec3":function(){define(["exports","./vec3f64","./common"],function(a,b,c){function f(la){const V=la[0],aa=la[1];la=la[2];return Math.sqrt(V*V+aa*aa+la*la)}function d(la,V){la[0]=V[0];la[1]=V[1];la[2]=V[2];return la}function l(la,V,aa,Ca){la[0]=V;la[1]=aa;la[2]=Ca;return la}function u(la,V,aa){la[0]=V[0]+aa[0];la[1]=V[1]+aa[1];la[2]=V[2]+aa[2];return la}function t(la,V,aa){la[0]=V[0]-
aa[0];la[1]=V[1]-aa[1];la[2]=V[2]-aa[2];return la}function g(la,V,aa){la[0]=V[0]*aa[0];la[1]=V[1]*aa[1];la[2]=V[2]*aa[2];return la}function n(la,V,aa){la[0]=V[0]/aa[0];la[1]=V[1]/aa[1];la[2]=V[2]/aa[2];return la}function m(la,V){la[0]=Math.ceil(V[0]);la[1]=Math.ceil(V[1]);la[2]=Math.ceil(V[2]);return la}function r(la,V){la[0]=Math.floor(V[0]);la[1]=Math.floor(V[1]);la[2]=Math.floor(V[2]);return la}function q(la,V,aa){la[0]=Math.min(V[0],aa[0]);la[1]=Math.min(V[1],aa[1]);la[2]=Math.min(V[2],aa[2]);
return la}function k(la,V,aa){la[0]=Math.max(V[0],aa[0]);la[1]=Math.max(V[1],aa[1]);la[2]=Math.max(V[2],aa[2]);return la}function p(la,V){la[0]=Math.round(V[0]);la[1]=Math.round(V[1]);la[2]=Math.round(V[2]);return la}function e(la,V,aa){la[0]=V[0]*aa;la[1]=V[1]*aa;la[2]=V[2]*aa;return la}function h(la,V,aa,Ca){la[0]=V[0]+aa[0]*Ca;la[1]=V[1]+aa[1]*Ca;la[2]=V[2]+aa[2]*Ca;return la}function v(la,V){const aa=V[0]-la[0],Ca=V[1]-la[1];la=V[2]-la[2];return Math.sqrt(aa*aa+Ca*Ca+la*la)}function x(la,V){const aa=
V[0]-la[0],Ca=V[1]-la[1];la=V[2]-la[2];return aa*aa+Ca*Ca+la*la}function A(la){const V=la[0],aa=la[1];la=la[2];return V*V+aa*aa+la*la}function w(la,V){la[0]=-V[0];la[1]=-V[1];la[2]=-V[2];return la}function y(la,V){la[0]=1/V[0];la[1]=1/V[1];la[2]=1/V[2];return la}function z(la,V){var aa=V[0];const Ca=V[1],Ia=V[2];aa=aa*aa+Ca*Ca+Ia*Ia;0<aa&&(aa=1/Math.sqrt(aa),la[0]=V[0]*aa,la[1]=V[1]*aa,la[2]=V[2]*aa);return la}function C(la,V){return la[0]*V[0]+la[1]*V[1]+la[2]*V[2]}function B(la,V,aa){const Ca=V[0],
Ia=V[1];V=V[2];const H=aa[0],O=aa[1];aa=aa[2];la[0]=Ia*aa-V*O;la[1]=V*H-Ca*aa;la[2]=Ca*O-Ia*H;return la}function D(la,V,aa,Ca){const Ia=V[0],H=V[1];V=V[2];la[0]=Ia+Ca*(aa[0]-Ia);la[1]=H+Ca*(aa[1]-H);la[2]=V+Ca*(aa[2]-V);return la}function G(la,V,aa,Ca,Ia,H){const O=H*H,fa=O*(2*H-3)+1,Q=O*(H-2)+H,T=O*(H-1);H=O*(3-2*H);la[0]=V[0]*fa+aa[0]*Q+Ca[0]*T+Ia[0]*H;la[1]=V[1]*fa+aa[1]*Q+Ca[1]*T+Ia[1]*H;la[2]=V[2]*fa+aa[2]*Q+Ca[2]*T+Ia[2]*H;return la}function K(la,V,aa,Ca,Ia,H){var O=1-H,fa=O*O;const Q=H*H,T=
fa*O;fa*=3*H;O*=3*Q;H*=Q;la[0]=V[0]*T+aa[0]*fa+Ca[0]*O+Ia[0]*H;la[1]=V[1]*T+aa[1]*fa+Ca[1]*O+Ia[1]*H;la[2]=V[2]*T+aa[2]*fa+Ca[2]*O+Ia[2]*H;return la}function M(la,V){V=V||1;const aa=2*c.RANDOM()*Math.PI,Ca=2*c.RANDOM()-1,Ia=Math.sqrt(1-Ca*Ca)*V;la[0]=Math.cos(aa)*Ia;la[1]=Math.sin(aa)*Ia;la[2]=Ca*V;return la}function N(la,V,aa){const Ca=V[0],Ia=V[1];V=V[2];la[0]=aa[0]*Ca+aa[4]*Ia+aa[8]*V+aa[12];la[1]=aa[1]*Ca+aa[5]*Ia+aa[9]*V+aa[13];la[2]=aa[2]*Ca+aa[6]*Ia+aa[10]*V+aa[14];return la}function I(la,
V,aa){const Ca=V[0],Ia=V[1];V=V[2];la[0]=Ca*aa[0]+Ia*aa[3]+V*aa[6];la[1]=Ca*aa[1]+Ia*aa[4]+V*aa[7];la[2]=Ca*aa[2]+Ia*aa[5]+V*aa[8];return la}function F(la,V,aa){const Ca=aa[0],Ia=aa[1],H=aa[2],O=V[0],fa=V[1];V=V[2];let Q=Ia*V-H*fa,T=H*O-Ca*V,da=Ca*fa-Ia*O;aa=2*aa[3];la[0]=O+Q*aa+2*(Ia*da-H*T);la[1]=fa+T*aa+2*(H*Q-Ca*da);la[2]=V+da*aa+2*(Ca*T-Ia*Q);return la}function E(la,V,aa,Ca){const Ia=[],H=[];Ia[0]=V[0]-aa[0];Ia[1]=V[1]-aa[1];Ia[2]=V[2]-aa[2];H[0]=Ia[0];H[1]=Ia[1]*Math.cos(Ca)-Ia[2]*Math.sin(Ca);
H[2]=Ia[1]*Math.sin(Ca)+Ia[2]*Math.cos(Ca);la[0]=H[0]+aa[0];la[1]=H[1]+aa[1];la[2]=H[2]+aa[2];return la}function J(la,V,aa,Ca){const Ia=[],H=[];Ia[0]=V[0]-aa[0];Ia[1]=V[1]-aa[1];Ia[2]=V[2]-aa[2];H[0]=Ia[2]*Math.sin(Ca)+Ia[0]*Math.cos(Ca);H[1]=Ia[1];H[2]=Ia[2]*Math.cos(Ca)-Ia[0]*Math.sin(Ca);la[0]=H[0]+aa[0];la[1]=H[1]+aa[1];la[2]=H[2]+aa[2];return la}function P(la,V,aa,Ca){const Ia=[],H=[];Ia[0]=V[0]-aa[0];Ia[1]=V[1]-aa[1];Ia[2]=V[2]-aa[2];H[0]=Ia[0]*Math.cos(Ca)-Ia[1]*Math.sin(Ca);H[1]=Ia[0]*Math.sin(Ca)+
Ia[1]*Math.cos(Ca);H[2]=Ia[2];la[0]=H[0]+aa[0];la[1]=H[1]+aa[1];la[2]=H[2]+aa[2];return la}function W(la,V){d(xa,la);d(Fa,V);z(xa,xa);z(Fa,Fa);la=C(xa,Fa);return 1<la?0:-1>la?Math.PI:Math.acos(la)}function Z(la){return"vec3("+la[0]+", "+la[1]+", "+la[2]+")"}function Y(la,V){return la[0]===V[0]&&la[1]===V[1]&&la[2]===V[2]}function S(la,V){if(la===V)return!0;const aa=la[0],Ca=la[1];la=la[2];const Ia=V[0],H=V[1];V=V[2];return Math.abs(aa-Ia)<=c.EPSILON*Math.max(1,Math.abs(aa),Math.abs(Ia))&&Math.abs(Ca-
H)<=c.EPSILON*Math.max(1,Math.abs(Ca),Math.abs(H))&&Math.abs(la-V)<=c.EPSILON*Math.max(1,Math.abs(la),Math.abs(V))}function qa(la,V,aa){const Ca=aa[0]-V[0],Ia=aa[1]-V[1];V=aa[2]-V[2];aa=Ca*Ca+Ia*Ia+V*V;if(0<aa)return aa=1/Math.sqrt(aa),la[0]=Ca*aa,la[1]=Ia*aa,la[2]=V*aa,la;la[0]=0;la[1]=0;la[2]=0;return la}const xa=b.create(),Fa=b.create();b=Object.freeze({__proto__:null,length:f,copy:d,set:l,add:u,subtract:t,multiply:g,divide:n,ceil:m,floor:r,min:q,max:k,round:p,scale:e,scaleAndAdd:h,distance:v,
squaredDistance:x,squaredLength:A,negate:w,inverse:y,normalize:z,dot:C,cross:B,lerp:D,hermite:G,bezier:K,random:M,transformMat4:N,transformMat3:I,transformQuat:F,rotateX:E,rotateY:J,rotateZ:P,angle:W,str:Z,exactEquals:Y,equals:S,direction:qa,sub:t,mul:g,div:n,dist:v,sqrDist:x,len:f,sqrLen:A});a.add=u;a.angle=W;a.bezier=K;a.ceil=m;a.copy=d;a.cross=B;a.direction=qa;a.dist=v;a.distance=v;a.div=n;a.divide=n;a.dot=C;a.equals=S;a.exactEquals=Y;a.floor=r;a.hermite=G;a.inverse=y;a.len=f;a.length=f;a.lerp=
D;a.max=k;a.min=q;a.mul=g;a.multiply=g;a.negate=w;a.normalize=z;a.random=M;a.rotateX=E;a.rotateY=J;a.rotateZ=P;a.round=p;a.scale=e;a.scaleAndAdd=h;a.set=l;a.sqrDist=x;a.sqrLen=A;a.squaredDistance=x;a.squaredLength=A;a.str=Z;a.sub=t;a.subtract=t;a.transformMat3=I;a.transformMat4=N;a.transformQuat=F;a.vec3=b})},"esri/chunks/vec3f64":function(){define(["exports"],function(a){function b(){return[0,0,0]}function c(v){return[v[0],v[1],v[2]]}function f(v,x,A){return[v,x,A]}function d(v){const x=b(),A=Math.min(3,
v.length);for(let w=0;w<A;++w)x[w]=v[w];return x}function l(v,x){return new Float64Array(v,x,3)}function u(){return b()}function t(){return[1,1,1]}function g(){return[1,0,0]}function n(){return[0,1,0]}function m(){return[0,0,1]}const r=b(),q=t(),k=g(),p=n(),e=m(),h=Object.freeze({__proto__:null,create:b,clone:c,fromValues:f,fromArray:d,createView:l,zeros:u,ones:t,unitX:g,unitY:n,unitZ:m,ZEROS:r,ONES:q,UNIT_X:k,UNIT_Y:p,UNIT_Z:e});a.ONES=q;a.UNIT_X=k;a.UNIT_Y=p;a.UNIT_Z=e;a.ZEROS=r;a.clone=c;a.create=
b;a.createView=l;a.fromArray=d;a.fromValues=f;a.ones=t;a.unitX=g;a.unitY=n;a.unitZ=m;a.vec3f64=h;a.zeros=u})},"esri/chunks/common":function(){define(["exports"],function(a){function b(g){return g*l}function c(g){return g*u}function f(g,n){return Math.abs(g-n)<=1E-6*Math.max(1,Math.abs(g),Math.abs(n))}const d=Math.random,l=Math.PI/180,u=180/Math.PI,t=Object.freeze({__proto__:null,EPSILON:1E-6,RANDOM:d,toRadian:b,toDegree:c,equals:f});a.EPSILON=1E-6;a.RANDOM=d;a.common=t;a.equals=f;a.toDegree=c;a.toRadian=
b})},"esri/chunks/vec4":function(){define(["exports","./common"],function(a,b){function c(F,E){F[0]=E[0];F[1]=E[1];F[2]=E[2];F[3]=E[3];return F}function f(F,E,J,P,W){F[0]=E;F[1]=J;F[2]=P;F[3]=W;return F}function d(F,E,J){F[0]=E[0]+J[0];F[1]=E[1]+J[1];F[2]=E[2]+J[2];F[3]=E[3]+J[3];return F}function l(F,E,J){F[0]=E[0]-J[0];F[1]=E[1]-J[1];F[2]=E[2]-J[2];F[3]=E[3]-J[3];return F}function u(F,E,J){F[0]=E[0]*J[0];F[1]=E[1]*J[1];F[2]=E[2]*J[2];F[3]=E[3]*J[3];return F}function t(F,E,J){F[0]=E[0]/J[0];F[1]=
E[1]/J[1];F[2]=E[2]/J[2];F[3]=E[3]/J[3];return F}function g(F,E){F[0]=Math.ceil(E[0]);F[1]=Math.ceil(E[1]);F[2]=Math.ceil(E[2]);F[3]=Math.ceil(E[3]);return F}function n(F,E){F[0]=Math.floor(E[0]);F[1]=Math.floor(E[1]);F[2]=Math.floor(E[2]);F[3]=Math.floor(E[3]);return F}function m(F,E,J){F[0]=Math.min(E[0],J[0]);F[1]=Math.min(E[1],J[1]);F[2]=Math.min(E[2],J[2]);F[3]=Math.min(E[3],J[3]);return F}function r(F,E,J){F[0]=Math.max(E[0],J[0]);F[1]=Math.max(E[1],J[1]);F[2]=Math.max(E[2],J[2]);F[3]=Math.max(E[3],
J[3]);return F}function q(F,E){F[0]=Math.round(E[0]);F[1]=Math.round(E[1]);F[2]=Math.round(E[2]);F[3]=Math.round(E[3]);return F}function k(F,E,J){F[0]=E[0]*J;F[1]=E[1]*J;F[2]=E[2]*J;F[3]=E[3]*J;return F}function p(F,E,J,P){F[0]=E[0]+J[0]*P;F[1]=E[1]+J[1]*P;F[2]=E[2]+J[2]*P;F[3]=E[3]+J[3]*P;return F}function e(F,E){const J=E[0]-F[0],P=E[1]-F[1],W=E[2]-F[2];F=E[3]-F[3];return Math.sqrt(J*J+P*P+W*W+F*F)}function h(F,E){const J=E[0]-F[0],P=E[1]-F[1],W=E[2]-F[2];F=E[3]-F[3];return J*J+P*P+W*W+F*F}function v(F){const E=
F[0],J=F[1],P=F[2];F=F[3];return Math.sqrt(E*E+J*J+P*P+F*F)}function x(F){const E=F[0],J=F[1],P=F[2];F=F[3];return E*E+J*J+P*P+F*F}function A(F,E){F[0]=-E[0];F[1]=-E[1];F[2]=-E[2];F[3]=-E[3];return F}function w(F,E){F[0]=1/E[0];F[1]=1/E[1];F[2]=1/E[2];F[3]=1/E[3];return F}function y(F,E){const J=E[0],P=E[1],W=E[2];E=E[3];let Z=J*J+P*P+W*W+E*E;0<Z&&(Z=1/Math.sqrt(Z),F[0]=J*Z,F[1]=P*Z,F[2]=W*Z,F[3]=E*Z);return F}function z(F,E){return F[0]*E[0]+F[1]*E[1]+F[2]*E[2]+F[3]*E[3]}function C(F,E,J,P){const W=
E[0],Z=E[1],Y=E[2];E=E[3];F[0]=W+P*(J[0]-W);F[1]=Z+P*(J[1]-Z);F[2]=Y+P*(J[2]-Y);F[3]=E+P*(J[3]-E);return F}function B(F,E){E=E||1;let J,P,W,Z;let Y;do{J=2*b.RANDOM()-1;P=2*b.RANDOM()-1;var S=J*J+P*P}while(1<=S);do W=2*b.RANDOM()-1,Z=2*b.RANDOM()-1,Y=W*W+Z*Z;while(1<=Y);S=Math.sqrt((1-S)/Y);F[0]=E*J;F[1]=E*P;F[2]=E*W*S;F[3]=E*Z*S;return F}function D(F,E,J){const P=E[0],W=E[1],Z=E[2];E=E[3];F[0]=J[0]*P+J[4]*W+J[8]*Z+J[12]*E;F[1]=J[1]*P+J[5]*W+J[9]*Z+J[13]*E;F[2]=J[2]*P+J[6]*W+J[10]*Z+J[14]*E;F[3]=J[3]*
P+J[7]*W+J[11]*Z+J[15]*E;return F}function G(F,E,J){var P=E[0];const W=E[1],Z=E[2],Y=J[0],S=J[1],qa=J[2];J=J[3];const xa=J*P+S*Z-qa*W,Fa=J*W+qa*P-Y*Z,la=J*Z+Y*W-S*P;P=-Y*P-S*W-qa*Z;F[0]=xa*J+P*-Y+Fa*-qa-la*-S;F[1]=Fa*J+P*-S+la*-Y-xa*-qa;F[2]=la*J+P*-qa+xa*-S-Fa*-Y;F[3]=E[3];return F}function K(F){return"vec4("+F[0]+", "+F[1]+", "+F[2]+", "+F[3]+")"}function M(F,E){return F[0]===E[0]&&F[1]===E[1]&&F[2]===E[2]&&F[3]===E[3]}function N(F,E){const J=F[0],P=F[1],W=F[2];F=F[3];const Z=E[0],Y=E[1],S=E[2];
E=E[3];return Math.abs(J-Z)<=b.EPSILON*Math.max(1,Math.abs(J),Math.abs(Z))&&Math.abs(P-Y)<=b.EPSILON*Math.max(1,Math.abs(P),Math.abs(Y))&&Math.abs(W-S)<=b.EPSILON*Math.max(1,Math.abs(W),Math.abs(S))&&Math.abs(F-E)<=b.EPSILON*Math.max(1,Math.abs(F),Math.abs(E))}const I=Object.freeze({__proto__:null,copy:c,set:f,add:d,subtract:l,multiply:u,divide:t,ceil:g,floor:n,min:m,max:r,round:q,scale:k,scaleAndAdd:p,distance:e,squaredDistance:h,length:v,squaredLength:x,negate:A,inverse:w,normalize:y,dot:z,lerp:C,
random:B,transformMat4:D,transformQuat:G,str:K,exactEquals:M,equals:N,sub:l,mul:u,div:t,dist:e,sqrDist:h,len:v,sqrLen:x});a.add=d;a.ceil=g;a.copy=c;a.dist=e;a.distance=e;a.div=t;a.divide=t;a.dot=z;a.equals=N;a.exactEquals=M;a.floor=n;a.inverse=w;a.len=v;a.length=v;a.lerp=C;a.max=r;a.min=m;a.mul=u;a.multiply=u;a.negate=A;a.normalize=y;a.random=B;a.round=q;a.scale=k;a.scaleAndAdd=p;a.set=f;a.sqrDist=h;a.sqrLen=x;a.squaredDistance=h;a.squaredLength=x;a.str=K;a.sub=l;a.subtract=l;a.transformMat4=D;a.transformQuat=
G;a.vec4=I})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(a,b){a.neverReached=function(c){};a.neverReachedSilent=function(c){};a.tuple=(...c)=>c;a.typeCast=function(c){return()=>c};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/ground/NavigationConstraint":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/set ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){var r;a.NavigationConstraint=r=function(q){function k(p){p=q.call(this,p)||this;p.type="none";return p}b._inheritsLoose(k,q);k.prototype.clone=function(){return new r({type:this.type})};return k}(f.JSONSupport);c.__decorate([n.enumeration({none:"none",stayAbove:"stay-above"})],a.NavigationConstraint.prototype,"type",void 0);a.NavigationConstraint=r=c.__decorate([m.subclass("esri.ground.NavigationConstraint")],a.NavigationConstraint);Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(a,b,c){a.enumeration=function(f,d={}){var l;f=f instanceof b.JSONMap?f:new b.JSONMap(f,d);f={type:(null!=(l=null==d?void 0:d.ignoreUnknown)?l:1)?f.apiValues:String,json:{type:f.jsonValues,read:null!=d&&d.readOnly?!1:{reader:f.read},write:{writer:f.write}}};void 0!==(null==d?void 0:d.readOnly)&&(f.readOnly=!!d.readOnly);void 0!==(null==d?void 0:d.default)&&(f.json.default=
d.default);void 0!==(null==d?void 0:d.name)&&(f.json.name=d.name);return c.property(f)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/webdoc/support/opacityUtils":function(){define(["exports","../../core/accessorSupport/ensureType"],function(a,b){a.opacityToTransparency=function(c){c=b.ensureInteger(100*(1-c));return Math.max(0,Math.min(c,100))};a.transparencyToOpacity=function(c){return Math.max(0,Math.min(1-c/100,1))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/CollectionFlattener":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Collection ./HandleOwner ./maybe ./Error ./Logger ./accessorSupport/watch ./accessorSupport/trackingUtils ./accessorSupport/decorators/property ./arrayUtils ./has ./accessorSupport/ensureType ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k){f=function(p){function e(v){v=p.call(this,v)||this;v.getCollections=null;return v}a._inheritsLoose(e,p);var h=e.prototype;h.initialize=function(){this.handles.add(g.autorun(()=>this._refresh()))};h.destroy=function(){this.getCollections=null};h._refresh=function(){const v=d.isSome(this.getCollections)?this.getCollections():null;if(d.isNone(v))this.removeAll();else{var x=0;for(const A of v)d.isSome(A)&&(x=this._processCollection(x,A));this.splice(x,this.length)}};
h._createNewInstance=function(v){return new c(v)};h._processCollection=function(v,x){if(!x)return v;const A=this.itemFilterFunction?this.itemFilterFunction:w=>!!w;for(const w of x)if(w&&(A(w)&&(x=this.indexOf(w,v),0<=x?x!==v&&this.reorder(w,v):this.add(w,v),++v),this.getChildrenFunction))if(x=this.getChildrenFunction(w),Array.isArray(x))for(const y of x)v=this._processCollection(v,y);else v=this._processCollection(v,x);return v};return e}(f.HandleOwnerMixin(c));b.__decorate([n.property()],f.prototype,
"getCollections",void 0);b.__decorate([n.property()],f.prototype,"getChildrenFunction",void 0);b.__decorate([n.property()],f.prototype,"itemFilterFunction",void 0);return f=b.__decorate([k.subclass("esri.core.CollectionFlattener")],f)})},"esri/core/HandleOwner":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./Handles ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ../views/support/WatchUpdatingTracking".split(" "),function(a,
b,c,f,d,l,u,t){const g=n=>{n=function(m){function r(){return m.apply(this,arguments)||this}b._inheritsLoose(r,m);r.prototype.destroy=function(){var q,k;this.destroyed||(null==(q=this._get("handles"))?void 0:q.destroy(),null==(k=this._get("updatingHandles"))?void 0:k.destroy())};b._createClass(r,[{key:"handles",get:function(){return this._get("handles")||new d}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new t.WatchUpdatingTracking}}]);return r}(n);c.__decorate([l.property({readOnly:!0})],
n.prototype,"handles",null);c.__decorate([l.property({readOnly:!0})],n.prototype,"updatingHandles",null);return n=c.__decorate([u.subclass("esri.core.HandleOwner")],n)};a.HandleOwner=function(n){function m(){return n.apply(this,arguments)||this}b._inheritsLoose(m,n);return m}(g(f));a.HandleOwner=c.__decorate([u.subclass("esri.core.HandleOwner")],a.HandleOwner);a.HandleOwnerMixin=g;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Handles":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./Collection ./maybe ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u){c=function(t){function g(m){m=t.call(this,m)||this;m._groups=new Map;return m}a._inheritsLoose(g,t);var n=g.prototype;n.destroy=function(){this.removeAll()};n.add=function(m,r){if(!this._isHandle(m)&&!Array.isArray(m)&&!f.isCollection(m))return this;const q=this._getOrCreateGroup(r);Array.isArray(m)||f.isCollection(m)?m.forEach(k=>this._isHandle(k)&&q.push(k)):q.push(m);this.notifyChange("size");return this};n.forEach=function(m,r){if("function"===typeof m)this._groups.forEach(q=>
q.forEach(m));else{const q=this._getGroup(m);q&&r&&q.forEach(r)}};n.has=function(m){return this._groups.has(this._ensureGroupKey(m))};n.remove=function(m){if(Array.isArray(m)||f.isCollection(m))return m.forEach(this.remove,this),this;if(!this.has(m))return this;const r=this._getGroup(m);for(let q=0;q<r.length;q++)r[q].remove();this._deleteGroup(m);this.notifyChange("size");return this};n.removeAll=function(){this._groups.forEach(m=>{for(let r=0;r<m.length;r++)m[r].remove()});this._groups.clear();
this.notifyChange("size");return this};n._isHandle=function(m){return m&&!!m.remove};n._getOrCreateGroup=function(m){if(this.has(m))return this._getGroup(m);const r=[];this._groups.set(this._ensureGroupKey(m),r);return r};n._getGroup=function(m){return d.assumeNonNull(this._groups.get(this._ensureGroupKey(m)))};n._deleteGroup=function(m){return this._groups.delete(this._ensureGroupKey(m))};n._ensureGroupKey=function(m){return m||"_default_"};a._createClass(g,[{key:"size",get:function(){let m=0;this._groups.forEach(r=>
{m+=r.length});return m}}]);return g}(c);b.__decorate([l.property({readOnly:!0})],c.prototype,"size",null);return c=b.__decorate([u.subclass("esri.core.Handles")],c)})},"esri/views/support/WatchUpdatingTracking":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Handles ../../core/maybe ../../core/reactiveUtils ../../core/scheduling ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g,n){a.WatchUpdatingTracking=function(m){function r(){var k=m.apply(this,arguments)||this;k.updating=!1;k.handleId=0;k.handles=new d;k.scheduleHandleId=0;k.pendingPromises=new Set;return k}b._inheritsLoose(r,m);var q=r.prototype;q.destroy=function(){this.removeAll();this.handles.destroy()};q.add=function(k,p,e={}){return this._installWatch(k,p,e,u.watch)};q.addWhen=function(k,p,e={}){return this._installWatch(k,p,e,u.when)};q.addOnCollectionChange=function(k,p,{initial:e=
!1}={}){const h=++this.handleId;this.handles.add([u.on(k,"after-changes",this._createSyncUpdatingCallback(),u.sync),u.on(k,"change",p,{onListenerAdd:e?v=>p({added:v.toArray(),removed:[]}):void 0})],h);return{remove:()=>this.handles.remove(h)}};q.addPromise=function(k){if(l.isNone(k))return k;const p=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(k)&&(0!==this.pendingPromises.size||this.handles.has(-42)||this._set("updating",!1))}},p);this.pendingPromises.add(k);this._set("updating",
!0);const e=()=>this.handles.remove(p);k.then(e,e);return k};q.removeAll=function(){this.pendingPromises.clear();this.handles.removeAll();this._set("updating",!1)};q._installWatch=function(k,p,e={},h){const v=++this.handleId;e.sync||this._installSyncUpdatingWatch(k,v);k=h(k,p,e);this.handles.add(k,v);return{remove:()=>this.handles.remove(v)}};q._installSyncUpdatingWatch=function(k,p){const e=this._createSyncUpdatingCallback();k=u.watch(k,e,{sync:!0,equals:()=>!1});this.handles.add(k,p);return k};
q._createSyncUpdatingCallback=function(){return()=>{this.handles.remove(-42);++this.scheduleHandleId;const k=this.scheduleHandleId;this._get("updating")||this._set("updating",!0);this.handles.add(t.schedule(()=>{k===this.scheduleHandleId&&(this._set("updating",0<this.pendingPromises.size),this.handles.remove(-42))}),-42)}};return r}(f);c.__decorate([g.property({readOnly:!0})],a.WatchUpdatingTracking.prototype,"updating",void 0);a.WatchUpdatingTracking=c.__decorate([n.subclass("esri.views.support.WatchUpdatingTracking")],
a.WatchUpdatingTracking);a.WatchFlags=void 0;(function(m){m[m.NONE=0]="NONE";m[m.SYNC=1]="SYNC";m[m.INIT=2]="INIT"})(a.WatchFlags||(a.WatchFlags={}));Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/reactiveUtils":function(){define("exports ./events ./handleUtils ./maybe ./promiseUtils ./accessorSupport/watch ./accessorSupport/trackingUtils".split(" "),function(a,b,c,f,d,l,u){function t(q,k,p={}){return g(q,k,p,m)}function g(q,k,p={},e){let h=null;const v=p.once?(x,A)=>{e(x)&&(f.removeMaybe(h),
k(x,A))}:(x,A)=>{e(x)&&k(x,A)};h=l.watchTracked(q,v,p.sync,p.equals);p.initial&&(q=q(),v(q,q));return h}function n(q,k,p){if(d.isAborted(p))return Promise.reject(d.createAbortError());const e=q();if(null!=k&&k(e))return Promise.resolve(e);let h=null;return new Promise((v,x)=>{h=c.handlesGroup([d.onAbort(p,()=>{h=f.removeMaybe(h);x(d.createAbortError())}),g(q,A=>{h=f.removeMaybe(h);v(A)},{sync:!1,once:!0},null!=k?k:m)])})}function m(q){return!0}function r(q){return!!q}a.autorun=u.autorun;a.initial=
{initial:!0};a.on=function(q,k,p,e={}){function h(){x&&A&&(A.remove(),null==e.onListenerRemove?void 0:e.onListenerRemove(x),A=x=null)}function v(z){e.once&&e.once&&f.removeMaybe(w);p(z)}let x=null,A=null,w=null;const y=t(q,(z,C)=>{h();b.isEventTarget(z)&&(x=z,A=b.on(z,k,v),null==e.onListenerAdd?void 0:e.onListenerAdd(z))},{sync:e.sync,initial:!0});return w=c.makeHandle(()=>{y.remove();h()})};a.once=function(q,k){return n(q,null,k)};a.sync={sync:!0};a.syncAndInitial={sync:!0,initial:!0};a.watch=t;
a.when=function(q,k,p={}){return g(q,k,p,r)};a.whenOnce=function(q,k){return n(q,r,k)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/editableLayers":function(){define(["exports"],function(a){a.isEditableLayer=function(b){var c;return!(b&&b.loaded&&"capabilities"in b&&null!=b&&null!=(c=b.capabilities)&&c.operations&&"supportsEditing"in b.capabilities.operations)||!0!==b.capabilities.operations.supportsEditing||"editingEnabled"in b&&!b.editingEnabled?!1:!0};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/support/basemapUtils":function(){define("exports ../Basemap ../config ../core/Collection ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/ensureType ./basemapDefinitions".split(" "),function(a,b,c,f,d,l,u,t,g){function n(B,D){var G;let K;if("string"===typeof B){if(!(B in g.esriBasemapDefinitions))return D=Object.entries(g.esriBasemapDefinitions).filter(([,M])=>c.apiKey&&!M.classic||!c.apiKey&&M.classic&&!M.deprecated).map(([M])=>`"${M}"`).join(", "),
z.warn(`Unable to find basemap definition for: ${B}. Try one of these: ${D}`),null;D&&(K=D[B]);K||(K=b.fromId(B),D&&(D[B]=K))}else K=t.ensureType(b,B);null!=(G=K)&&G.destroyed&&(z.warn("The provided basemap is already destroyed",{basemap:K}),K=null);return K}function m(B,D){const G=new f;B.forEach(K=>{const M=D.find(N=>w(e(K),e(N)))||K;G.some(N=>N===M)?G.push(K):G.push(M)});return G}function r(B){if(q(B.url))return!0;if("vector-tile"===B.type)for(const D in B.sourceNameToSource){const G=B.sourceNameToSource[D];
if(q(null==G?void 0:G.sourceUrl))return!0}return!1}function q(B){if(!B)return!1;B=new u.Url(u.makeAbsolute(B));return C.test(B.authority)}function k(B){return B?!B.loaded&&B.resourceInfo?h(B.resourceInfo.data):{baseLayers:p(B.baseLayers),referenceLayers:p(B.referenceLayers)}:null}function p(B){return(f.isCollection(B)?B.toArray():B).map(e)}function e(B){var D,G;return{type:B.type,url:y("urlTemplate"in B&&B.urlTemplate||B.url||"styleUrl"in B&&B.styleUrl),minScale:"minScale"in B&&null!=B.minScale?B.minScale:
0,maxScale:"maxScale"in B&&null!=B.maxScale?B.maxScale:0,opacity:null!=B.opacity?B.opacity:1,visible:null!=B.visible?!!B.visible:!0,sublayers:"map-image"!==B.type&&"wms"!==B.type||!l.isSome(B.sublayers)?void 0:null==(D=B.sublayers)?void 0:D.map(K=>({id:K.id,visible:K.visible})),activeLayerId:"wmts"===B.type?null==(G=B.activeLayer)?void 0:G.id:void 0}}function h(B){return B?{baseLayers:v(B.baseMapLayers.filter(D=>!D.isReference)),referenceLayers:v(B.baseMapLayers.filter(D=>D.isReference))}:null}function v(B){return B.map(D=>
{{let G;switch(D.layerType){case "VectorTileLayer":G="vector-tile";break;case "ArcGISTiledMapServiceLayer":G="tile";break;default:G="unknown"}D={type:G,url:y(D.templateUrl||D.urlTemplate||D.styleUrl||D.url),minScale:null!=D.minScale?D.minScale:0,maxScale:null!=D.maxScale?D.maxScale:0,opacity:null!=D.opacity?D.opacity:1,visible:null!=D.visibility?!!D.visibility:!0,sublayers:void 0,activeLayerId:void 0}}return D})}function x(B,D,G){return null!=B!==(null!=D)?"not-equal":B?A(B.baseLayers,D.baseLayers)?
A(B.referenceLayers,D.referenceLayers)?"equal":G.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function A(B,D){if(B.length!==D.length)return!1;for(let G=0;G<B.length;G++)if(!w(B[G],D[G]))return!1;return!0}function w(B,D){if(B.type!==D.type||B.url!==D.url||B.minScale!==D.minScale||B.maxScale!==D.maxScale||B.visible!==D.visible||B.opacity!==D.opacity)return!1;if(l.isSome(B.activeLayerId)||l.isSome(D.activeLayerId))return B.activeLayerId===D.activeLayerId;if(l.isSome(B.sublayers)||
l.isSome(D.sublayers)){if(l.isNone(B.sublayers)||l.isNone(D.sublayers)||B.sublayers.length!==D.sublayers.length)return!1;for(let G=0;G<B.sublayers.length;G++){const K=B.sublayers.at(G),M=D.sublayers.at(G);if(K.id!==M.id||K.visible!==M.visible)return!1}}return!0}function y(B){return B?u.normalize(B).replace(/^\s*https?:/i,"").toLowerCase():""}const z=d.getLogger("esri.support.basemapUtils"),C=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;a.clonePreservingTiledLayers=function(B,D=null){B=n(B);if(!B)return null;
const G=new b({id:B.id,title:B.title,baseLayers:B.baseLayers.slice(),referenceLayers:B.referenceLayers.slice()});D&&(G.baseLayers=m(G.baseLayers,D.baseLayers),G.referenceLayers=m(G.referenceLayers,D.referenceLayers));G.load().catch(()=>{});G.portalItem=B.portalItem;return G};a.contentEquals=function(B,D){if(B===D)return!0;B=k(B);D=k(D);return"equal"===x(B,D,{mustMatchReferences:!0})};a.createCache=function(){return{}};a.destroyCache=function(B){for(const D in B){const G=B[D];!1===(null==G?void 0:
G.destroyed)&&G.destroy();delete B[D]}};a.ensureType=n;a.findSpatialReference=function(B,D){var G,K,M;if(l.isNone(D)||l.isNone(B))return{spatialReference:null,updating:!1};if("not-loaded"===D.loadStatus)return D.load(),{spatialReference:null,updating:!0};if(D.spatialReference)return{spatialReference:D.spatialReference,updating:!1};if(0===D.baseLayers.length)return{spatialReference:null,updating:!1};D=D.baseLayers.getItemAt(0);switch(D.loadStatus){case "not-loaded":D.load();case "loading":return{spatialReference:null,
updating:!0};case "failed":return{spatialReference:null,updating:!1}}D=(("supportedSpatialReferences"in D?D.supportedSpatialReferences:null)||["tileInfo"in D?null==(G=D.tileInfo)?void 0:G.spatialReference:D.spatialReference]).filter(Boolean);return B.spatialReference?{spatialReference:null!=(K=null!=(M=D.find(N=>B.spatialReference.equals(N)))?M:D[0])?K:null,updating:!1}:{spatialReference:D[0],updating:!1}};a.getWellKnownBasemapId=function(B){let D=null;B=k(B);const G=!B.baseLayers.length;for(const M in g.esriBasemapDefinitions){var K=
h(g.esriBasemapDefinitions[M]);K=x(B,K,{mustMatchReferences:G});if("equal"===K){D=M;break}"base-layers-equal"===K&&(D=M)}return D};a.hasDeveloperBasemapLayer=function(B){return!(null==B||!B.baseLayers.concat(B.referenceLayers).some(r))};a.isDeveloperBasemapLayer=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/groundUtils":function(){define(["exports","../Ground","../core/Logger","../core/accessorSupport/ensureType"],function(a,b,c,f){const d=c.getLogger("esri.support.groundUtils"),
l={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};a.ensureType=function(u){let t=null;"string"===typeof u?u in l?t=new b({resourceInfo:{data:{layers:[l[u]]}}}):d.warn(`Unable to find ground definition for: ${u}. Try "world-elevation"`):
t=f.ensureType(b,u);return t};a.groundElevationLayers=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/LayersMixin":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../layers/Layer".split(" "),function(a,b,c,f,d,l,u,
t,g,n,m,r,q){function k(e,h,v){if(e)for(let A=0,w=e.length;A<w;A++){var x=e.getItemAt(A);if(x[h]===v||x&&"group"===x.type&&(x=k(x.layers,h,v)))return x}}const p=l.getLogger("esri.support.LayersMixin");a.LayersMixin=e=>{e=function(h){function v(...A){var w=h.call(this,...A)||this;w.layers=new f;w.layers.on("before-add",y=>{y=y.item;y.parent&&"remove"in y.parent&&y.parent.remove(y)});w.layers.on("after-add",y=>{y=y.item;y.parent=b._assertThisInitialized(w);w.layerAdded(y);"elevation"!==y.type&&"base-elevation"!==
y.type||p.error(`Layer 'title:${y.title}, id:${y.id}' of type '${y.type}' is not supported as an operational layer and will therefore be ignored.`)});w.layers.on("after-remove",y=>{y=y.item;y.parent=null;w.layerRemoved(y)});return w}b._inheritsLoose(v,h);var x=v.prototype;x.destroy=function(){const A=this.layers.removeAll();for(const w of A)this.layerRemoved(w),w.destroy();this.layers.destroy()};x.add=function(A,w){const y=this.layers;w=y.getNextIndex(w);A instanceof q?A.parent===this?this.reorder(A,
w):y.add(A,w):u.isPromiseLike(A)?A.then(z=>{this.destroyed||this.add(z,w)}):p.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")};x.addMany=function(A,w){const y=this.layers;w=y.getNextIndex(w);A.slice().forEach(z=>{z.parent===this?this.reorder(z,w):(y.add(z,w),w+=1)})};x.findLayerById=function(A){return k(this.layers,"id",A)};x.findLayerByUid=function(A){return k(this.layers,"uid",A)};x.remove=function(A){return this.layers.remove(A)};x.removeMany=function(A){return this.layers.removeMany(A)};
x.removeAll=function(){return this.layers.removeAll()};x.reorder=function(A,w){return this.layers.reorder(A,w)};x.layerAdded=function(A){};x.layerRemoved=function(A){};b._createClass(v,[{key:"layers",set:function(A){this._set("layers",d.referenceSetter(A,this._get("layers")))}}]);return v}(e);c.__decorate([t.property()],e.prototype,"layers",null);return e=c.__decorate([r.subclass("esri.support.LayersMixin")],e)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/Layer":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../config ../geometry ../request ../core/Error ../core/Evented ../core/Identifiable ../core/Loadable ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A){let w=0;const y=m.getLogger("esri.layers.Layer");d=function(z){function C(){var D=z.apply(this,arguments)||this;D.attributionDataUrl=null;D.fullExtent=new x(-180,-90,180,90,A.WGS84);D.id=Date.now().toString(16)+"-layer-"+w++;D.legendEnabled=!0;D.listMode="show";D.opacity=1;D.parent=null;D.popupEnabled=!0;D.attributionVisible=!0;D.spatialReference=A.WGS84;D.title=null;D.type=null;D.url=null;D.visible=!0;return D}b._inheritsLoose(C,z);C.fromArcGISServerUrl=
function(){var D=b._asyncToGenerator(function*(G){G="string"===typeof G?{url:G}:G;const K=yield new Promise((M,N)=>a(["./support/arcgisLayers"],M,N));try{return yield K.fromUrl(G)}catch(M){throw y.error("#fromArcGISServerUrl({ url: '"+G.url+"'})","Failed to create layer from arcgis server url",M),M;}});return function(G){return D.apply(this,arguments)}}();C.fromPortalItem=function(){var D=b._asyncToGenerator(function*(G){G="portalItem"in G?G:{portalItem:G};const K=yield new Promise((M,N)=>a(["../portal/support/portalLayers"],
M,N));try{return yield K.fromItem(G)}catch(M){throw G=G&&G.portalItem,y.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+(G&&G.portal&&G.portal.url||f.portalUrl)+"', id: '"+(G&&G.id||"unset")+"')",M),M;}});return function(G){return D.apply(this,arguments)}}();var B=C.prototype;B.initialize=function(){this.when().catch(D=>{if(!r.isAbortError(D)){var G,K;m.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(G=this.title)?G:"no title"}', id: '${null!=
(K=this.id)?K:"no id"}')`,{error:D})}})};B.destroy=function(){if(this.parent){const D=this.parent;"layers"in D&&D.layers.includes(this)?D.layers.remove(this):"tables"in D&&D.tables.includes(this)?D.tables.remove(this):"baseLayers"in D&&D.baseLayers.includes(this)?D.baseLayers.remove(this):"baseLayers"in D&&D.referenceLayers.includes(this)&&D.referenceLayers.remove(this)}};B.fetchAttributionData=function(){var D=b._asyncToGenerator(function*(){const G=this.attributionDataUrl;if(this.hasAttributionData&&
G)return(yield l(G,{query:{f:"json"},responseType:"json"})).data;throw new u("layer:no-attribution-data","Layer does not have attribution data");});return function(){return D.apply(this,arguments)}}();b._createClass(C,[{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){const D=this.url;return D?q.urlToObject(D):null}}]);return C}(t.EventedMixin(g.IdentifiableMixin(n)));c.__decorate([k.property({type:String})],d.prototype,"attributionDataUrl",
void 0);c.__decorate([k.property({type:x})],d.prototype,"fullExtent",void 0);c.__decorate([k.property({readOnly:!0})],d.prototype,"hasAttributionData",null);c.__decorate([k.property({type:String,clonable:!1})],d.prototype,"id",void 0);c.__decorate([k.property({type:Boolean,nonNullable:!0})],d.prototype,"legendEnabled",void 0);c.__decorate([k.property({type:["show","hide","hide-children"]})],d.prototype,"listMode",void 0);c.__decorate([k.property({type:Number,range:{min:0,max:1},nonNullable:!0})],
d.prototype,"opacity",void 0);c.__decorate([k.property({clonable:!1})],d.prototype,"parent",void 0);c.__decorate([k.property({readOnly:!0})],d.prototype,"parsedUrl",null);c.__decorate([k.property({type:Boolean})],d.prototype,"popupEnabled",void 0);c.__decorate([k.property({type:Boolean})],d.prototype,"attributionVisible",void 0);c.__decorate([k.property({type:A})],d.prototype,"spatialReference",void 0);c.__decorate([k.property({type:String})],d.prototype,"title",void 0);c.__decorate([k.property({type:String,
readOnly:!0,json:{read:!1}})],d.prototype,"type",void 0);c.__decorate([k.property()],d.prototype,"url",void 0);c.__decorate([k.property({type:Boolean,nonNullable:!0})],d.prototype,"visible",void 0);return d=c.__decorate([v.subclass("esri.layers.Layer")],d)})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){const r={base:f,key:"type",typeMap:{extent:c,multipoint:d,point:l,polyline:t,polygon:u}};b=b.ensureOneOfType(r);a.Extent=c;a.BaseGeometry=f;a.Multipoint=d;a.Point=l;a.Polygon=u;a.Polyline=t;a.SpatialReference=g;a.featureGeometryTypeKebabDictionary=n.featureGeometryTypeKebabDictionary;a.isFeatureGeometryType=n.isFeatureGeometryType;a.typeKebabDictionary=n.typeKebabDictionary;a.fromJSON=m.fromJSON;a.ensureType=b;a.geometryTypes=r;a.isGeometry=function(q){return q instanceof
f};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Multipoint":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),function(a,b,c,f,d,l,u,t,g,n,m){function r(k){return(p,e)=>null==p?e:null==e?p:k(p,e)}var q;d=q=function(k){function p(...h){h=
k.call(this,...h)||this;h.points=[];h.type="multipoint";return h}a._inheritsLoose(p,k);var e=p.prototype;e.normalizeCtorArgs=function(h,v){if(!h&&!v)return null;const x={};Array.isArray(h)?(x.points=h,x.spatialReference=v):!h||"esri.geometry.SpatialReference"!==h.declaredClass&&null==h.wkid?(h.points&&(x.points=h.points),h.spatialReference&&(x.spatialReference=h.spatialReference),h.hasZ&&(x.hasZ=h.hasZ),h.hasM&&(x.hasM=h.hasM)):x.spatialReference=h;if(h=x.points&&x.points[0])void 0===x.hasZ&&void 0===
x.hasM?(x.hasZ=2<h.length,x.hasM=!1):void 0===x.hasZ?x.hasZ=3<h.length:void 0===x.hasM&&(x.hasM=3<h.length);return x};e.writePoints=function(h,v){v.points=c.clone(this.points)};e.addPoint=function(h){m.updateSupportFromPoint(this,h);Array.isArray(h)?this.points.push(h):this.points.push(h.toArray());this.notifyChange("points");return this};e.clone=function(){const h={points:c.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(h.hasZ=!0);this.hasM&&(h.hasM=!0);return new q(h)};e.getPoint=
function(h){if(!this._validateInputs(h))return null;h=this.points[h];const v={x:h[0],y:h[1],spatialReference:this.spatialReference};let x=2;this.hasZ&&(v.z=h[2],x=3);this.hasM&&(v.m=h[x]);return new n(v)};e.removePoint=function(h){if(!this._validateInputs(h))return null;h=new n(this.points.splice(h,1)[0],this.spatialReference);this.notifyChange("points");return h};e.setPoint=function(h,v){if(!this._validateInputs(h))return this;m.updateSupportFromPoint(this,v);Array.isArray(v)||(v=v.toArray());this.points[h]=
v;this.notifyChange("points");return this};e.toJSON=function(h){return this.write({},h)};e._validateInputs=function(h){return null!=h&&0<=h&&h<this.points.length};a._createClass(p,[{key:"cache",get:function(){this.commitProperty("points");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const h=this.points;if(!h.length)return null;const v=new t,x=this.hasZ,A=this.hasM,w=x?3:2;var y=h[0];const z=r(Math.min),C=r(Math.max);
let [B,D]=y,[G,K]=y,M,N,I,F;for(let E=0,J=h.length;E<J;E++){y=h[E];const [P,W]=y;B=z(B,P);D=z(D,W);G=C(G,P);K=C(K,W);if(x&&2<y.length){const Z=y[2];M=z(M,Z);I=C(I,Z)}A&&y.length>w&&(y=y[w],N=z(N,y),F=C(F,y))}v.xmin=B;v.ymin=D;v.xmax=G;v.ymax=K;v.spatialReference=this.spatialReference;x?(v.zmin=M,v.zmax=I):(v.zmin=null,v.zmax=null);A?(v.mmin=N,v.mmax=F):(v.mmin=null,v.mmax=null);return v}}]);return p}(g);b.__decorate([f.property({readOnly:!0})],d.prototype,"cache",null);b.__decorate([f.property()],
d.prototype,"extent",null);b.__decorate([f.property({type:[[Number]],json:{write:{isRequired:!0}}})],d.prototype,"points",void 0);b.__decorate([u.writer("points")],d.prototype,"writePoints",null);d=q=b.__decorate([l.subclass("esri.geometry.Multipoint")],d);d.prototype.toJSON.isDefaultToJSON=!0;return d})},"esri/geometry/support/zmUtils":function(){define(["exports"],function(a){a.updateSupportFromPoint=function(b,c,f=!1){let {hasM:d,hasZ:l}=b;Array.isArray(c)?4!==c.length||d||l?3===c.length&&f&&!d?
(l=!0,d=!1):3===c.length&&d&&l&&(l=d=!1):l=d=!0:(l=!l&&c.hasZ&&(!d||c.hasM),d=!d&&c.hasM&&(!l||c.hasZ));b.hasZ=l;b.hasM=d};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Polygon":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/arrayUtils ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersectsBase ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A){var w;u=w=function(y){function z(...B){B=y.call(this,...B)||this;B.rings=[];B.type="polygon";return B}a._inheritsLoose(z,y);z.fromExtent=function(B){var D=B.clone().normalize();B=B.spatialReference;let G=!1,K=!1;for(const M of D)M.hasZ&&(G=!0),M.hasM&&(K=!0);D={rings:D.map(function(M){const N=[[M.xmin,M.ymin],[M.xmin,M.ymax],[M.xmax,M.ymax],[M.xmax,M.ymin],[M.xmin,M.ymin]];if(G&&M.hasZ){var I=M.zmin+.5*(M.zmax-M.zmin);for(let F=0;F<N.length;F++)N[F].push(I)}if(K&&
M.hasM)for(M=M.mmin+.5*(M.mmax-M.mmin),I=0;I<N.length;I++)N[I].push(M);return N}),spatialReference:B};G&&(D.hasZ=!0);K&&(D.hasM=!0);return new w(D)};var C=z.prototype;C.normalizeCtorArgs=function(B,D){let G=null,K,M,N=null;B&&!Array.isArray(B)?(G=B.rings?B.rings:null,D||(B.spatialReference?D=B.spatialReference:B.rings||(D=B)),K=B.hasZ,M=B.hasM):G=B;G=G||[];D=D||q.WGS84;G.length&&G[0]&&null!=G[0][0]&&"number"===typeof G[0][0]&&(G=[G]);if(N=G[0]&&G[0][0])void 0===K&&void 0===M?(K=2<N.length,M=3<N.length):
void 0===K?K=M?3<N.length:2<N.length:void 0===M&&(M=K?3<N.length:2<N.length);return{rings:G,spatialReference:D,hasZ:K,hasM:M}};C.writeRings=function(B,D){D.rings=f.clone(this.rings)};C.addRing=function(B){if(B){var D=this.rings,G=D.length;if(Array.isArray(B[0]))D[G]=B.concat();else{const K=[];for(let M=0,N=B.length;M<N;M++)K[M]=B[M].toArray();D[G]=K}this.notifyChange("rings");return this}};C.clone=function(){const B=new w;B.spatialReference=this.spatialReference;B.rings=f.clone(this.rings);B.hasZ=
this.hasZ;B.hasM=this.hasM;return B};C.equals=function(B){if(this===B)return!0;if(d.isNone(B))return!1;var D=this.spatialReference,G=B.spatialReference;if(d.isSome(D)!==d.isSome(G)||d.isSome(D)&&d.isSome(G)&&!D.equals(G)||this.rings.length!==B.rings.length)return!1;D=([K,M,N,I],[F,E,J,P])=>K===F&&M===E&&(null==N&&null==J||N===J)&&(null==I&&null==P||I===P);for(G=0;G<this.rings.length;G++)if(!c.equals(this.rings[G],B.rings[G],D))return!1;return!0};C.contains=function(B){if(!B)return!1;const D=x.project(B,
this.spatialReference);return p.polygonContainsPoint(this,d.isSome(D)?D:B)};C.isClockwise=function(B){B=Array.isArray(B[0])?B:B.map(D=>this.hasZ?this.hasM?[D.x,D.y,D.z,D.m]:[D.x,D.y,D.z]:[D.x,D.y]);return e.isClockwise(B,this.hasM,this.hasZ)};C.getPoint=function(B,D){if(!this._validateInputs(B,D))return null;B=this.rings[B][D];D=this.hasZ;const G=this.hasM;return D&&!G?new r(B[0],B[1],B[2],void 0,this.spatialReference):G&&!D?new r(B[0],B[1],void 0,B[2],this.spatialReference):D&&G?new r(B[0],B[1],
B[2],B[3],this.spatialReference):new r(B[0],B[1],this.spatialReference)};C.insertPoint=function(B,D,G){if(!this._validateInputs(B,D,!0))return this;A.updateSupportFromPoint(this,G);Array.isArray(G)||(G=G.toArray());this.rings[B].splice(D,0,G);this.notifyChange("rings");return this};C.removePoint=function(B,D){if(!this._validateInputs(B,D))return null;B=new r(this.rings[B].splice(D,1)[0],this.spatialReference);this.notifyChange("rings");return B};C.removeRing=function(B){if(!this._validateInputs(B,
null))return null;B=this.rings.splice(B,1)[0];const D=this.spatialReference;B=B.map(G=>new r(G,D));this.notifyChange("rings");return B};C.setPoint=function(B,D,G){if(!this._validateInputs(B,D))return this;A.updateSupportFromPoint(this,G);Array.isArray(G)||(G=G.toArray());this.rings[B][D]=G;this.notifyChange("rings");return this};C._validateInputs=function(B,D,G=!1){return null==B||0>B||B>=this.rings.length||null!=D&&(B=this.rings[B],G&&(0>D||D>B.length)||!G&&(0>D||D>=B.length))?!1:!0};C.toJSON=function(B){return this.write({},
B)};a._createClass(z,[{key:"cache",get:function(){this.commitProperty("rings");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"centroid",get:function(){const B=k.polygonCentroid(this);if(!B||isNaN(B[0])||isNaN(B[1])||this.hasZ&&isNaN(B[2]))return null;const D=new r;D.x=B[0];D.y=B[1];D.spatialReference=this.spatialReference;this.hasZ&&(D.z=B[2]);return D}},{key:"extent",get:function(){const {spatialReference:B}=this;var D=h.getPolygonExtent(this);
if(!D)return null;D=new n(D);D.spatialReference=B;return D}},{key:"isSelfIntersecting",get:function(){return v.isSelfIntersecting(this.rings)}}]);return z}(m);b.__decorate([l.property({readOnly:!0})],u.prototype,"cache",null);b.__decorate([l.property({readOnly:!0})],u.prototype,"centroid",null);b.__decorate([l.property({readOnly:!0})],u.prototype,"extent",null);b.__decorate([l.property({readOnly:!0})],u.prototype,"isSelfIntersecting",null);b.__decorate([l.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],
u.prototype,"rings",void 0);b.__decorate([g.writer("rings")],u.prototype,"writeRings",null);u=w=b.__decorate([t.subclass("esri.geometry.Polygon")],u);u.prototype.toJSON.isDefaultToJSON=!0;return u})},"esri/geometry/support/centroid":function(){define(["exports","./coordsUtils"],function(a,b){function c(l,u){if(!l||!l.length)return null;const t=[],g=[],n=u?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let m=0,r=l.length;m<r;m++){const q=f(l[m],
u,n);q&&g.push(q)}g.sort((m,r)=>{let q=m[2]-r[2];0===q&&u&&(q=m[4]-r[4]);return q});g.length&&(t[0]=g[0][0],t[1]=g[0][1],u&&(t[2]=g[0][3]),t[0]<n[0]||t[0]>n[1]||t[1]<n[2]||t[1]>n[3]||u&&(t[2]<n[4]||t[2]>n[5]))&&(t.length=0);if(!t.length)if(l=l[0]&&l[0].length?d(l[0],u):null)t[0]=l[0],t[1]=l[1],u&&2<l.length&&(t[2]=l[2]);else return null;return t}function f(l,u,t){let g=0,n=0,m=0,r=0,q=0;const k=l.length?l[0][0]:0,p=l.length?l[0][1]:0,e=l.length&&u?l[0][2]:0;for(let v=0;v<l.length;v++){var h=l[v];
const x=l[(v+1)%l.length],[A,w,y]=h,z=A-k,C=w-p,B=u?y-e:void 0,[D,G,K]=x,M=D-k,N=G-p,I=u?K-e:void 0,F=z*N-M*C;r+=F;g+=(z+M)*F;n+=(C+N)*F;u&&2<h.length&&2<x.length&&(h=z*I-M*B,m+=(B+I)*h,q+=h);A<t[0]&&(t[0]=A);A>t[1]&&(t[1]=A);w<t[2]&&(t[2]=w);w>t[3]&&(t[3]=w);u&&(y<t[4]&&(t[4]=y),y>t[5]&&(t[5]=y))}0<r&&(r*=-1);0<q&&(q*=-1);if(!r)return null;r*=.5;q*=.5;l=[g/(6*r)+k,n/(6*r)+p,r];u&&(t[4]===t[5]||0===q?(l[3]=(t[4]+t[5])/2,l[4]=0):(l[3]=m/(6*q)+e,l[4]=q));return l}function d(l,u){const t=u?[0,0,0]:[0,
0],g=u?[0,0,0]:[0,0];let n=0,m=0,r=0,q=0;for(let p=0,e=l.length;p<e-1;p++){var k=l[p];const h=l[p+1];if(k&&h){t[0]=k[0];t[1]=k[1];g[0]=h[0];g[1]=h[1];u&&2<k.length&&2<h.length&&(t[2]=k[2],g[2]=h[2]);const v=b.getLength(t,g);v&&(n+=v,k=b.getMidpoint(k,h),m+=v*k[0],r+=v*k[1],u&&2<k.length&&(q+=v*k[2]))}}return 0<n?u?[m/n,r/n,q/n]:[m/n,r/n]:l.length?l[0]:null}a.extentCentroid=function(l){return l?l.hasZ?[l.xmax-l.xmin/2,l.ymax-l.ymin/2,l.zmax-l.zmin/2]:[l.xmax-l.xmin/2,l.ymax-l.ymin/2]:null};a.lineCentroid=
d;a.polygonCentroid=function(l){return l?c(l.rings,l.hasZ):null};a.ringsCentroid=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/coordsUtils":function(){define(["exports","./spatialReferenceUtils"],function(a,b){function c(u,t){const g=t[0]-u[0],n=t[1]-u[1];return 2<u.length&&2<t.length?(u=u[2]-t[2],Math.sqrt(g*g+n*n+u*u)):Math.sqrt(g*g+n*n)}function f(u,t,g){const n=u[0]+g*(t[0]-u[0]),m=u[1]+g*(t[1]-u[1]);return 2<u.length&&2<t.length?[n,m,u[2]+g*(t[2]-u[2])]:[n,m]}function d(u,
t,g){const n=u.length;let m=0,r=0,q=0;for(let k=0;k<n;k++){const p=u[k],e=u[(k+1)%n];let h=2;m+=p[0]*e[1]-e[0]*p[1];2<p.length&&2<e.length&&g&&(r+=p[0]*e[2]-e[0]*p[2],h=3);p.length>h&&e.length>h&&t&&(q+=p[0]*e[h]-e[0]*p[h])}return 0>=m&&0>=r&&0>=q}function l(u,t){if(t=b.getInfo(t)){var g=t.valid[0],n=t.valid[1],m=n-g;for(const r of u){let q=Infinity,k=-Infinity;r.forEach(p=>{let e=p[0];for(;e<g;)e+=m;for(;e>n;)e-=m;q=Math.min(q,e);k=Math.max(k,e);p[0]=e});u=k-q;m-u<u&&r.forEach(p=>{0>p[0]&&(p[0]+=
m)})}}}a.closeRings=function(u){if("rings"in u)for(const t of u.rings)3>t.length||t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]])};a.closeRingsAndFixWinding=function(u){if("rings"in u){for(var t of u.rings)3>t.length||t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]]);if(0<u.rings.length&&!d(u.rings[0],u.hasM,u.hasZ))for(t=0;t<u.rings.length;++t)u.rings[t]=u.rings[t].reverse()}};a.computeUnnormalizedVertexPositionsOnDateLineCrossing=
function(u,t,g,n){let m=Infinity,r=-Infinity;u.forEach(k=>{let p=k.pos[0];for(;p<t;)p+=n;for(;p>g;)p-=n;m=Math.min(m,p);r=Math.max(r,p);k.unnormalizedPos[0]=p;k.unnormalizedPos[1]=k.pos[1];2<k.pos.length&&(k.unnormalizedPos[2]=k.pos[2]);3<k.pos.length&&(k.unnormalizedPos[3]=k.pos[3])});const q=r-m;n-q<q&&u.forEach(k=>{0>k.unnormalizedPos[0]&&(k.unnormalizedPos[0]+=n)})};a.geometryToCoordinates=function(u){if(!u)return null;if(Array.isArray(u))return u;const t=u.hasZ,g=u.hasM;if("point"===u.type)return g&&
t?[u.x,u.y,u.z,u.m]:t?[u.x,u.y,u.z]:g?[u.x,u.y,u.m]:[u.x,u.y];if("polygon"===u.type)return u.rings.slice(0);if("polyline"===u.type)return u.paths.slice(0);if("multipoint"===u.type)return u.points.slice(0);if("extent"===u.type){u=u.clone().normalize();if(!u)return null;let n=!1,m=!1;u.forEach(r=>{r.hasZ&&(n=!0);r.hasM&&(m=!0)});return u.map(r=>{const q=[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin],[r.xmin,r.ymin]];if(n&&r.hasZ){var k=.5*(r.zmax-r.zmin);for(let p=0;p<q.length;p++)q[p].push(k)}if(m&&
r.hasM)for(r=.5*(r.mmax-r.mmin),k=0;k<q.length;k++)q[k].push(r);return q})}return null};a.getLength=c;a.getMidpoint=function(u,t){return f(u,t,.5)};a.getPathLength=function(u){const t=u.length;let g=0;for(let n=0;n<t-1;++n)g+=c(u[n],u[n+1]);return g};a.getPointOnPath=function(u,t){if(0>=t)return u[0];const g=u.length;let n=0;for(let m=0;m<g-1;++m){const r=c(u[m],u[m+1]);if(t-n<r)return f(u[m],u[m+1],(t-n)/r);n+=r}return u[g-1]};a.getRingArea=function(u){const t=u.length;let g=0;for(let n=0;n<t;n++){const m=
u[n],r=u[(n+1)%t];g+=m[0]*r[1]-r[0]*m[1]}return g};a.isClockwise=d;a.projectPointOnLine=function(u,t,g,n){const [m,r]=t,[q,k]=g[n],[p,e]=g[n+1];t=p-q;g=e-k;n=Math.min(1,Math.max(0,((m-q)*t+(r-k)*g)/(t*t+g*g)));u[0]=q+t*n;u[1]=k+g*n;return u};a.unnormalizeGeometryOnDatelineCrossing=function(u){if("polygon"!==u.type&&"polyline"!==u.type)return u;l("polygon"===u.type?u.rings:u.paths,u.spatialReference);return u};a.unnormalizeVerticesOnDatelineCrossing=l;Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],function(a,b){function c(g,n=!1,m=!1){return n?m?{xmin:g[0],ymin:g[1],zmin:g[2],mmin:g[3],xmax:g[4],ymax:g[5],zmax:g[6],mmax:g[7]}:{xmin:g[0],ymin:g[1],zmin:g[2],xmax:g[3],ymax:g[4],zmax:g[5]}:m?{xmin:g[0],ymin:g[1],mmin:g[2],xmax:g[3],ymax:g[4],mmax:g[5]}:{xmin:g[0],ymin:g[1],xmax:g[2],ymax:g[3]}}function f(g){const {hasZ:n,hasM:m,points:r}=g;return c(b.getPointsBounds(t,r,n,m),n,m)}function d(g){const {x:n,y:m,z:r,
m:q}=g;g=null!=q;return null!=r?g?{xmin:n,ymin:m,zmin:r,mmin:q,xmax:n,ymax:m,zmax:r,mmax:q}:{xmin:n,ymin:m,zmin:r,xmax:n,ymax:m,zmax:r}:g?{xmin:n,ymin:m,mmin:q,xmax:n,ymax:m,mmax:q}:{xmin:n,ymin:m,xmax:n,ymax:m}}function l(g){const {hasZ:n,hasM:m,rings:r}=g;return(g=b.getRingsOrPathsBounds(t,r,n,m))?c(g,n,m):null}function u(g){const {hasZ:n,hasM:m,paths:r}=g;return(g=b.getRingsOrPathsBounds(t,r,n,m))?c(g,n,m):null}const t=[];a.getGeometryExtent=function(g){return g?void 0!==g.xmin&&void 0!==g.ymin&&
void 0!==g.xmax&&void 0!==g.ymax?g:void 0!==g.x&&void 0!==g.y?d(g):void 0!==g.rings?l(g):void 0!==g.paths?u(g):void 0!==g.points?f(g):null:null};a.getMultipointExtent=f;a.getPointExtent=d;a.getPolygonExtent=l;a.getPolylineExtent=u;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/boundsUtils":function(){define(["exports"],function(a){function b(g){return void 0!==g.xmin&&void 0!==g.ymin&&void 0!==g.xmax&&void 0!==g.ymax}function c(g){return(n,m)=>null==n?m:null==m?n:g(n,m)}
function f(g,n,m,r){const q=m?3:2;if(!n.length||!n[0].length)return null;let [k,p]=n[0][0],[e,h]=n[0][0],v=void 0,x=void 0,A=void 0;var w=void 0;for(let y=0;y<n.length;y++){const z=n[y];for(let C=0;C<z.length;C++){const B=z[C],[D,G]=B;k=u(k,D);p=u(p,G);e=t(e,D);h=t(h,G);if(m&&2<B.length){const K=B[2];v=u(v,K);x=t(x,K)}r&&B.length>q&&(w=B[q],A=u(v,w),w=t(x,w))}}if(m){if(r)return g[0]=k,g[1]=p,g[2]=v,g[3]=A,g[4]=e,g[5]=h,g[6]=x,g[7]=w,g.length=8,g;g[0]=k;g[1]=p;g[2]=v;g[3]=e;g[4]=h;g[5]=x;g.length=
6;return g}if(r)return g[0]=k,g[1]=p,g[2]=A,g[3]=e,g[4]=h,g[5]=w,g.length=6,g;g[0]=k;g[1]=p;g[2]=e;g[3]=h;g.length=4;return g}function d(g,n,m,r,q,k){m=n.xmin;r=n.xmax;const p=n.ymin,e=n.ymax;let h=n.zmin,v=n.zmax,x=n.mmin;n=n.mmax;if(q){h=h||0;v=v||0;if(k)return g[0]=m,g[1]=p,g[2]=h,g[3]=x||0,g[4]=r,g[5]=e,g[6]=v,g[7]=n||0,g;g[0]=m;g[1]=p;g[2]=h;g[3]=r;g[4]=e;g[5]=v;return g}if(k)return g[0]=m,g[1]=p,g[2]=x||0,g[3]=r,g[4]=e,g[5]=n||0,g;g[0]=m;g[1]=p;g[2]=r;g[3]=e;return g}function l(g,n,m,r,q,k){const p=
m?3:2;r=r&&k;m=m&&q;if(!n.length||!n[0].length)return null;let [e,h]=n[0],[v,x]=n[0],A=void 0,w=void 0,y=void 0;var z=void 0;for(let C=0;C<n.length;C++){const B=n[C],[D,G]=B;e=u(e,D);h=u(h,G);v=t(v,D);x=t(x,G);if(m&&2<B.length){const K=B[2];A=u(A,K);w=t(w,K)}r&&B.length>p&&(z=B[p],y=u(A,z),z=t(w,z))}if(q){A=A||0;w=w||0;if(k)return g[0]=e,g[1]=h,g[2]=A,g[3]=y||0,g[4]=v,g[5]=x,g[6]=w,g[7]=z||0,g;g[0]=e;g[1]=h;g[2]=A;g[3]=v;g[4]=x;g[5]=w;return g}if(k)return g[0]=e,g[1]=h,g[2]=y||0,g[3]=v,g[4]=x,g[5]=
z||0,g;g[0]=e;g[1]=h;g[2]=v;g[3]=x;return g}const u=c(Math.min),t=c(Math.max);a.getBoundsXY=function(g,n){if(void 0!==n.paths)return f(g,n.paths,!1,!1);if(void 0!==n.rings)return f(g,n.rings,!1,!1);if(void 0!==n.points)return l(g,n.points,!1,!1,!1,!1);if(b(n))return d(g,n);void 0!==n.x&&void 0!==n.y&&(g[0]=n.x,g[1]=n.y,g[2]=n.x,g[3]=n.y);return g};a.getBoundsXYZ=function(g,n){if(void 0!==n.paths)return f(g,n.paths,!0,!1);if(void 0!==n.rings)return f(g,n.rings,!0,!1);if(void 0!==n.points)return l(g,
n.points,!0,!1,!0,!1);if(b(n))return d(g,n,!0,!1,!0,!1);void 0!==n.x&&void 0!==n.y&&(g[0]=n.x,g[1]=n.y,g[2]=n.z,g[3]=n.x,g[4]=n.y,g[5]=n.z);return g};a.getExtentBounds=d;a.getPointsBounds=l;a.getPointsBoundsCenterX=function(g){if(!g.length||!g[0].length)return null;let [n]=g[0],[m]=g[0];for(let r=0;r<g.length;r++){const [q]=g[r];n=u(n,q);m=t(m,q)}return n+.5*(m-n)};a.getPointsBoundsWidth=function(g){if(!g.length||!g[0].length)return null;let [n]=g[0],[m]=g[0];for(let r=0;r<g.length;r++){const [q]=
g[r];n=u(n,q);m=t(m,q)}return m-n};a.getRingsOrPathsBounds=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Polyline":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),function(a,
b,c,f,d,l,u,t,g,n,m,r,q){var k;d=k=function(p){function e(...v){v=p.call(this,...v)||this;v.paths=[];v.type="polyline";return v}a._inheritsLoose(e,p);var h=e.prototype;h.normalizeCtorArgs=function(v,x){let A=null,w,y,z=null;v&&!Array.isArray(v)?(A=v.paths?v.paths:null,x||(v.spatialReference?x=v.spatialReference:v.paths||(x=v)),w=v.hasZ,y=v.hasM):A=v;A=A||[];x=x||m.WGS84;A.length&&A[0]&&null!=A[0][0]&&"number"===typeof A[0][0]&&(A=[A]);if(z=A[0]&&A[0][0])void 0===w&&void 0===y?(w=2<z.length,y=!1):
void 0===w?w=!y&&3<z.length:void 0===y&&(y=!w&&3<z.length);return{paths:A,spatialReference:x,hasZ:w,hasM:y}};h.writePaths=function(v,x){x.paths=c.clone(this.paths)};h.addPath=function(v){if(v){var x=this.paths,A=x.length;if(Array.isArray(v[0]))x[A]=v.concat();else{const w=[];for(let y=0,z=v.length;y<z;y++)w[y]=v[y].toArray();x[A]=w}this.notifyChange("paths");return this}};h.clone=function(){const v=new k;v.spatialReference=this.spatialReference;v.paths=c.clone(this.paths);v.hasZ=this.hasZ;v.hasM=
this.hasM;return v};h.getPoint=function(v,x){if(!this._validateInputs(v,x))return null;v=this.paths[v][x];x=this.hasZ;const A=this.hasM;return x&&!A?new n(v[0],v[1],v[2],void 0,this.spatialReference):A&&!x?new n(v[0],v[1],void 0,v[2],this.spatialReference):x&&A?new n(v[0],v[1],v[2],v[3],this.spatialReference):new n(v[0],v[1],this.spatialReference)};h.insertPoint=function(v,x,A){if(!this._validateInputs(v,x,!0))return this;q.updateSupportFromPoint(this,A);Array.isArray(A)||(A=A.toArray());this.paths[v].splice(x,
0,A);this.notifyChange("paths");return this};h.removePath=function(v){if(!this._validateInputs(v,null))return null;v=this.paths.splice(v,1)[0];const x=this.spatialReference;v=v.map(A=>new n(A,x));this.notifyChange("paths");return v};h.removePoint=function(v,x){if(!this._validateInputs(v,x))return null;v=new n(this.paths[v].splice(x,1)[0],this.spatialReference);this.notifyChange("paths");return v};h.setPoint=function(v,x,A){if(!this._validateInputs(v,x))return this;q.updateSupportFromPoint(this,A);
Array.isArray(A)||(A=A.toArray());this.paths[v][x]=A;this.notifyChange("paths");return this};h._validateInputs=function(v,x,A=!1){return null==v||0>v||v>=this.paths.length||null!=x&&(v=this.paths[v],A&&(0>x||x>v.length)||!A&&(0>x||x>=v.length))?!1:!0};h.toJSON=function(v){return this.write({},v)};a._createClass(e,[{key:"cache",get:function(){this.commitProperty("paths");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const {spatialReference:v}=
this;var x=r.getPolylineExtent(this);if(!x)return null;x=new t(x);x.spatialReference=v;return x}}]);return e}(g);b.__decorate([f.property({readOnly:!0})],d.prototype,"cache",null);b.__decorate([f.property({readOnly:!0})],d.prototype,"extent",null);b.__decorate([f.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],d.prototype,"paths",void 0);b.__decorate([u.writer("paths")],d.prototype,"writePaths",null);d=k=b.__decorate([l.subclass("esri.geometry.Polyline")],d);d.prototype.toJSON.isDefaultToJSON=
!0;return d})},"esri/geometry/support/typeUtils":function(){define(["exports","../../core/jsonMap"],function(a,b){const c=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});b=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=c;a.isFeatureGeometryType=
function(f){return"point"===f||"multipoint"===f||"polyline"===f||"polygon"===f};a.typeKebabDictionary=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/jsonUtils":function(){define("exports ../../core/maybe ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,c,f,d,l,u,t){function g(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function n(e){return void 0!==e.points}function m(e){return void 0!==e.x&&
void 0!==e.y}function r(e){return void 0!==e.paths}function q(e){return void 0!==e.rings}function k(e){return b.isNone(e)?null:e instanceof f?e:m(e)?l.fromJSON(e):r(e)?t.fromJSON(e):q(e)?u.fromJSON(e):n(e)?d.fromJSON(e):g(e)?c.fromJSON(e):null}const p={esriGeometryPoint:l,esriGeometryPolyline:t,esriGeometryPolygon:u,esriGeometryEnvelope:c,esriGeometryMultipoint:d};a.fromJSON=k;a.fromJson=function(e){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(h){console.warn(h.stack)}return k(e)};
a.getGeometryType=function(e){return e&&p[e]||null};a.getJsonType=function(e){return e?m(e)?"esriGeometryPoint":r(e)?"esriGeometryPolyline":q(e)?"esriGeometryPolygon":g(e)?"esriGeometryEnvelope":n(e)?"esriGeometryMultipoint":null:null};a.isExtent=g;a.isMesh=function(e){return void 0!==e.vertexAttributes};a.isMultipoint=n;a.isPoint=m;a.isPolygon=q;a.isPolyline=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Identifiable":function(){define(["exports","../chunks/_rollupPluginBabelHelpers",
"../chunks/tslib.es6","./accessorSupport/decorators/subclass"],function(a,b,c,f){let d=0;const l=u=>{u=function(t){function g(...n){n=t.call(this,...n)||this;Object.defineProperty(b._assertThisInitialized(n),"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+d++});return n}b._inheritsLoose(g,t);return g}(u);return u=c.__decorate([f.subclass("esri.core.Identifiable")],u)};a.Identifiable=function(u){function t(){return u.apply(this,arguments)||this}b._inheritsLoose(t,u);return t}(l(function(){return function(){}}()));
a.Identifiable=c.__decorate([f.subclass("esri.core.Identifiable")],a.Identifiable);a.IdentifiableMixin=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/TablesMixin":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),function(a,
b,c,f,d,l,u,t,g,n,m){function r(k,p,e){if(k)for(let v=0,x=k.length;v<x;v++){var h=k.getItemAt(v);if(h[p]===e||h&&"group"===h.type&&(h=r(h.tables,p,e)))return h}}const q=l.getLogger("esri.support.TablesMixin");a.TablesMixin=k=>{k=function(p){function e(...v){var x=p.call(this,...v)||this;x.tables=new f;x.tables.on("after-add",A=>{A=A.item;A.parent&&A.parent!==b._assertThisInitialized(x)&&"tables"in A.parent&&A.parent.tables.remove(A);A.parent=b._assertThisInitialized(x);"feature"!==A.type&&q.error(`Layer 'title:${A.title}, id:${A.id}' of type '${A.type}' is not supported as a table and will therefore be ignored.`)});
x.tables.on("after-remove",A=>{A.item.parent=null});return x}b._inheritsLoose(e,p);var h=e.prototype;h.destroy=function(){const v=this.tables.removeAll();for(const x of v)x.destroy();this.tables.destroy()};h.findTableById=function(v){return r(this.tables,"id",v)};h.findTableByUid=function(v){return r(this.tables,"uid",v)};b._createClass(e,[{key:"tables",set:function(v){this._set("tables",d.referenceSetter(v,this._get("tables")))}}]);return e}(k);c.__decorate([u.property()],k.prototype,"tables",null);
return k=c.__decorate([m.subclass("esri.support.TablesMixin")],k)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/Viewpoint":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Camera ./geometry ./core/JSONSupport ./core/maybe ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),function(a,b,c,f,d,l,u,t,g,n,m,r){function q(){return{enabled:!this.camera}}
var k;d=k=function(p){function e(v){v=p.call(this,v)||this;v.rotation=0;v.scale=0;v.targetGeometry=null;v.camera=null;return v}a._inheritsLoose(e,p);var h=e.prototype;h.castRotation=function(v){v%=360;0>v&&(v+=360);return v};h.clone=function(){return new k({rotation:this.rotation,scale:this.scale,targetGeometry:l.isSome(this.targetGeometry)?this.targetGeometry.clone():null,camera:l.isSome(this.camera)?this.camera.clone():null})};return e}(d.JSONSupport);b.__decorate([u.property({type:Number,json:{write:!0,
origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:q}}}}})],d.prototype,"rotation",void 0);b.__decorate([n.cast("rotation")],d.prototype,"castRotation",null);b.__decorate([u.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:q}}}}})],d.prototype,"scale",void 0);b.__decorate([u.property({types:f.geometryTypes,json:{read:r.fromJSON,write:!0,origins:{"web-scene":{read:r.fromJSON,write:{overridePolicy:q}}}}})],d.prototype,
"targetGeometry",void 0);b.__decorate([u.property({type:c,json:{write:!0}})],d.prototype,"camera",void 0);return d=k=b.__decorate([m.subclass("esri.Viewpoint")],d)})},"esri/Camera":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Clonable ./core/JSONSupport ./core/mathUtils ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./geometry/Point ./views/3d/support/mathUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p){c=function(e){function h(...x){x=e.call(this,...x)||this;x.position=new k([0,0,0]);x.heading=0;x.tilt=0;x.fov=55;return x}a._inheritsLoose(h,e);var v=h.prototype;v.normalizeCtorArgs=function(x,A,w,y){return x&&"object"===typeof x&&("x"in x||Array.isArray(x))?(x={position:x},null!=A&&(x.heading=A),null!=w&&(x.tilt=w),null!=y&&(x.fov=y),x):x};v.writePosition=function(x,A,w,y){const z=x.clone();z.x=q.ensureNumber(x.x||0);z.y=q.ensureNumber(x.y||0);z.z=x.hasZ?q.ensureNumber(x.z||
0):x.z;A[w]=z.write({},y)};v.readPosition=function(x,A){const w=new k;w.read(x,A);w.x=q.ensureNumber(w.x||0);w.y=q.ensureNumber(w.y||0);w.z=w.hasZ?q.ensureNumber(w.z||0):w.z;return w};v.equals=function(x){return x?this.tilt===x.tilt&&this.heading===x.heading&&this.fov===x.fov&&this.position.equals(x.position):!1};return h}(c.ClonableMixin(f.JSONSupport));b.__decorate([l.property({type:k,json:{write:{isRequired:!0}}})],c.prototype,"position",void 0);b.__decorate([r.writer("position")],c.prototype,
"writePosition",null);b.__decorate([n.reader("position")],c.prototype,"readPosition",null);b.__decorate([l.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),g.cast(e=>p.cyclicalDeg.normalize(q.ensureNumber(e)))],c.prototype,"heading",void 0);b.__decorate([l.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),g.cast(e=>d.clamp(q.ensureNumber(e),-180,180))],c.prototype,"tilt",void 0);b.__decorate([l.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],c.prototype,
"fov",void 0);return c=b.__decorate([m.subclass("esri.Camera")],c)})},"esri/core/Clonable":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./has ./lang ./Logger ./maybe ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t,g,n,m){u.getLogger("esri.core.Clonable");d=r=>{r=function(q){function k(){return q.apply(this,arguments)||this}b._inheritsLoose(k,q);k.prototype.clone=function(){var p=
t.unwrapOrThrow(n.getProperties(this),"unable to clone instance of non-accessor class"),e=p.metadatas;const h=p.store,v={};p=new Map;for(var x in e){var A=e[x];const y=null==h?void 0:h.originOf(x),z=A.clonable;if(A.readOnly||!1===z||y!==g.OriginId.USER&&y!==g.OriginId.DEFAULTS&&y!==g.OriginId.WEB_MAP&&y!==g.OriginId.WEB_SCENE)continue;A=this[x];let C=null;C="function"===typeof z?z(A):"reference"===z?A:l.tryClone(A);if(null==A||null!=C)y===g.OriginId.DEFAULTS?p.set(x,C):v[x]=C}e=new (Object.getPrototypeOf(this).constructor)(v);
if(p.size){var w;if(x=null==(w=n.getProperties(e))?void 0:w.store)for(const [y,z]of p)x.set(y,z,g.OriginId.DEFAULTS)}return e};return k}(r);return r=c.__decorate([m.subclass("esri.core.Clonable")],r)};a.Clonable=function(r){function q(){return r.apply(this,arguments)||this}b._inheritsLoose(q,r);return q}(d(f));a.Clonable=c.__decorate([m.subclass("esri.core.Clonable")],a.Clonable);a.ClonableMixin=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/3d/support/mathUtils":function(){define(["exports",
"../../../core/mathUtils","../../../chunks/vec3","../../../chunks/vec3f64"],function(a,b,c,f){function d(p){for(const e in p){const h=p[e];h instanceof Function&&(p[e]=h.bind(p))}return p}let l=function(){function p(h,v){this.min=h;this.max=v;this.range=v-h}var e=p.prototype;e.ndiff=function(h,v=0){return Math.ceil((h-v)/this.range)*this.range+v};e._normalize=function(h,v,x,A=0,w=!1){x-=A;x<h?x+=this.ndiff(h-x):x>v&&(x-=this.ndiff(x-v));w&&x===v&&(x=h);return x+A};e.normalize=function(h,v=0,x=!1){return this._normalize(this.min,
this.max,h,v,x)};e.clamp=function(h,v=0){return b.clamp(h-v,this.min,this.max)+v};e.monotonic=function(h,v,x){return h<v?v:v+this.ndiff(h-v,x)};e.minimalMonotonic=function(h,v,x){return this._normalize(h,h+this.range,v,x)};e.center=function(h,v,x){v=this.monotonic(h,v,x);return this.normalize((h+v)/2,x)};e.diff=function(h,v,x){return this.monotonic(h,v,x)-h};e.shortestSignedDiff=function(h,v){h=this.normalize(h);v=this.normalize(v);const x=v-h;h=v<h?this.minimalMonotonic(h,v)-h:v-this.minimalMonotonic(v,
h);return Math.abs(x)<Math.abs(h)?x:h};e.contains=function(h,v,x){v=this.minimalMonotonic(h,v);x=this.minimalMonotonic(h,x);return x>h&&x<v};return p}();const u=f.create(),t=f.create(),g=d(new l(0,2*Math.PI)),n=d(new l(-Math.PI,Math.PI)),m=d(new l(0,360)),r=f.create(),q=f.create(),k=f.create();a.Cyclical=l;a.angle=function(p,e,h){p=c.normalize(q,p);e=c.normalize(k,e);const v=b.acosClamped(c.dot(p,e));return h&&(p=c.cross(r,p,e),0>c.dot(p,h))?-v:v};a.bilerp=function(p,e,h,v,x,A){p+=(e-p)*x;return p+
(h+(v-h)*x-p)*A};a.cosCapped=function(p,e){return p>e?Math.cos(e):Math.cos(p)};a.cyclical2PI=g;a.cyclicalDeg=m;a.cyclicalPI=n;a.fovx2fovy=function(p,e,h){return 2*Math.atan(h*Math.tan(.5*p)/e)};a.fovy2fovx=function(p,e,h){return 2*Math.atan(e*Math.tan(.5*p)/h)};a.makeOrthonormal=function(p,e,h){h=h||p;const v=c.dot(p,e);c.set(h,p[0]-v*e[0],p[1]-v*e[1],p[2]-v*e[2]);c.normalize(h,h)};a.makePiecewiseLinearFunction=function(p){const e=p.length;return function(h){if(h<=p[0][0])return p[0][1];if(h>=p[e-
1][0])return p[e-1][1];let v=1;for(;h>p[v][0];)v++;const x=p[v][0];h=(x-h)/(x-p[v-1][0]);return h*p[v-1][1]+(1-h)*p[v][1]}};a.maxScale=function(p){return Math.sqrt(Math.max(p[0]*p[0]+p[4]*p[4]+p[8]*p[8],p[1]*p[1]+p[5]*p[5]+p[9]*p[9],p[2]*p[2]+p[6]*p[6]+p[10]*p[10]))};a.moduloPositive=function(p,e){return(p%e+e)%e};a.planeFromPoints=function(p,e,h,v){c.subtract(u,e,p);c.subtract(t,h,p);c.cross(v,u,t);c.normalize(v,v);v[3]=-c.dot(p,v)};a.scaleFromMatrix=function(p,e){c.set(p,Math.sqrt(e[0]*e[0]+e[4]*
e[4]+e[8]*e[8]),Math.sqrt(e[1]*e[1]+e[5]*e[5]+e[9]*e[9]),Math.sqrt(e[2]*e[2]+e[6]*e[6]+e[10]*e[10]));return p};a.slerp=function(p,e,h,v=f.create()){const x=c.length(p);var A=c.length(e),w=c.dot(p,e)/(x*A);if(.9999999999999999>w){w=Math.acos(w);const y=((1-h)*x+h*A)/Math.sin(w);A=y/A*Math.sin(h*w);c.scale(q,p,y/x*Math.sin((1-h)*w));c.scale(k,e,A);return c.add(v,q,k)}return c.lerp(v,p,e,h)};a.slerpTangent=function(p,e,h,v=f.create(),x=f.create()){const A=c.length(p),w=c.length(e);var y=c.dot(p,e)/(A*
w);if(.9999999999999999>y){y=Math.acos(y);const z=Math.sin(y),C=Math.sin(h*y),B=Math.sin((1-h)*y),D=(1-h)*A+h*w;{const G=D/z,K=G/w*C;c.scale(q,p,G/A*B);c.scale(k,e,K);c.add(v,q,k)}c.scale(q,p,1/A*(-Math.cos((1-h)*y)*y*D+B*(-A+w)));c.scale(k,e,1/w*(Math.cos(h*y)*y*D+C*(-A+w)));c.add(x,q,k);c.scale(x,x,1/z);return x}c.lerp(v,p,e,h);c.subtract(x,e,p);c.normalize(x,x);return x};a.tangentFrame=function(p,e,h){Math.abs(p[0])>Math.abs(p[1])?c.set(e,0,1,0):c.set(e,1,0,0);c.cross(h,p,e);c.normalize(e,e);c.cross(e,
h,p);c.normalize(h,h)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/OperationalLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p){a.OperationalLayer=e=>{e=function(h){function v(){var A=h.apply(this,arguments)||this;A.title=null;return A}b._inheritsLoose(v,h);var x=v.prototype;x.writeListMode=function(A,w,y,z){z&&"ground"===z.layerContainerType?w[y]=A:A&&q.willPropertyWrite(this,y,{},z)&&(w[y]=A)};x.writeOperationalLayerType=function(A,w,y,z){!A||z&&"tables"===z.layerContainerType||(w.layerType=A)};x.writeTitle=function(A,w){w.title=A||"Layer"};x.read=function(A,w){w&&(w.layer=this);r.readLoadable(this,
A,y=>h.prototype.read.call(this,A,y),w)};x.write=function(A,w){if(null!=w&&w.origin){const B=`${w.origin}/${w.layerContainerType||"operational-layers"}`;var y=k.supportedTypes[B];y=y&&y[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===B&&(y=!1);if(!y){var z;null==(z=w.messages)?void 0:z.push(new f("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${B}'`,
{layer:this}));return null}}A=h.prototype.write.call(this,A,{...w,layer:this});z=!!w&&!!w.messages&&!!w.messages.filter(B=>B instanceof f&&"web-document-write:property-required"===B.name).length;if(d.isBlobProtocol(null==A?void 0:A.url)){var C;null==w?void 0:null==(C=w.messages)?void 0:C.push(new f("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this}));return null}return!this.url&&z?null:
A};x.beforeSave=function(){};return v}(e);c.__decorate([l.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],e.prototype,"id",void 0);c.__decorate([l.property({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],e.prototype,"listMode",void 0);c.__decorate([m.writer("listMode")],e.prototype,"writeListMode",null);c.__decorate([l.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",
ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],e.prototype,"operationalLayerType",void 0);c.__decorate([m.writer("operationalLayerType")],e.prototype,"writeOperationalLayerType",null);c.__decorate([l.property(p.opacity)],e.prototype,"opacity",void 0);c.__decorate([l.property({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],e.prototype,"title",
void 0);c.__decorate([m.writer("title")],e.prototype,"writeTitle",null);c.__decorate([l.property({type:Boolean,json:{name:"visibility"}})],e.prototype,"visible",void 0);return e=c.__decorate([n.subclass("esri.layers.mixins.OperationalLayer")],e)};a.isOperationalLayer=function(e){return"operationalLayerType"in e};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/operationalLayers":function(){define(["exports"],function(a){a.supportedTypes={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,
ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,
ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,
VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/commonProperties":function(){define("exports ../../TimeExtent ../../geometry/Extent ../../geometry/SpatialReference ../../chunks/persistableUrlUtils ../../support/timeUtils ../../symbols/support/ElevationInfo ../../webdoc/support/opacityUtils".split(" "),function(a,b,c,f,d,l,u,t){const g={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},n={type:Boolean,
value:!0,json:{name:"disablePopup",read:{reader(x,A){return!A.disablePopup}},write:{enabled:!0,writer(x,A,w){A[w]=!x}}}},m={type:Boolean,value:!0,json:{name:"showLabels",write:!0}};d={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:d.write}}};const r={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}};u={value:null,type:u,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",
write:!0}};const q={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},k={...q,json:{...q.json,origins:{"web-document":{...q.json.origins["web-document"],write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader(x,A,w){if((!w||"service"===w.origin)&&A.drawingInfo&&void 0!==A.drawingInfo.transparency)return t.transparencyToOpacity(A.drawingInfo.transparency);
if(A.layerDefinition&&A.layerDefinition.drawingInfo&&void 0!==A.layerDefinition.drawingInfo.transparency)return t.transparencyToOpacity(A.layerDefinition.drawingInfo.transparency)}}}},p={type:c,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(x,A)=>{x=c.fromJSON(x);null!=A.spatialReference&&"object"===typeof A.spatialReference&&(x.spatialReference=f.fromJSON(A.spatialReference));return x}}}},read:!1}},e={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},
h={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},v={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}};a.combinedViewLayerTimeExtentProperty={type:b,readOnly:!0,get(){var x,A;if(null==(x=this.layer)||!x.timeInfo)return null;const {datesInUnknownTimezone:w,timeOffset:y,useViewTime:z}=this.layer;x=null==(A=this.view)?
void 0:A.timeExtent;A=this.layer.timeExtent;w&&(A=l.toLocalTimeExtent(A));A=z?x&&A?x.intersection(A):x||A:A;if(!A||A.isEmpty||A.isAllTime)return A;y&&(A=A.offset(-y.value,y.unit));w&&(A=l.toUTCTimeExtent(A));x=this._get("timeExtent");return A.equals(x)?x:A}};a.elevationInfo=u;a.id=e;a.labelsVisible=m;a.legendEnabled=r;a.maxScale=v;a.minScale=h;a.opacity=q;a.opacityDrawingInfo=k;a.popupEnabled=n;a.readOnlyService=function(x){return{type:x,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}};a.sceneLayerFullExtent=
p;a.screenSizePerspectiveEnabled=g;a.url=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/TimeExtent":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/JSONSupport ./core/maybe ./core/timeUtils ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer".split(" "),function(a,b,c,f,d,l,u,
t,g,n,m,r){var q;c=q=function(e){function h(x){x=e.call(this,x)||this;x.end=null;x.start=null;return x}a._inheritsLoose(h,e);var v=h.prototype;v.readEnd=function(x,A){return null!=A.end?new Date(A.end):null};v.writeEnd=function(x,A){A.end=x?x.getTime():null};v.readStart=function(x,A){return null!=A.start?new Date(A.start):null};v.writeStart=function(x,A){A.start=x?x.getTime():null};v.clone=function(){return new q({end:this.end,start:this.start})};v.equals=function(x){if(!x)return!1;const A=f.isSome(this.start)?
this.start.getTime():this.start,w=f.isSome(this.end)?this.end.getTime():this.end,y=f.isSome(x.start)?x.start.getTime():x.start;x=f.isSome(x.end)?x.end.getTime():x.end;return A===y&&w===x};v.expandTo=function(x){if(this.isEmpty||this.isAllTime)return this.clone();const A=f.applySome(this.start,y=>d.truncateDate(y,x)),w=f.applySome(this.end,y=>d.offsetDate(d.truncateDate(y,x),1,x));return new q({start:A,end:w})};v.intersection=function(x){if(!x)return this.clone();if(this.isEmpty||x.isEmpty)return q.empty;
if(this.isAllTime)return x.clone();if(x.isAllTime)return this.clone();var A=f.mapOr(this.start,-Infinity,B=>B.getTime());const w=f.mapOr(this.end,Infinity,B=>B.getTime()),y=f.mapOr(x.start,-Infinity,B=>B.getTime());x=f.mapOr(x.end,Infinity,B=>B.getTime());let z,C;y>=A&&y<=w?z=y:A>=y&&A<=x&&(z=A);w>=y&&w<=x?C=w:x>=A&&x<=w&&(C=x);return isNaN(z)||isNaN(C)?q.empty:(A=new q,A.start=-Infinity===z?null:new Date(z),A.end=Infinity===C?null:new Date(C),A)};v.offset=function(x,A){if(this.isEmpty||this.isAllTime)return this.clone();
const w=new q,{start:y,end:z}=this;f.isSome(y)&&(w.start=d.offsetDate(y,x,A));f.isSome(z)&&(w.end=d.offsetDate(z,x,A));return w};v.union=function(x){if(!x||x.isEmpty)return this.clone();if(this.isEmpty)return x.clone();if(this.isAllTime||x.isAllTime)return k.clone();const A=f.isSome(this.start)&&f.isSome(x.start)?new Date(Math.min(this.start.getTime(),x.start.getTime())):null;x=f.isSome(this.end)&&f.isSome(x.end)?new Date(Math.max(this.end.getTime(),x.end.getTime())):null;return new q({start:A,end:x})};
a._createClass(h,[{key:"isAllTime",get:function(){return this.equals(q.allTime)}},{key:"isEmpty",get:function(){return this.equals(q.empty)}}],[{key:"allTime",get:function(){return k}},{key:"empty",get:function(){return p}}]);return h}(c.JSONSupport);b.__decorate([l.property({type:Date,json:{write:{allowNull:!0}}})],c.prototype,"end",void 0);b.__decorate([n.reader("end")],c.prototype,"readEnd",null);b.__decorate([r.writer("end")],c.prototype,"writeEnd",null);b.__decorate([l.property({readOnly:!0,
json:{read:!1}})],c.prototype,"isAllTime",null);b.__decorate([l.property({readOnly:!0,json:{read:!1}})],c.prototype,"isEmpty",null);b.__decorate([l.property({type:Date,json:{write:{allowNull:!0}}})],c.prototype,"start",void 0);b.__decorate([n.reader("start")],c.prototype,"readStart",null);b.__decorate([r.writer("start")],c.prototype,"writeStart",null);c=q=b.__decorate([m.subclass("esri.TimeExtent")],c);const k=new c,p=new c({start:void 0,end:void 0});return c})},"esri/core/timeUtils":function(){define(["exports",
"./has"],function(a,b){function c(l,u,t){return 0===l?0:l*f[u]/f[t]}const f={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8},d={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",
setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};a.convertTime=c;a.makeUTCTime=function(l,u,t="milliseconds"){u=new Date(c(u,t,"milliseconds"));u.setUTCFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate());
return u};a.offsetDate=function(l,u,t){l=new Date(l.getTime());if(u&&t){const {getter:n,setter:m,multiplier:r}=d[t];if("months"===t){t=l.getFullYear();var g=l.getMonth()+u;t=new Date(t,g+1,1);t.setDate(0);t=t.getDate();l.getDate()>t&&l.setDate(t)}l[m](l[n]()+u*r)}return l};a.offsetDateUTC=function(l,u,t="milliseconds"){l=l.getTime();u=c(u,t,"milliseconds");return new Date(l+u)};a.resetUTCDate=function(l,u){l=new Date(l.getTime());l.setUTCFullYear(u.getFullYear(),u.getMonth(),u.getDate());return l};
a.timeSinceUTCMidnight=function(l,u="milliseconds"){const t=c(l.getUTCHours(),"hours","milliseconds"),g=c(l.getUTCMinutes(),"minutes","milliseconds"),n=c(l.getUTCSeconds(),"seconds","milliseconds");l=l.getUTCMilliseconds();return c(t+g+n+l,"milliseconds",u)};a.truncateDate=function(l,u){switch(u){case "milliseconds":return new Date(l.getTime());case "seconds":return new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds());case "minutes":return new Date(l.getFullYear(),
l.getMonth(),l.getDate(),l.getHours(),l.getMinutes());case "hours":return new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours());case "days":return new Date(l.getFullYear(),l.getMonth(),l.getDate());case "weeks":return new Date(l.getFullYear(),l.getMonth(),l.getDate()-l.getDay());case "months":return new Date(l.getFullYear(),l.getMonth(),1);case "years":return new Date(l.getFullYear(),0,1);case "decades":return new Date(l.getFullYear()-l.getFullYear()%10,0,1);case "centuries":return new Date(l.getFullYear()-
l.getFullYear()%100,0,1);default:return new Date}};a.truncateLocalTime=function(l){const u=new Date(0);u.setHours(0);u.setMinutes(0);u.setSeconds(0);u.setMilliseconds(0);u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate());return u};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/persistableUrlUtils":function(){define(["exports","../core/maybe","../core/urlUtils"],function(a,b,c){function f(q,k){var p=k&&k.url&&k.url.path;q&&p&&(q=c.makeAbsolute(q,p,{preserveProtocolRelative:!0}),
k.portalItem&&k.readResourcePaths&&(p=c.makeRelative(q,k.portalItem.itemUrl),m.test(p)&&k.readResourcePaths.push(k.portalItem.resourceFromPath(p).path)));return g(q,k&&k.portal)}function d(q,k,p=a.MarkKeep.YES){if(!q)return q;!c.isAbsolute(q)&&k&&k.blockedRelativeUrls&&k.blockedRelativeUrls.push(q);var e=c.makeAbsolute(q);if(k){var h=k.verifyItemRelativeUrls&&k.verifyItemRelativeUrls.rootPath||k.url&&k.url.path;h&&(h=g(h,k.portal),e=c.makeRelative(g(e,k.portal),h,h),e!==q&&k.verifyItemRelativeUrls&&
k.verifyItemRelativeUrls.writtenUrls.push(e))}q=e;e=(e=k&&k.portal)&&!e.isPortal&&e.urlKey&&e.customBaseUrl?c.changeDomain(q,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):q;c.isAbsolute(e)&&(e=c.normalize(e));null!=k&&k.resources&&null!=k&&k.portalItem&&!c.isAbsolute(e)&&!c.isDataProtocol(e)&&p===a.MarkKeep.YES&&k.resources.toKeep.push({resource:k.portalItem.resourceFromPath(e)});return e}function l(q,k,p){return f(q,p)}function u(q,k,p,e){q=d(q,e);void 0!==q&&(k[p]=q)}function t(q){q=b.isSome(q)?
q.match(n):null;return b.isSome(q)?q[1]:null}function g(q,k){if(!k||k.isPortal||!k.urlKey||!k.customBaseUrl)return q;const p=`${k.urlKey}.${k.customBaseUrl}`,e=c.getAppUrl();return c.hasSameOrigin(e,`${e.scheme}://${p}`)?c.changeDomain(q,k.portalHostname,p):c.changeDomain(q,p,k.portalHostname)}const n=/\/items\/([^\/]+)\/resources\//,m=/^\.\/resources\//;a.MarkKeep=void 0;(function(q){q[q.YES=0]="YES";q[q.NO=1]="NO"})(a.MarkKeep||(a.MarkKeep={}));const r=Object.freeze({__proto__:null,fromJSON:f,toJSON:d,
read:l,write:u,itemIdFromResourceUrl:t,get MarkKeep(){return a.MarkKeep}});a.fromJSON=f;a.itemIdFromResourceUrl=t;a.persistableUrlUtils=r;a.read=l;a.toJSON=d;a.write=u})},"esri/support/timeUtils":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../TimeExtent ../core/maybe ../core/promiseUtils ../core/timeUtils".split(" "),function(a,b,c,f,d,l){function u(g){return void 0!==g.timeInfo}function t(){t=b._asyncToGenerator(function*(g,n){if(0===g.length)return c.allTime;const m=g.filter(u);
yield Promise.all(m.map(k=>k.load({signal:n})));g=[];var r=[];for(var q of m)"feature"!==(null==q?void 0:q.type)&&"map-image"!==(null==q?void 0:q.type)||!q.timeInfo.hasLiveData?r.push(q):g.push(q);q=k=>f.isNone(k)||k.isAllTime;r=r.map(k=>k.timeInfo.fullTimeExtent);if(r.some(q))return c.allTime;g=g.map(function(){var k=b._asyncToGenerator(function*(p){const {timeExtent:e}=yield p.fetchRecomputedExtents({signal:n});return e?e:f.unwrap(p.timeInfo.fullTimeExtent)});return function(p){return k.apply(this,
arguments)}}());g=(yield d.eachAlways(g)).map(k=>k.value);return g.some(q)?c.allTime:g.concat(r).reduce((k,p)=>k.union(p))});return t.apply(this,arguments)}a.getTimeExtentFromLayers=function(g,n){return t.apply(this,arguments)};a.toLocalTimeExtent=function(g){if(!g)return g;const {start:n,end:m}=g;return new c({start:f.isSome(n)?l.offsetDate(n,n.getTimezoneOffset(),"minutes"):n,end:f.isSome(m)?l.offsetDate(m,m.getTimezoneOffset(),"minutes"):m})};a.toUTCTimeExtent=function(g){if(!g)return g;const {start:n,
end:m}=g;return new c({start:f.isSome(n)?l.offsetDate(n,-n.getTimezoneOffset(),"minutes"):n,end:f.isSome(m)?l.offsetDate(m,-m.getTimezoneOffset(),"minutes"):m})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/ElevationInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k){var p;u=c.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"});c=new c.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});f=p=function(e){function h(){var x=e.apply(this,arguments)||this;x.offset=null;return x}a._inheritsLoose(h,e);var v=h.prototype;v.readFeatureExpressionInfo=function(x,A){if(null!=x)return x;if(A.featureExpression&&
0===A.featureExpression.value)return{expression:"0"}};v.writeFeatureExpressionInfo=function(x,A,w,y){A[w]=x.write({},y);"0"===x.expression&&(A.featureExpression={value:0})};v.write=function(x,A){return this.offset||this.mode||this.featureExpressionInfo||this.unit?e.prototype.write.call(this,x,A):null};v.clone=function(){return new p({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};a._createClass(h,[{key:"mode",
get:function(){const {offset:x,featureExpressionInfo:A}=this;return this._isOverridden("mode")?this._get("mode"):d.isSome(x)||A?"relative-to-ground":"on-the-ground"},set:function(x){this._override("mode",x)}},{key:"unit",set:function(x){this._set("unit",x)}}]);return h}(f.JSONSupport);b.__decorate([l.property({type:q,json:{write:!0}})],f.prototype,"featureExpressionInfo",void 0);b.__decorate([n.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],f.prototype,"readFeatureExpressionInfo",
null);b.__decorate([r.writer("featureExpressionInfo",{featureExpressionInfo:{type:q},"featureExpression.value":{type:[0]}})],f.prototype,"writeFeatureExpressionInfo",null);b.__decorate([l.property({type:u.apiValues,nonNullable:!0,json:{type:u.jsonValues,read:u.read,write:{writer:u.write,isRequired:!0}}})],f.prototype,"mode",null);b.__decorate([l.property({type:Number,json:{write:!0}})],f.prototype,"offset",void 0);b.__decorate([l.property({type:k.supportedUnits,json:{type:String,read:c.read,write:c.write}})],
f.prototype,"unit",null);return f=p=b.__decorate([m.subclass("esri.layers.support.ElevationInfo")],f)})},"esri/symbols/support/FeatureExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldUtils".split(" "),function(a,b,c,f,d,l,u,t,g){var n;
c=n=function(m){function r(){return m.apply(this,arguments)||this}a._inheritsLoose(r,m);var q=r.prototype;q.collectRequiredFields=function(){var k=a._asyncToGenerator(function*(p,e){return g.collectArcadeFieldNames(p,e,this.expression)});return function(p,e){return k.apply(this,arguments)}}();q.clone=function(){return new n({expression:this.expression,title:this.title})};return r}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([f.property({type:String,
json:{write:!0}})],c.prototype,"title",void 0);return c=n=b.__decorate([t.subclass("esri.layers.support.FeatureExpressionInfo")],c)})},"esri/layers/support/fieldUtils":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../core/maybe ../../core/object ./domainUtils ../../support/arcadeOnDemand".split(" "),function(a,b,c,f,d,l,u,t){function g(L,R,U){if(L)for(const sa of L)(L=(L=l.getDeepValue(sa,R))&&"function"!==typeof L&&U.get(L))&&l.setDeepValue(sa,L.name,
R)}function n(L,R){if(!L||!R)return[];O.clear();m(O,L,R);return Array.from(O).sort()}function m(L,R,U){var sa;if(U)if(null!=R&&null!=(sa=R.fields)&&sa.length)if(U.includes("*"))for(const {name:Aa}of R.fields)L.add(Aa);else for(const Aa of U)r(L,R,Aa);else if(U.includes("*"))L.clear(),L.add("*");else for(const Aa of U)L.add(Aa)}function r(L,R,U){"string"===typeof U&&(R?(R=R.get(U))&&L.add(R.name):L.add(U))}function q(L,R,U){return k.apply(this,arguments)}function k(){k=c._asyncToGenerator(function*(L,
R,U){var sa;if(U){var {arcadeUtils:Aa}=yield t.loadArcade();U=Aa.extractFieldNames(U,null==R?void 0:null==(sa=R.fields)?void 0:sa.map(La=>La.name));for(const La of U)r(L,R,La)}});return k.apply(this,arguments)}function p(L,R,U){return e.apply(this,arguments)}function e(){e=c._asyncToGenerator(function*(L,R,U){if(U&&"1\x3d1"!==U){U=(yield new Promise((sa,Aa)=>a(["../../core/sql/WhereClause"],sa,Aa))).WhereClause.create(U,R);if(!U.isStandardized)throw new f("fieldUtils:collectFilterFields","Where clause is not standardized");
m(L,R,U.fieldNames)}});return e.apply(this,arguments)}function h(L,R){for(const U of L)if(U&&U.valueType&&U.valueType===R)return U.name;return null}function v(){v=c._asyncToGenerator(function*(L){if(!L)return[];const R=new Set;yield x(R,L);return Array.from(R).sort()});return v.apply(this,arguments)}function x(L,R){return A.apply(this,arguments)}function A(){A=c._asyncToGenerator(function*(L,R){if(R){var U=l.getDeepValue("elevationInfo.featureExpressionInfo",R);if(U)return U.collectRequiredFields(L,
R.fieldsIndex)}});return A.apply(this,arguments)}function w(L,R,U){return y.apply(this,arguments)}function y(){y=c._asyncToGenerator(function*(L,R,U){U.outStatistic.onStatisticValueExpression?q(L,R,U.outStatistic.onStatisticValueExpression):L.add(U.outStatistic.onStatisticField)});return y.apply(this,arguments)}function z(){z=c._asyncToGenerator(function*(L,R,U){var sa,Aa;if(R&&U&&"cluster"===U.type){var La=[];null!=(sa=U.popupTemplate)&&sa.expressionInfos&&La.push(...U.popupTemplate.expressionInfos.map(Pa=>
q(L,R.fieldsIndex,Pa.expression)));if(Array.isArray(null==(Aa=U.popupTemplate)?void 0:Aa.content)){sa=U.popupTemplate.content;for(const Pa of sa)"expression"===Pa.type&&Pa.expressionInfo&&La.push(q(L,R.fieldsIndex,Pa.expressionInfo.expression))}U.fields&&La.push(...U.fields.map(Pa=>w(L,R.fieldsIndex,Pa)));yield Promise.all(La)}});return z.apply(this,arguments)}function C(){C=c._asyncToGenerator(function*(L,R,U){R&&(R.timeInfo&&d.isSome(U)&&U.timeExtent&&m(L,R.fieldsIndex,[R.timeInfo.startField,R.timeInfo.endField]),
R.floorInfo&&m(L,R.fieldsIndex,[R.floorInfo.floorField]),d.isSome(U)&&d.isSome(U.where)&&(yield p(L,R.fieldsIndex,U.where)))});return C.apply(this,arguments)}function B(){B=c._asyncToGenerator(function*(L,R,U){R&&U&&(yield Promise.all(U.map(sa=>D(L,R,sa))))});return B.apply(this,arguments)}function D(L,R,U){return G.apply(this,arguments)}function G(){G=c._asyncToGenerator(function*(L,R,U){R&&U&&(U.valueExpression?yield q(L,R.fieldsIndex,U.valueExpression):U.field&&r(L,R.fieldsIndex,U.field))});return G.apply(this,
arguments)}function K(){K=c._asyncToGenerator(function*(L){if(!L)return[];const R="timeInfo"in L&&L.timeInfo;return R?n(L.fieldsIndex,[L.trackIdField,R.startField,R.endField]):[]});return K.apply(this,arguments)}function M(){M=c._asyncToGenerator(function*(L){if(!L)return[];const R=new Set;yield N(R,L);return Array.from(R).sort()});return M.apply(this,arguments)}function N(L,R){return I.apply(this,arguments)}function I(){I=c._asyncToGenerator(function*(L,R){const {labelingInfo:U,fieldsIndex:sa}=R;
U&&U.length&&(yield Promise.all(U.map(Aa=>F(L,sa,Aa))))});return I.apply(this,arguments)}function F(L,R,U){return E.apply(this,arguments)}function E(){E=c._asyncToGenerator(function*(L,R,U){if(U){var sa=U.getLabelExpression();U=U.where;"arcade"===sa.type?yield q(L,R,sa.expression):(sa=sa.expression.match(/{[^}]*}/g))&&sa.forEach(Aa=>{r(L,R,Aa.slice(1,-1))});yield p(L,R,U)}});return E.apply(this,arguments)}function J(L){return"number"===typeof L&&!isNaN(L)&&isFinite(L)}function P(L){return null===
L||J(L)}function W(L){return null===L||fa(L)}function Z(L){return null!=L&&"string"===typeof L}function Y(L){return null===L||Z(L)}function S(){return!0}function qa(L,R){let U;switch(L.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":U=L.nullable?W:fa;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":U=L.nullable?P:J;break;case "string":case "esriFieldTypeString":U=
L.nullable?Y:Z;break;default:U=S}return 1===arguments.length?U:U(R)}function xa(L){return null!=L&&T.has(L.type)}function Fa(L,R){return L.nullable&&null===R?null:xa(L)&&!la(L.type,Number(R))?b.NumericRangeValidationError.OUT_OF_RANGE:qa(L,R)?L.domain?u.validateDomainValue(L.domain,R):null:b.TypeValidationError.INVALID_TYPE}function la(L,R){return(L="string"===typeof L?V(L):L)?L.isInteger?fa(R)&&R>=L.min&&R<=L.max:R>=L.min&&R<=L.max:!1}function V(L){switch(L){case "esriFieldTypeSmallInteger":case "small-integer":return da;
case "esriFieldTypeInteger":case "integer":return ea;case "esriFieldTypeSingle":case "single":return pa;case "esriFieldTypeDouble":case "double":return ma}}function aa(L,R,U){if(!R||!R.attributes||!L){if(d.isSome(U))for(var sa of L)U.add(sa);return!0}R=R.attributes;sa=!1;for(const Aa of L)if(!(Aa in R))if(sa=!0,d.isSome(U))U.add(Aa);else break;return sa}function Ca(){Ca=c._asyncToGenerator(function*(L,R){const U=new Set;for(const sa of R)yield q(U,L.fieldsIndex,sa);return Array.from(U).sort()});return Ca.apply(this,
arguments)}const Ia="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),H=["field","normalizationField"],O=new Set,fa=(()=>"isInteger"in Number?Number.isInteger:L=>"number"===typeof L&&isFinite(L)&&Math.floor(L)===L)(),Q=["integer","small-integer","single","double"],T=new Set([...Q,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);
b.NumericRangeValidationError=void 0;(b.NumericRangeValidationError||(b.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";b.TypeValidationError=void 0;(b.TypeValidationError||(b.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const da={min:-32768,max:32767,isInteger:!0},ea={min:-2147483648,max:2147483647,isInteger:!0},pa={min:-3.4E38,max:1.2E38,isInteger:!1},ma={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};b.collectArcadeFieldNames=
q;b.collectElevationFields=x;b.collectFeatureReductionFields=function(L,R,U){return z.apply(this,arguments)};b.collectField=r;b.collectFields=m;b.collectFilterFields=function(L,R,U){return C.apply(this,arguments)};b.collectLabelingFields=N;b.collectOrderByInfos=function(L,R,U){return B.apply(this,arguments)};b.doubleRange=ma;b.featureHasFields=function(L,R){return!aa(L,R,null)};b.fixFields=n;b.fixRendererFields=function(L,R){if(null!=L&&null!=R)for(const U of Array.isArray(L)?L:[L])if(g(Ia,U,R),"visualVariables"in
U&&U.visualVariables)for(const sa of U.visualVariables)g(H,sa,R)};b.fixTimeInfoFields=function(L,R){if(null!=L&&null!=R&&R.fields.length)if("startField"in L){var U=R.get(L.startField);R=R.get(L.endField);L.startField=U&&U.name||null;L.endField=R&&R.name||null}else U=R.get(L.startTimeField),R=R.get(L.endTimeField),L.startTimeField=U&&U.name||null,L.endTimeField=R&&R.name||null};b.getDisplayFieldName=function({displayField:L,fields:R}){if(L)return L;if(!R||!R.length)return null;if(!(L=h(R,"name-or-title")||
h(R,"unique-identifier")||h(R,"type-or-category")))a:{for(const U of R)if(U&&U.name&&(R=U.name.toLowerCase(),-1<R.indexOf("name")||-1<R.indexOf("title"))){L=U.name;break a}L=null}return L};b.getElevationFields=function(L){return v.apply(this,arguments)};b.getExpressionFields=function(L,R){return Ca.apply(this,arguments)};b.getFeatureEditFields=function(L){if(!L)return[];const R="editFieldsInfo"in L&&L.editFieldsInfo;return R?n(L.fieldsIndex,[R&&R.creatorField,R&&R.creationDateField,R&&R.editorField,
R&&R.editDateField]):[]};b.getFeatureGeometryFields=function(L){if(!L)return[];const R=L.geometryFieldsInfo;return R?n(L.fieldsIndex,[R.shapeAreaField,R.shapeLengthField]):[]};b.getFieldDefaultValue=function(L){const R=L.defaultValue;if(void 0!==R&&qa(L,R))return R;if(L.nullable)return null};b.getFieldRange=function(L){const R=u.getDomainRange(L.domain);if(R)return R;if(xa(L))return V(L.type)};b.getLabelingFields=function(L){return M.apply(this,arguments)};b.getNumericTypeForValue=function(L){if(!J(L))return null;
if(fa(L)){if(L>=da.min&&L<=da.max)return"esriFieldTypeSmallInteger";if(L>=ea.min&&L<=ea.max)return"esriFieldTypeInteger"}return L>=pa.min&&L<=pa.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};b.getTimeFields=function(L){return K.apply(this,arguments)};b.integerRange=ea;b.isDateField=function(L){return null!=L&&("date"===L.type||"esriFieldTypeDate"===L.type)};b.isNumberInRange=la;b.isNumericField=xa;b.isStringField=function(L){return null!=L&&("string"===L.type||"esriFieldTypeString"===L.type)};
b.isValidFieldValue=function(L,R){return null===Fa(L,R)};b.isValueMatchingFieldType=qa;b.numericTypes=Q;b.packFields=function(L,R,U=1){if(!R||!L)return[];if(R.includes("*"))return["*"];R=n(L,R);return R.length/L.fields.length>=U?["*"]:R};b.populateMissingFields=aa;b.rendererFields=Ia;b.sanitizeNullFieldValue=function(L){return null==L||"number"===typeof L&&isNaN(L)?null:L};b.singleRange=pa;b.smallIntegerRange=da;b.unpackFieldNames=function(L,R){return d.isNone(R)||d.isNone(L)?[]:R.includes("*")?L.fields.map(U=>
U.name):R};b.validateFieldValue=Fa;b.validationErrorToString=function(L,R,U){switch(L){case u.DomainValidationError.INVALID_CODED_VALUE:return`Value ${U} is not in the coded domain - field: ${R.name}, domain: ${JSON.stringify(R.domain)}`;case u.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${U} is out of the range of valid values - field: ${R.name}, domain: ${JSON.stringify(R.domain)}`;case b.TypeValidationError.INVALID_TYPE:return`Value ${U} is not a valid value for the field type - field: ${R.name}, type: ${R.type}, nullable: ${R.nullable}`;
case b.NumericRangeValidationError.OUT_OF_RANGE:{const {min:sa,max:Aa}=V(R.type);return`Value ${U} is out of range for the number type - field: ${R.name}, type: ${R.type}, value range is ${sa} to ${Aa}`}}};b.visualVariableFields=H;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/layers/support/domainUtils":function(){define(["exports"],function(a){function b(c,f){switch(c.type){case "range":{const d="range"in c?c.range[1]:c.maxValue;if(+f<("range"in c?c.range[0]:c.minValue)||+f>d)return a.DomainValidationError.VALUE_OUT_OF_RANGE;
break}case "coded-value":case "codedValue":if(null==c.codedValues||c.codedValues.every(d=>null==d||d.code!==f))return a.DomainValidationError.INVALID_CODED_VALUE}return null}a.DomainValidationError=void 0;(function(c){c.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";c.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(a.DomainValidationError||(a.DomainValidationError={}));a.getDomainRange=function(c){if(c&&"range"===c.type)return{min:"range"in c?c.range[0]:c.minValue,
max:"range"in c?c.range[1]:c.maxValue}};a.isValidDomainValue=function(c,f){return null===b(c,f)};a.validateDomainValue=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/arcadeOnDemand":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../geometry ../core/maybe ../geometry/SpatialReference".split(" "),function(a,b,c,f,d,l){function u(){t||(t=c._asyncToGenerator(function*(){const n=yield new Promise((m,r)=>a(["./arcadeUtils"],m,r));return{arcade:n.arcade,arcadeUtils:n,
Dictionary:n.Dictionary,Feature:n.arcadeFeature}})());return t}let t;f=(n,m,r)=>g.create(n,m,r,null,["$feature","$view"]);let g=function(){function n(r,q,k,p,e,h,v,x){this.script=r;this.evaluate=e;this.fields=Array.isArray(v)?v:v.fields;this._syntaxTree=p;this._arcade=q;this._arcadeDictionary=k;this._arcadeFeature=h;this._spatialReference=x;this._referencesGeometry=q.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}n.create=function(){var r=
c._asyncToGenerator(function*(q,k,p,e,h,v){const {arcade:x,Feature:A,Dictionary:w}=yield u(),y=l.fromJSON(k);k=x.parseScript(q,v);h=h.reduce((G,K)=>({...G,[K]:null}),{});let z=null;d.isSome(e)&&(z=new w(e),z.immutable=!0,h.$config=null);e=x.scriptUsesGeometryEngine(k)&&x.enableGeometrySupport();v=x.scriptUsesFeatureSet(k)&&x.enableFeatureSetSupport();const C=x.scriptIsAsync(k)&&x.enableAsyncSupport();h={vars:h,spatialReference:y,useAsync:!!C};const B=new w;B.immutable=!1;B.setField("scale",0);const D=
x.compileScript(k,h);yield Promise.all([e,v,C]);return new n(q,x,w,k,G=>{"$view"in G&&G.$view&&(B.setField("scale",G.$view.scale),G.$view=B);z&&(G.$config=z);return D({vars:G,spatialReference:y})},new A,p,y)});return function(q,k,p,e,h,v){return r.apply(this,arguments)}}();var m=n.prototype;m.repurposeFeature=function(r){r.geometry&&!r.geometry.spatialReference&&(r.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(r.geometry,r.attributes,{fields:this.fields});
return this._arcadeFeature};m.createDictionary=function(){return new this._arcadeDictionary};m.referencesMember=function(r){return this._arcade.referencesMember(this._syntaxTree,r)};m.referencesFunction=function(r){return this._arcade.referencesFunction(this._syntaxTree,r)};m.referencesGeometry=function(){return this._referencesGeometry};m.referencesScale=function(){return this._referencesScale};m.extractFieldLiterals=function(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)};
return n}();b.ArcadeExpression=g;b.createDictionaryExpression=(n,m,r,q)=>g.create(n,m,r,q,["$feature","$view"]);b.createLabelExpression=(n,m,r)=>g.create(n,m,r,null,["$feature"]);b.createRendererExpression=f;b.createVVExpression=f;b.loadArcade=u;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/symbols/support/unitConversionUtils":function(){define(["exports","../../renderers/support/lengthUtils"],function(a,b){const c=function(){const f=Object.keys(b.meterIn);f.sort();return f}();a.getMetersPerUnit=
function(f){return 1/(b.meterIn[f]||1)};a.supportedUnits=c;a.supportsUnit=function(f){return null!=b.meterIn[f]};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/lengthUtils":function(){define(["exports","../../core/unitUtils","../../geometry/support/Ellipsoid"],function(a,b,c){b={inches:b.convertUnit(1,"meters","inches"),feet:b.convertUnit(1,"meters","feet"),"us-feet":b.convertUnit(1,"meters","us-feet"),yards:b.convertUnit(1,"meters","yards"),miles:b.convertUnit(1,"meters",
"miles"),"nautical-miles":b.convertUnit(1,"meters","nautical-miles"),millimeters:b.convertUnit(1,"meters","millimeters"),centimeters:b.convertUnit(1,"meters","centimeters"),decimeters:b.convertUnit(1,"meters","decimeters"),meters:b.convertUnit(1,"meters","meters"),kilometers:b.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/b.lengthToDegrees(1,"meters",c.earth.radius)};a.meterIn=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ./maybe ../geometry/projectionEllipsoid ../geometry/SpatialReference ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),
function(a,b,c,f,d,l,u,t,g){function n(E){if(E=N[E])return E;throw Error("unknown type");}function m(E){return M[E].baseUnit}function r(E,J=null){J=J||n(E);return M[J].baseUnit===E}function q(E,J,P){if(J===P)return E;const W=n(J);if(W!==n(P))throw Error("incompatible units");E=r(J,W)?E:E*M[W].units[J].inBaseUnits;return r(P,W)?E:E/M[W].units[P].inBaseUnits}function k(E,J){return 3E3>q(E,J,"meters")?"meters":"kilometers"}function p(E,J){return 1E5>q(E,J,"meters")?"meters":"kilometers"}function e(E,
J){return 1E3>q(E,J,"feet")?"feet":"miles"}function h(E,J){return 1E5>q(E,J,"feet")?"feet":"miles"}function v(E){return K.fromJSON(E.toLowerCase())||null}function x(E,J=u.earth.metersPerDegree){return A(E,!0)||J}function A(E,J=!1){let P,W,Z=null;null!=E&&("object"===typeof E?(P=E.wkid,W=E.wkt):"number"===typeof E?P=E:"string"===typeof E&&(W=E));if(P){if(t.isWKIDFromMars(P))return u.mars.metersPerDegree;if(t.isWKIDFromMoon(P))return u.moon.metersPerDegree;Z=B.values[B[P]];!Z&&J&&G.has(P)&&(Z=z)}else W&&
(/^PROJCS/i.test(W)?Z=w(C.exec(W),Z):/^GEOCCS/i.test(W)&&(Z=w(D.exec(W),Z)));return Z}function w(E,J){return E&&E[1]?parseFloat(E[1].split(",")[1]):J}function y(E){var J=null;if(null!=E)if("object"===typeof E){var P=E.wkid;var W=E.wkt}else"number"===typeof E?P=E:"string"===typeof E&&(W=E);if(P)J=B.units[B[P]];else if(W&&(E=/^PROJCS/i.test(W)?C:/^GEOCCS/i.test(W)?D:null)&&(W=E.exec(W))&&W[1]&&(W=W[1],J=(J=/[\\"\\']{1}([^\\"\\']+)/.exec(W))&&J[1],!J||-1===B.units.indexOf(J)))for(W=parseFloat(W.split(",")[1]),
J=null,E=B.values,P=0;P<E.length;++P)if(1E-7>Math.abs(W-E[P])){J=B.units[P];break}return f.isSome(J)?v(J):null}const z=u.earth.radius*Math.PI/200,C=/UNIT\[([^\]]+)\]\]$/i,B=g,D=/UNIT\[([^\]]+)\]/i,G=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),K=c.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",
yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});b={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},
"us-feet":{inBaseUnits:1200/3937}};g={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(E=>E*E)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};
const M={length:{baseUnit:"meters",units:b},area:{baseUnit:"square-meters",units:g},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},
angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},N=function(){const E={};for(const J in M)for(const P in M[J].units)E[P]=J;return E}(),I={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",
esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},F={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"};b=c.strict()(I);g=c.strict()(F);c=c.strict()({...I,...F});a.areaUnitsJSONMap=b;a.baseUnitForUnit=function(E){return m(n(E))};a.baseUnitForUnitType=m;a.convertUnit=q;a.getDefaultUnitSystem=
function(E){if(!E)return null;switch(y(E)){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};a.getMetersPerUnit=A;a.getMetersPerUnitForSR=x;a.getMetersPerVerticalUnitForSR=function(E){if(E&&
"object"===typeof E&&!t.isEarth(E))return 1;E=x(E);return 1E5<E?1:E};a.getUnitString=y;a.getVerticalUnitStringForSR=function(E){const J=x(E),P=E instanceof l?d.getReferenceEllipsoid(E).metersPerDegree:1E5;return J>=P?"meters":y(E)};a.inchesPerMeter=39.37;a.isBaseUnit=r;a.isMeasurementSystem=function(E){return"imperial"===E||"metric"===E};a.lengthToDegrees=function(E,J,P){return q(E,J,"meters")/(P*Math.PI/180)};a.lengthUnitsJSONMap=g;a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");
a.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");a.preferredImperialAreaUnit=function(E,J){return 1E6>q(E,J,"square-feet")?"square-feet":"square-miles"};a.preferredImperialLengthUnit=e;a.preferredImperialVerticalLengthUnit=h;a.preferredLengthUnit=function(E,J,P){switch(P){case "metric":return k(E,J);case "imperial":return e(E,J);default:return P}};a.preferredMetricAreaUnit=function(E,J){return 3E6>q(E,J,"square-meters")?"square-meters":
"square-kilometers"};a.preferredMetricLengthUnit=k;a.preferredMetricVerticalLengthUnit=p;a.preferredVerticalLengthUnit=function(E,J,P){switch(P){case "metric":return p(E,J);case "imperial":return h(E,J);default:return P}};a.unitFromRESTJSON=v;a.unitToRESTJSON=function(E){return K.toJSON(E)||null};a.unitType=n;a.unitsJSONMap=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/projectionEllipsoid":function(){define(["exports","./SpatialReference","./support/Ellipsoid","./support/spatialReferenceUtils"],
function(a,b,c,f){function d(n){return new b({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${n.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const l=d(c.earth),u=d(c.mars),t=d(c.moon),g=new b({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${c.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});
a.SphericalECEFSpatialReference=l;a.SphericalPCPFMars=u;a.SphericalPCPFMoon=t;a.WGS84ECEFSpatialReference=g;a.createSphericalPCPF=d;a.getReferenceEllipsoid=function(n){return n&&(f.isMars(n)||n===u)?c.mars:n&&(f.isMoon(n)||n===t)?c.moon:c.earth};a.getReferenceEllipsoidFromWKID=function(n){return f.isWKIDFromMars(n)?c.mars:f.isWKIDFromMoon(n)?c.moon:c.earth};a.getSphericalPCPF=function(n){return n&&(f.isMars(n)||n===u)?u:n&&(f.isMoon(n)||n===t)?t:l};a.getSphericalPCPFForEllipsoid=function(n){return n&&
n===c.mars?u:n&&n===c.moon?t:l};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/PortalLayer":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../kernel ../../request ../../core/asyncUtils ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../portal/Portal ../../portal/PortalItem ../../portal/PortalUser".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A,w,y){const z=g.getLogger("esri.layers.mixins.PortalLayer");var C=null,B=null;b.PortalLayer=D=>{D=function(G){function K(){var N=G.apply(this,arguments)||this;N.resourceReferences={portalItem:null,paths:[]};N.userHasEditingPrivileges=!0;return N}c._inheritsLoose(K,G);var M=K.prototype;M.destroy=function(){var N;null==(N=this.portalItem)?void 0:N.destroy();this.portalItem=null};M.readPortalItem=function(N,I,F){if(I.itemId)return new w({id:I.itemId,portal:F&&
F.portal})};M.writePortalItem=function(N,I){N&&N.id&&(I.itemId=N.id)};M.loadFromPortal=function(){var N=c._asyncToGenerator(function*(I,F){if(this.portalItem&&this.portalItem.id)try{const E=yield new Promise((J,P)=>a(["../../portal/support/layersLoader"],J,P));m.throwIfAborted(F);return yield E.load({instance:this,supportedTypes:I.supportedTypes,validateItem:I.validateItem,supportsData:I.supportsData},F)}catch(E){throw m.isAbortError(E)||z.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${E}`),
E;}});return function(I,F){return N.apply(this,arguments)}}();M.finishLoadEditablePortalLayer=function(){var N=c._asyncToGenerator(function*(I){this._set("userHasEditingPrivileges",yield this._fetchUserHasEditingPrivileges(I).catch(F=>{m.throwIfAbortError(F);return!0}))});return function(I){return N.apply(this,arguments)}}();M._fetchUserHasEditingPrivileges=function(){var N=c._asyncToGenerator(function*(I){const F=this.url?null==d.id?void 0:d.id.findCredential(this.url):null;if(!F)return!0;I=C===
F?B:yield this._fetchEditingUser(I);C=F;B=I;return n.isNone(I)||null==I.privileges||I.privileges.includes("features:user:edit")});return function(I){return N.apply(this,arguments)}}();M._fetchEditingUser=function(){var N=c._asyncToGenerator(function*(I){var F,E;const J=null==(F=this.portalItem)?void 0:null==(E=F.portal)?void 0:E.user;if(J)return J;F=d.id.findServerInfo(this.url);if(null==F||!F.owningSystemUrl)return null;F=`${F.owningSystemUrl}/sharing/rest`;if((E=A.getDefault())&&E.loaded&&r.normalize(E.restUrl)===
r.normalize(F))return E.user;F=`${F}/community/self`;I=n.isSome(I)?I.signal:null;I=yield u.result(l(F,{authMode:"no-prompt",query:{f:"json"},signal:I}));return I.ok?y.fromJSON(I.value.data):null});return function(I){return N.apply(this,arguments)}}();M.read=function(N,I){I&&(I.layer=this);G.prototype.read.call(this,N,I)};M.write=function(N,I){const F=I&&I.portal,E=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||A.getDefault());return F&&E&&!r.hasSamePortal(E.restUrl,F.restUrl)?(I.messages&&
I.messages.push(new t("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):G.prototype.write.call(this,N,{...I,layer:this})};c._createClass(K,[{key:"portalItem",set:function(N){N!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",
N))}}]);return K}(D);f.__decorate([q.property({type:w})],D.prototype,"portalItem",null);f.__decorate([h.reader("web-document","portalItem",["itemId"])],D.prototype,"readPortalItem",null);f.__decorate([x.writer("web-document","portalItem",{itemId:{type:String}})],D.prototype,"writePortalItem",null);f.__decorate([q.property({clonable:!1})],D.prototype,"resourceReferences",void 0);f.__decorate([q.property({readOnly:!0})],D.prototype,"userHasEditingPrivileges",void 0);return D=f.__decorate([v.subclass("esri.layers.mixins.PortalLayer")],
D)};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/layers/mixins/ScaleRangeLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t){a.ScaleRangeLayer=g=>{g=function(n){function m(){var r=n.apply(this,arguments)||this;r.minScale=0;r.maxScale=0;return r}
b._inheritsLoose(m,n);b._createClass(m,[{key:"effectiveScaleRange",get:function(){const r={minScale:this.minScale,maxScale:this.maxScale};var q=this.parent;q&&"effectiveScaleRange"in q&&(q=q.effectiveScaleRange,r.minScale=0<r.minScale?0<q.minScale?Math.min(r.minScale,q.minScale):r.minScale:q.minScale,r.maxScale=0<r.maxScale?0<q.maxScale?Math.max(r.maxScale,q.maxScale):r.maxScale:q.maxScale);return(q=this._get("effectiveScaleRange"))&&q.minScale===r.minScale&&q.maxScale===r.maxScale?q:r}}]);return m}(g);
c.__decorate([f.property({type:Number,nonNullable:!0,json:{write:!0}})],g.prototype,"minScale",void 0);c.__decorate([f.property({type:Number,nonNullable:!0,json:{write:!0}})],g.prototype,"maxScale",void 0);c.__decorate([f.property({readOnly:!0})],g.prototype,"effectiveScaleRange",null);return g=c.__decorate([t.subclass("esri.layers.mixins.ScaleRangeLayer")],g)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/RefreshableLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./refresh".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){a.RefreshableLayer=r=>{r=function(q){function k(...e){var h=q.call(this,...e)||this;h.refreshInterval=0;h.refreshTimestamp=0;h._debounceHasDataChanged=d.debounce(()=>h.hasDataChanged());h.when().then(()=>{m.registerLayer(b._assertThisInitialized(h))},()=>{});return h}b._inheritsLoose(k,q);var p=k.prototype;p.destroy=function(){m.unregisterLayer(this)};p.refresh=function(e=Date.now()){d.ignoreAbortErrors(this._debounceHasDataChanged()).then(h=>{h&&this._set("refreshTimestamp",
e);this.emit("refresh",{dataChanged:h})},h=>{f.getLogger(this.declaredClass).error(h);this.emit("refresh",{dataChanged:!1,error:h})})};p.hasDataChanged=function(){var e=b._asyncToGenerator(function*(){return!0});return function(){return e.apply(this,arguments)}}();b._createClass(k,[{key:"refreshParameters",get:function(){return{_ts:this.refreshTimestamp||null}}}]);return k}(r);c.__decorate([l.property({type:Number,cast:q=>.1<=q?q:0>=q?0:.1,json:{write:!0}})],r.prototype,"refreshInterval",void 0);
c.__decorate([l.property({readOnly:!0})],r.prototype,"refreshTimestamp",void 0);c.__decorate([l.property()],r.prototype,"refreshParameters",null);return r=c.__decorate([n.subclass("esri.layers.mixins.RefreshableLayer")],r)};a.isRefreshableLayer=function(r){return r&&"object"===typeof r&&"refreshTimestamp"in r&&"refresh"in r};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/refresh":function(){define("exports ../../core/Collection ../../core/Error ../../core/Logger ../../core/accessorSupport/watch ../../core/accessorSupport/trackingUtils".split(" "),
function(a,b,c,f,d,l){function u(k){return k&&"object"===typeof k&&"refreshInterval"in k&&"refresh"in k}function t(k,p){return Number.isFinite(k)&&Number.isFinite(p)?0>=p?k:t(p,k%p):0}function g(){const k=Date.now();for(const e of n)if(e.refreshInterval){var p;const h=null!=(p=m.get(e))?p:0;k-h+5>=6E4*e.refreshInterval&&(m.set(e,k),e.refresh(k))}}const n=new b,m=new WeakMap;let r=0,q=0;l.autorun(()=>{const k=Date.now();let p=0;for(const e of n)p=t(Math.round(6E4*e.refreshInterval),p),e.refreshInterval?
m.get(e)||m.set(e,k):m.delete(e);p!==q&&(q=p,clearInterval(r),r=0===q?0:setInterval(g,q))});a.registerLayer=function(k){u(k)&&n.push(k)};a.test={get hasRefreshTimer(){return 0<r},get tickInterval(){return q},forceRefresh(){g()},hasLayer(k){return u(k)&&n.includes(k)},clear(){for(const k of n)m.delete(k);n.removeAll()}};a.unregisterLayer=function(k){u(k)&&n.includes(k)&&n.remove(k)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/layersCreator":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/Collection ../../core/has ../../core/promiseUtils ./lazyLayerLoader ../../portal/PortalItem ../../portal/support/featureCollectionUtils ../../portal/support/portalLayers ../../renderers/support/styleUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n){function m(N,I,F){return r.apply(this,arguments)}function r(){r=b._asyncToGenerator(function*(N,I,F){if(I){var E=[];for(const J of I)I=q(J,F),"GroupLayer"===J.layerType?E.push(A(I,J,F)):E.push(I);E=yield d.eachAlways(E);for(const J of E)!J.value||F.filter&&!F.filter(J.value)||N.add(J.value)}});return r.apply(this,arguments)}function q(N,I){return k.apply(this,arguments)}function k(){k=b._asyncToGenerator(function*(N,I){const F=yield h(N,I);return p(F,N,I)});return k.apply(this,
arguments)}function p(N,I,F){return e.apply(this,arguments)}function e(){e=b._asyncToGenerator(function*(N,I,F){N=new N;N.read(I,F.context);"group"===N.type&&x(I)&&(yield y(N,I,F.context));yield n.loadStyleRenderer(N,F.context);return N});return e.apply(this,arguments)}function h(N,I){return v.apply(this,arguments)}function v(){v=b._asyncToGenerator(function*(N,I){var F=I.context;switch(F.origin){case "web-scene":switch(F.layerContainerType){case "basemap":var E=D;break;case "ground":E=B;break;default:E=
C}break;default:switch(F.layerContainerType){case "basemap":E=M;break;case "tables":E=K;break;default:E=G}}var J=E;E=N.layerType||N.type;!E&&I&&I.defaultLayerType&&(E=I.defaultLayerType);I=(I=J[E])?l.layerLookupMap[I]:l.layerLookupMap.UnknownLayer;"Feature Collection"===N.type?(F=null==F?void 0:F.portal,N.itemId&&(N=new u({id:N.itemId,portal:F}),yield N.load(),N=(yield g.selectLayerClassPath(N)).className||"UnknownLayer",I=l.layerLookupMap[N])):"ArcGISFeatureLayer"===E?t.isMapNotesLayer(N)?I=l.layerLookupMap.MapNotesLayer:
t.isRouteLayer(N)?I=l.layerLookupMap.RouteLayer:x(N)&&(I=l.layerLookupMap.GroupLayer):N.wmtsInfo&&N.wmtsInfo.url&&N.wmtsInfo.layerIdentifier?I=l.layerLookupMap.WMTSLayer:"WFS"===E&&"2.0.0"!==N.wfsInfo.version&&(I=l.layerLookupMap.UnsupportedLayer);return I()});return v.apply(this,arguments)}function x(N){var I,F,E;return"ArcGISFeatureLayer"!==N.layerType||"Feature Collection"===N.type?!1:1<(null!=(I=null==(F=N.featureCollection)?void 0:null==(E=F.layers)?void 0:E.length)?I:0)}function A(N,I,F){return w.apply(this,
arguments)}function w(){w=b._asyncToGenerator(function*(N,I,F){const E=new c;I=m(E,Array.isArray(I.layers)?I.layers:[],F);N=yield N;yield I;if("group"===N.type)return N.layers.addMany(E),N});return w.apply(this,arguments)}function y(N,I,F){return z.apply(this,arguments)}function z(){z=b._asyncToGenerator(function*(N,I,F){const E=yield(0,l.layerLookupMap.FeatureLayer)();var J=I.featureCollection;const P=J.showLegend;J=J.layers.map((W,Z)=>{var Y,S;const qa=new E;qa.read(W,F);W={...F,ignoreDefaults:!0};
qa.read({id:`${N.id}-sublayer-${Z}`,visibility:null!=(Y=null==(S=I.visibleLayers)?void 0:S.includes(Z))?Y:!0},W);null!=P&&qa.read({showLegend:P},W);return qa});N.layers.addMany(J)});return z.apply(this,arguments)}const C={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",
ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer"},B={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},
D={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},G={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",
ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",OGCFeatureLayer:"OGCFeatureLayer",SubtypeGroupLayer:"UnsupportedLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},K={ArcGISFeatureLayer:"FeatureLayer"},
M={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};a.populateOperationalLayers=m;Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/layers/support/lazyLayerLoader":function(){define(["require","exports","../../chunks/_rollupPluginBabelHelpers"],function(a,b,c){const f=l=>Object.freeze({__proto__:null,default:l}),d={BingMapsLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../BingMapsLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),BuildingSceneLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>
a(["../BuildingSceneLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),CSVLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../CSVLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),ElevationLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../ElevationLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),FeatureLayer:function(){var l=
c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../FeatureLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),GroupLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../GroupLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),GeoRSSLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../GeoRSSLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,
arguments)}}(),GeoJSONLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../GeoJSONLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),ImageryLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../ImageryLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),ImageryTileLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>
a(["../ImageryTileLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../IntegratedMeshLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),KMLLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../KMLLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),
MapImageLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../MapImageLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),MapNotesLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../MapNotesLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),OGCFeatureLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../OGCFeatureLayer"],
g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../OpenStreetMapLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),PointCloudLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../PointCloudLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),RouteLayer:function(){var l=
c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../RouteLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),SceneLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../SceneLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),StreamLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../StreamLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,
arguments)}}(),TileLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../TileLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),UnknownLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../UnknownLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),UnsupportedLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../UnsupportedLayer"],
g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),VectorTileLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../VectorTileLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),VoxelLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../VoxelLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),WebTileLayer:function(){var l=
c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../WebTileLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),WFSLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../WFSLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}(),WMSLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../WMSLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,
arguments)}}(),WMTSLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((u,t)=>a(["../WMTSLayer"],g=>u(f(g)),t))).default});return function(){return l.apply(this,arguments)}}()};b.layerLookupMap=d;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/portal/support/featureCollectionUtils":function(){define(["exports"],function(a){function b(c,f){return c.layerType&&"ArcGISFeatureLayer"===c.layerType?c.featureCollectionType===f?!0:!1:!1}a.isMapNotesLayer=function(c){return b(c,
"notes")};a.isRouteLayer=function(c){return b(c,"route")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/support/portalLayers":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../layers/support/lazyLayerLoader ../PortalItem ./layersLoader ./portalItemUtils ../../support/requestPresets".split(" "),function(a,b,c,f,d,l,u,t){function g(w){switch(w.type){case "Map Service":return m(w);case "Feature Service":return r(w);case "Feature Collection":return k(w);
case "Scene Service":return q(w);case "Image Service":return e(w);case "Stream Service":return{className:"StreamLayer"};case "Vector Tile Service":return{className:"VectorTileLayer"};case "KML":return{className:"KMLLayer"};case "WFS":return{className:"WFSLayer"};case "WMTS":return{className:"WMTSLayer"};case "WMS":return{className:"WMSLayer"};case "Feed":return{className:"StreamLayer"};default:return Promise.reject(new c("portal:unknown-item-type","Unknown item type '${type}'",{type:w.type}))}}function n(w){return(0,f.layerLookupMap[w.className])().then(y=>
({constructor:y,properties:w.properties}))}function m(w){return v(w).then(y=>y?{className:"TileLayer"}:{className:"MapImageLayer"})}function r(w){return x(w).then(y=>{if("object"===typeof y){const z={};null!=y.id&&(z.layerId=y.id);return{className:"FeatureLayer",properties:z}}return{className:"GroupLayer"}})}function q(w){return x(w).then(y=>{if("object"===typeof y){const z={};null!=y.id?(z.layerId=y.id,y=`${w.url}/layers/${y.id}`):y=w.url;if(Array.isArray(w.typeKeywords)&&0<w.typeKeywords.length){const C=
{IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(const B of Object.keys(C))if(-1!==w.typeKeywords.indexOf(B))return{className:C[B]}}return t.requestArcGISServiceJSON(y).then(C=>{let B="SceneLayer";const D={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};C&&C.layerType&&D[C.layerType]&&(B=D[C.layerType]);return{className:B,
properties:z}})}return!1===y?t.requestArcGISServiceJSON(w.url).then(z=>"Voxel"===(null==z?void 0:z.layerType)?{className:"VoxelLayer"}:{className:"GroupLayer"}):{className:"GroupLayer"}})}function k(w){return p.apply(this,arguments)}function p(){p=b._asyncToGenerator(function*(w){yield w.load();if(u.hasTypeKeyword(w,"Map Notes"))return{className:"MapNotesLayer"};if(u.hasTypeKeyword(w,"Route Layer"))return{className:"RouteLayer"};w=yield w.fetchData();return 1===l.getNumLayersAndTables(w)?{className:"FeatureLayer"}:
{className:"GroupLayer"}});return p.apply(this,arguments)}function e(w){return h.apply(this,arguments)}function h(){h=b._asyncToGenerator(function*(w){var y,z,C;yield w.load();const B=null!=(y=null==(z=w.typeKeywords)?void 0:z.map(D=>D.toLowerCase()))?y:[];if(-1<B.indexOf("elevation 3d layer"))return{className:"ElevationLayer"};if(-1<B.indexOf("tiled imagery"))return{className:"ImageryTileLayer"};y=yield w.fetchData();y=null==y?void 0:y.layerType;return"ArcGISTiledImageServiceLayer"===y?{className:"ImageryTileLayer"}:
"ArcGISImageServiceLayer"===y?{className:"ImageryLayer"}:"map"===(null==(C=(yield t.requestArcGISServiceJSON(w.url)).cacheType)?void 0:C.toLowerCase())?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}});return h.apply(this,arguments)}function v(w){return t.requestArcGISServiceJSON(w.url).then(y=>y.tileInfo)}function x(w){return!w.url||w.url.match(/\/\d+$/)?Promise.resolve({}):w.load().then(()=>w.fetchData()).then(function(){var y=b._asyncToGenerator(function*(z){return"Feature Service"===
w.type?(z=yield l.preprocessFSItemData(z,w.url),A(z)):0<l.getNumLayersAndTables(z)?A(z):t.requestArcGISServiceJSON(w.url).then(A)});return function(z){return y.apply(this,arguments)}}())}function A(w){return 1===l.getNumLayersAndTables(w)?{id:l.getFirstLayerOrTableId(w)}:!1}a.fromItem=function(w){!w.portalItem||w.portalItem instanceof d||(w={...w,portalItem:new d(w.portalItem)});return w.portalItem.load().then(g).then(n).then(y=>Promise.resolve(new y.constructor({portalItem:w.portalItem,...y.properties})))};
a.selectLayerClassPath=g;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/support/layersLoader":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../layers/support/lazyLayerLoader ../Portal ./jsonContext ../../renderers/support/styleUtils ../../support/requestPresets".split(" "),function(a,b,c,f,d,l,u,t){function g(){g=b._asyncToGenerator(function*(w,y){var z=w.instance.portalItem;if(!z||!z.id)return Promise.resolve();yield z.load(y);z=w.instance.portalItem;
if(-1===w.supportedTypes.indexOf(z.type))throw new c("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:z.type,expectedType:w.supportedTypes.join(", ")});return n(w,y)});return g.apply(this,arguments)}function n(w,y){return m.apply(this,arguments)}function m(){m=b._asyncToGenerator(function*(w,y){const z=w.instance,C=z.portalItem,{url:B,title:D}=C,G=l.createForItem(C);if("group"===z.type)return z.read({title:D},G),r(z,w);B&&z.read({url:B},G);(w=
yield e(w,y))&&z.read(w,G);z.resourceReferences={portalItem:C,paths:G.readResourcePaths};z.read({title:D},G);return u.loadStyleRenderer(z,G)});return m.apply(this,arguments)}function r(w,y){let z;const C=w.portalItem.type;switch(C){case "Feature Service":z=f.layerLookupMap.FeatureLayer;break;case "Stream Service":z=f.layerLookupMap.StreamLayer;break;case "Scene Service":z=f.layerLookupMap.SceneLayer;break;case "Feature Collection":z=f.layerLookupMap.FeatureLayer;break;default:throw new c("portal:unsupported-item-type-as-group",
`The item type '${C}' is not supported as a 'IGroupLayer'`);}let B;return z().then(D=>{B=D;return e(y)}).then(function(){var D=b._asyncToGenerator(function*(G){return"Feature Service"===C?(G=yield h(G,w.portalItem.url),k(w,B,G)):0<A(G)?k(w,B,G):q(w,B)});return function(G){return D.apply(this,arguments)}}())}function q(w,y){return w.portalItem.url?t.requestArcGISServiceJSON(w.portalItem.url).then(z=>{function C(G){return{id:G.id,name:G.name}}var B,D;z&&k(w,y,{layers:null==(B=z.layers)?void 0:B.map(C),
tables:null==(D=z.tables)?void 0:D.map(C)})}):Promise.resolve()}function k(w,y,z){let C=z.layers||[];const B=z.tables||[];"Feature Collection"===w.portalItem.type&&(C.forEach(D=>{var G;"Table"===(null==D?void 0:null==(G=D.layerDefinition)?void 0:G.type)&&B.push(D)}),C=C.filter(D=>{var G;return"Table"!==(null==D?void 0:null==(G=D.layerDefinition)?void 0:G.type)}));C.reverse().forEach(D=>{D=p(w,y,z,D);w.add(D)});B.reverse().forEach(D=>{D=p(w,y,z,D);w.tables.add(D)})}function p(w,y,z,C){y=new y({portalItem:w.portalItem.clone(),
layerId:C.id,sublayerTitleMode:"service-name"});"Feature Collection"===w.portalItem.type&&(w={origin:"portal-item",portal:w.portalItem.portal||d.getDefault()},y.read(C,w),z=z.showLegend,null!=z&&y.read({showLegend:z},w));return y}function e(w,y){if(!1===w.supportsData)return Promise.resolve(void 0);const z=w.instance;return z.portalItem.fetchData("json",y).catch(()=>null).then(function(){var C=b._asyncToGenerator(function*(B){var D="stream"===z.type?!1:"layerId"in z;if(D){D=!0;if(B&&0<A(B)){null==
z.layerId&&(z.layerId=x(B));a:{var G=z.layerId;var K=B.layers;if(K)for(var M=0;M<K.length;M++)if(K[M].id===G){G=K[M];break a}if(K=B.tables)for(M=0;M<K.length;M++)if(K[M].id===G){G=K[M];break a}G=null}G&&(1===A(B)&&(D=!1),null!=B.showLegend&&(G.showLegend=B.showLegend))}D&&"service-name"!==z.sublayerTitleMode&&(z.sublayerTitleMode="item-title-and-service-name");return G}return B});return function(B){return C.apply(this,arguments)}}())}function h(w,y){return v.apply(this,arguments)}function v(){v=b._asyncToGenerator(function*(w,
y){var z,C;if(null==(null==(z=w)?void 0:z.layers)||null==(null==(C=w)?void 0:C.tables))y=yield t.requestArcGISServiceJSON(y),w=w||{},w.layers=w.layers||(null==y?void 0:y.layers),w.tables=w.tables||(null==y?void 0:y.tables);return w});return v.apply(this,arguments)}function x(w){const y=w.layers;return y&&y.length?y[0].id:(w=w.tables)&&w.length?w[0].id:null}function A(w){var y,z,C,B;const D=null!=(y=null==w?void 0:null==(z=w.layers)?void 0:z.length)?y:0;w=null!=(C=null==w?void 0:null==(B=w.tables)?
void 0:B.length)?C:0;return D+w}a.getFirstLayerOrTableId=x;a.getNumLayersAndTables=A;a.load=function(w,y){return g.apply(this,arguments)};a.preprocessFSItemData=h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/support/jsonContext":function(){define(["exports","../../core/urlUtils","../Portal"],function(a,b,c){a.createForItem=function(f){return{origin:"portal-item",url:b.urlToObject(f.itemUrl),portal:f.portal||c.getDefault(),portalItem:f,readResourcePaths:[]}};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/renderers/support/styleUtils":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/asyncUtils","../../core/promiseUtils","../../core/Warning"],function(a,b,c,f,d){function l(){l=b._asyncToGenerator(function*(u,t,g){var n=u&&u.getAtOrigin&&u.getAtOrigin("renderer",t.origin);n&&"unique-value"===n.type&&n.styleOrigin&&(n=yield c.result(n.populateFromStyle()),f.throwIfAborted(g),!1===n.ok&&(g=n.error,t&&t.messages&&t.messages.push(new d("renderer:style-reference",
`Failed to create unique value renderer from style reference: ${g.message}`,{error:g,context:t})),u.clear("renderer",t.origin)))});return l.apply(this,arguments)}a.loadStyleRenderer=function(u,t,g){return l.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/requestPresets":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../request"],function(a,b,c){function f(){f=b._asyncToGenerator(function*(d){({data:d}=yield c(d,{responseType:"json",query:{f:"json"}}));
return d});return f.apply(this,arguments)}a.requestArcGISServiceJSON=function(d){return f.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/support/portalItemUtils":function(){define(["exports"],function(a){function b(c,f){return c.typeKeywords?-1<c.typeKeywords.indexOf(f):!1}a.addTypeKeyword=function(c,f){if(!b(c,f)){const d=c.typeKeywords;d?d.push(f):c.typeKeywords=[f]}};a.hasTypeKeyword=b;a.removeTypeKeyword=function(c,f){if(c=c.typeKeywords)f=c.indexOf(f),
-1<f&&c.splice(f,1)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/FeatureLayer":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../PopupTemplate ../renderers/ClassBreaksRenderer ../renderers/DictionaryRenderer ../renderers/DotDensityRenderer ../renderers/HeatmapRenderer ../renderers/Renderer ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/support/jsonUtils ../renderers/support/types ../request ../symbols ../core/Clonable ../core/Collection ../core/Error ../core/Handles ../core/has ../core/jsonMap ../core/Logger ../core/maybe ../core/MultiOriginJSONSupport ../core/object ../core/promiseUtils ../core/sql ../core/urlUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/extensions/serializableProperty/reader ../form/FormTemplate ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ./Layer ./graphics/sources/MemorySource ./mixins/APIKeyMixin ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/FeatureEffectLayer ./mixins/OperationalLayer ./mixins/OrderedLayer ./mixins/PortalLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./support/arcgisLayerUrl ./support/commonProperties ./support/FeatureIndex ./support/featureReductionUtils ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/fieldUtils ./support/GeometryFieldsInfo ./support/LabelClass ./support/labelingInfo ./support/LayerFloorInfo ./support/Relationship ./support/TimeInfo ./support/versionUtils ./support/source/DataLayerSource ../renderers/support/styleUtils ../rest/support/AttachmentQuery ../rest/support/FeatureSet ../rest/support/Query ../rest/support/RelationshipQuery ../rest/support/TopFeaturesQuery ../support/popupUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A,w,y,z,C,B,D,G,K,M,N,I,F,E,J,P,W,Z,Y,S,qa,xa,Fa,la,V,aa,Ca,Ia,H,O,fa,Q,T,da,ea,pa,ma,L,R,U,sa,Aa,La,Pa,Sa,Xa,ka,va,wa,Ja,Oa,ca,na,za,ua,Ea){function Ga(Za,db,Ta){return!(Za&&Za.hasOwnProperty(db)?!Za[db]:!Ta)}function Ma(Za,db,Ta){return Za&&Za.hasOwnProperty(db)?Za[db]:Ta}function Ua(Za){var db;Za=null==Za?void 0:null==(db=Za.supportedSpatialAggregationStatistics)?void 0:db.map(Ta=>Ta.toLowerCase());return{envelope:!(null==Za||!Za.includes("envelopeaggregate")),
centroid:!(null==Za||!Za.includes("centroidaggregate")),convexHull:!(null==Za||!Za.includes("convexhullaggregate"))}}function oa(Za,db,Ta){Za=!(null==Ta||!Ta.writeLayerSchema);return{enabled:Za,ignoreOrigin:Za}}const ab=new w.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),cb={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",
exifInfo:"supportsExifInfo"},fb=y.getLogger("esri.layers.FeatureLayer");d=U.defineFieldProperties();e=function(Za){function db(...ja){ja=Za.call(this,...ja)||this;ja._handles=new x;ja.capabilities=null;ja.charts=null;ja.copyright=null;ja.datesInUnknownTimezone=!1;ja.displayField=null;ja.definitionExpression=null;ja.dynamicDataSource=null;ja.editFieldsInfo=null;ja.editingInfo=null;ja.elevationInfo=null;ja.featureReduction=null;ja.fields=null;ja.fieldsIndex=null;ja.floorInfo=null;ja.formTemplate=null;
ja.fullExtent=null;ja.gdbVersion=null;ja.geometryFieldsInfo=null;ja.geometryType=null;ja.hasM=void 0;ja.hasZ=void 0;ja.heightModelInfo=null;ja.historicMoment=null;ja.infoFor3D=null;ja.isTable=!1;ja.labelsVisible=!0;ja.labelingInfo=null;ja.layerId=void 0;ja.legendEnabled=!0;ja.minScale=0;ja.maxScale=0;ja.globalIdField=null;ja.objectIdField=null;ja.outFields=null;ja.path=null;ja.popupEnabled=!0;ja.popupTemplate=null;ja.relationships=null;ja.sourceJSON=null;ja.returnM=void 0;ja.returnZ=void 0;ja.screenSizePerspectiveEnabled=
!0;ja.serviceDefinitionExpression=null;ja.spatialReference=S.WGS84;ja.subtypeCode=null;ja.templates=null;ja.timeInfo=null;ja.title=null;ja.sublayerTitleMode="item-title";ja.trackIdField=null;ja.type="feature";ja.typeIdField=null;ja.types=null;ja.indexes=new (h.ofType(pa.FeatureIndex));ja.userIsAdmin=!1;ja.version=void 0;ja.visible=!0;return ja}b._inheritsLoose(db,Za);var Ta=db.prototype;Ta.destroy=function(){var ja;null==(ja=this.source)?void 0:ja.destroy();this._handles=z.destroyMaybe(this._handles)};
Ta.normalizeCtorArgs=function(ja,ra){return"string"===typeof ja?{url:ja,...ra}:ja};Ta.load=function(ja){var ra=this;const Ka=z.isSome(ja)?ja.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)this.addResolvingPromise(this.createGraphicsSource(Ka).then(ya=>this._initLayerProperties(ya)));else{var ba=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},ja).catch(D.throwIfAbortError).then(b._asyncToGenerator(function*(){if(ra.url&&null==ra.layerId&&/FeatureServer|MapServer\/*$/i.test(ra.url)){const ya=
yield ra._fetchFirstLayerId(Ka);null!=ya&&(ra.layerId=ya)}if(!ra.url&&!ra._hasMemorySource())throw new v("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return ra._initLayerProperties(yield ra.createGraphicsSource(Ka))})).then(()=>this.finishLoadEditablePortalLayer(ja));this.addResolvingPromise(ba);return Promise.resolve(this)}};Ta.readCapabilities=function(ja,ra){ra=ra.layerDefinition||ra;return{attachment:this._readAttachmentCapabilities(ra.attachmentProperties),
data:this._readDataCapabilities(ra),metadata:this._readMetadataCapabilities(ra),operations:this._readOperationsCapabilities(ra.capabilities||ja,ra),query:this._readQueryCapabilities(ra),queryRelated:this._readQueryRelatedCapabilities(ra),editing:this._readEditingCapabilities(ra)}};Ta.readEditingEnabled=function(ja,ra){return this._readEditingEnabled(ra,!1)};Ta.readEditingEnabledFromWebMap=function(ja,ra,Ka){return this._readEditingEnabled(ra,!0,Ka)};Ta.writeEditingEnabled=function(ja,ra){this._writeEditingEnabled(ja,
ra,!1)};Ta.writeEditingEnabledToWebMap=function(ja,ra,Ka,ba){this._writeEditingEnabled(ja,ra,!0,ba)};Ta.readEditingInfo=function(ja,ra){({editingInfo:ja}=ra);return ja?{lastEditDate:null!=ja.lastEditDate?new Date(ja.lastEditDate):null}:null};Ta.readIsTable=function(ja,ra){ra=ra&&ra.layerDefinition||ra;return"Table"===ra.type||!ra.geometryType};Ta.writeIsTable=function(ja,ra,Ka,ba){null!=ba&&ba.writeLayerSchema&&B.setDeepValue(Ka,ja?"Table":"Feature Layer",ra)};Ta.readMinScale=function(ja,ra){return ra.effectiveMinScale||
ja||0};Ta.readMaxScale=function(ja,ra){return ra.effectiveMaxScale||ja||0};Ta.readGlobalIdFieldFromService=function(ja,ra){ra=ra.layerDefinition||ra;if(ra.globalIdField)return ra.globalIdField;if(ra.fields)for(const Ka of ra.fields)if("esriFieldTypeGlobalID"===Ka.type)return Ka.name};Ta.readObjectIdFieldFromService=function(ja,ra){ra=ra.layerDefinition||ra;if(ra.objectIdField)return ra.objectIdField;if(ra.fields)for(const Ka of ra.fields)if("esriFieldTypeOID"===Ka.type)return Ka.name};Ta.readRenderer=
function(ja,ra,Ka){ra=ra.layerDefinition||ra;if(ja=ra.drawingInfo&&ra.drawingInfo.renderer||void 0)return(ja=r.read(ja,ra,Ka)||void 0)||fb.error("Failed to create renderer",{rendererDefinition:ra.drawingInfo.renderer,layer:this,context:Ka}),ja;if(ra.defaultSymbol)return ra.types&&ra.types.length?new m({defaultSymbol:gb(ra.defaultSymbol,ra,Ka),field:ra.typeIdField,uniqueValueInfos:ra.types.map(ba=>({id:ba.id,symbol:gb(ba.symbol,ba,Ka)}))}):new n({symbol:gb(ra.defaultSymbol,ra,Ka)})};Ta.castSource=
function(ja){return ja?Array.isArray(ja)||ja instanceof h?new xa.default({layer:this,items:ja}):ja:null};Ta.readSource=function(ja,ra){ja=ca.fromJSON(ra.featureSet);return new xa.default({layer:this,items:ja&&ja.features||[]})};Ta.readServiceDefinitionExpression=function(ja,ra){return ra.definitionQuery||ra.definitionExpression};Ta.readTemplates=function(ja,ra){var Ka=ra.editFieldsInfo;ra=Ka&&Ka.creatorField;Ka=Ka&&Ka.editorField;ja=ja&&ja.map(ba=>L.fromJSON(ba));this._fixTemplates(ja,ra);this._fixTemplates(ja,
Ka);return ja};Ta.readTitle=function(ja,ra){ja=ra.layerDefinition&&ra.layerDefinition.name||ra.name;ra=ra.title||ra.layerDefinition&&ra.layerDefinition.title;if(ja){ra=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?da.titleFromUrlAndName(this.url,ja):ja;if(!ja&&this.url){const Ka=da.parse(this.url);z.isSome(Ka)&&(ja=Ka.title)}if(!ja)return;"item-title-and-service-name"===this.sublayerTitleMode&&ra&&ra!==ja&&(ja=ra+" - "+ja);return da.cleanTitle(ja)}if("item-title"===
this.sublayerTitleMode&&ra)return ra};Ta.readTitleFromWebMap=function(ja,ra){return ra.title||ra.layerDefinition&&ra.layerDefinition.name};Ta.readTypeIdField=function(ja,ra){ra=ra.layerDefinition||ra;let Ka=ra.typeIdField;Ka&&ra.fields&&(Ka=Ka.toLowerCase(),ja=ra.fields.find(ba=>ba.name.toLowerCase()===Ka))&&(Ka=ja.name);return Ka};Ta.readTypes=function(ja,ra){ra=ra.layerDefinition||ra;ja=ra.types;const Ka=(ra=ra.editFieldsInfo)&&ra.creatorField,ba=ra&&ra.editorField;return ja&&ja.map(ya=>{ya=R.fromJSON(ya);
this._fixTemplates(ya.templates,Ka);this._fixTemplates(ya.templates,ba);return ya})};Ta.writeUrl=function(ja,ra,Ka,ba){da.writeUrlWithLayerId(this,ja,null,ra,ba)};Ta.readVersion=function(ja,ra){return ra.currentVersion?ra.currentVersion:ra.hasOwnProperty("capabilities")||ra.hasOwnProperty("drawingInfo")||ra.hasOwnProperty("hasAttachments")||ra.hasOwnProperty("htmlPopupType")||ra.hasOwnProperty("relationships")||ra.hasOwnProperty("timeInfo")||ra.hasOwnProperty("typeIdField")||ra.hasOwnProperty("types")?
10:9.3};Ta.readVisible=function(ja,ra){if(ra.layerDefinition&&null!=ra.layerDefinition.defaultVisibility)return!!ra.layerDefinition.defaultVisibility;if(null!=ra.visibility)return!!ra.visibility};Ta.addAttachment=function(ja,ra){return this.load().then(()=>this._checkAttachmentSupport(ja)).then(()=>{if(!("addAttachment"in this.source))throw new v("FeatureLayer","Layer source does not support addAttachment capability");return this.source.addAttachment(ja,ra)})};Ta.updateAttachment=function(ja,ra,Ka){return this.load().then(()=>
this._checkAttachmentSupport(ja)).then(()=>{if(!("updateAttachment"in this.source))throw new v("FeatureLayer","Layer source does not support updateAttachment capability");return this.source.updateAttachment(ja,ra,Ka)})};Ta.applyEdits=function(){var ja=b._asyncToGenerator(function*(ra,Ka){const ba=yield new Promise((ya,Ha)=>a(["./graphics/editingSupport"],ya,Ha));yield this.load();return ba.applyEdits(this,this.source,ra,Ka)});return function(ra,Ka){return ja.apply(this,arguments)}}();Ta.on=function(ja,
ra){return Za.prototype.on.call(this,ja,ra)};Ta.createPopupTemplate=function(ja){return Ea.createPopupTemplate(this,ja)};Ta.createGraphicsSource=function(){var ja=b._asyncToGenerator(function*(ra){if(this._hasMemorySource())return this.source.load({signal:ra});const {default:Ka}=yield D.whenOrAbort(new Promise((ba,ya)=>a(["./graphics/sources/FeatureLayerSource"],Ha=>ba(Object.freeze({__proto__:null,default:Ha})),ya)),ra);return(new Ka({layer:this})).load({signal:ra})});return function(ra){return ja.apply(this,
arguments)}}();Ta.createQuery=function(){const ja=new na,ra=this.get("capabilities.data"),Ka=this.get("capabilities.query");ja.dynamicDataSource=this.dynamicDataSource;ja.historicMoment=this.historicMoment;ja.gdbVersion=this.gdbVersion;ja.returnGeometry=!0;Ka&&(ja.compactGeometryEnabled=Ka.supportsCompactGeometry,ja.defaultSpatialReferenceEnabled=Ka.supportsDefaultSpatialReference);ra&&(ra.supportsZ&&null!=this.returnZ&&(ja.returnZ=this.returnZ),ra.supportsM&&null!=this.returnM&&(ja.returnM=this.returnM));
ja.outFields=["*"];ja.where=this.definitionExpression||"1\x3d1";const {timeOffset:ba,timeExtent:ya}=this;ja.timeExtent=null!=ba&&null!=ya?ya.offset(-ba.value,ba.unit):ya||null;ja.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null;return ja};Ta.deleteAttachments=function(ja,ra){return this.load().then(()=>this._checkAttachmentSupport(ja)).then(()=>{if(!("deleteAttachments"in this.source))throw new v("FeatureLayer","Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(ja,
ra)})};Ta.fetchRecomputedExtents=function(ja){return this.load({signal:null==ja?void 0:ja.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(ja);throw new v("FeatureLayer","Layer source does not support fetchUpdates capability");})};Ta.getFeatureType=function(ja){const {typeIdField:ra,types:Ka}=this;if(!ra||!ja)return null;const ba=ja.attributes?ja.attributes[ra]:void 0;if(null==ba)return null;let ya=null;Ka.some(Ha=>{const {id:Ra}=Ha;if(null==Ra)return!1;
Ra.toString()===ba.toString()&&(ya=Ha);return!!ya});return ya};Ta.getFieldDomain=function(ja,ra){return(ra=this.getFeatureType(ra&&ra.feature))&&(ra=ra.domains&&ra.domains[ja])&&"inherited"!==ra.type?ra:this._getLayerDomain(ja)};Ta.getField=function(ja){return this.fieldsIndex.get(ja)};Ta.queryAttachments=function(ja,ra){ja=Oa.from(ja);return this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new v("FeatureLayer","this layer doesn't support attachments");const {attachmentTypes:Ka,
objectIds:ba,globalIds:ya,num:Ha,size:Ra,start:X,where:ha}=ja;if(!this.get("capabilities.operations.supportsQueryAttachments")){const ia=Ka&&Ka.length,Da=ya&&ya.length,ta=Ra&&Ra.length;if(ba&&1<ba.length||ia||Da||ta||Ha||X||ha)throw new v("FeatureLayer","when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",ja);}if(!(ba&&ba.length||ha))throw new v("FeatureLayer","'objectIds' or 'where' are required to perform attachment query",ja);if(!("queryAttachments"in this.source))throw new v("FeatureLayer",
"Layer source does not support queryAttachments capability",ja);return this.source.queryAttachments(ja)})};Ta.queryFeatures=function(ja,ra){return this.load().then(()=>this.source.queryFeatures(na.from(ja)||this.createQuery(),ra)).then(Ka=>{if(null!=Ka&&Ka.features)for(const ba of Ka.features)ba.layer=ba.sourceLayer=this;return Ka})};Ta.queryObjectIds=function(ja,ra){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(na.from(ja)||this.createQuery(),ra);throw new v("FeatureLayer",
"Layer source does not support queryObjectIds capability");})};Ta.queryFeatureCount=function(ja,ra){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(na.from(ja)||this.createQuery(),ra);throw new v("FeatureLayer","Layer source does not support queryFeatureCount capability");})};Ta.queryExtent=function(ja,ra){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(na.from(ja)||this.createQuery(),ra);throw new v("FeatureLayer",
"Layer source does not support queryExtent capability");})};Ta.queryRelatedFeatures=function(ja,ra){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(za.from(ja),ra);throw new v("FeatureLayer","Layer source does not support queryRelatedFeatures capability");})};Ta.queryRelatedFeaturesCount=function(ja,ra){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(za.from(ja),ra);
throw new v("FeatureLayer","Layer source does not support queryRelatedFeaturesCount capability");})};Ta.queryTopFeatures=function(ja,ra){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(ua.from(ja),ra).then(Ka=>{if(null!=Ka&&Ka.features)for(const ba of Ka.features)ba.layer=ba.sourceLayer=this;return Ka});throw new v("FeatureLayer","Layer source does not support queryTopFeatures capability");
})};Ta.queryTopObjectIds=function(ja,ra){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(ua.from(ja),ra);throw new v("FeatureLayer","Layer source does not support queryTopObjectIds capability");})};Ta.queryTopFeaturesExtent=function(ja,ra){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(ua.from(ja),
ra);throw new v("FeatureLayer","Layer source does not support queryTopExtents capability");})};Ta.queryTopFeatureCount=function(ja,ra){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(ua.from(ja),ra);throw new v("FeatureLayer","Layer source does not support queryFeatureCount capability");})};Ta.read=function(ja,ra){const Ka=ja.featureCollection;if(Ka){const ba=Ka.layers;ba&&1===ba.length&&(Za.prototype.read.call(this,
ba[0],ra),null!=Ka.showLegend&&Za.prototype.read.call(this,{showLegend:Ka.showLegend},ra))}Za.prototype.read.call(this,ja,ra);ra&&"service"===ra.origin&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")};Ta.write=function(ja,ra){var Ka,ba;ra={...ra,writeLayerSchema:null!=(Ka=null==(ba=ra)?void 0:ba.writeLayerSchema)?Ka:this._hasMemorySource()};Ka=ra.origin;ba=ra.layerContainerType;const ya=ra.messages;if(this.isTable){if("web-scene"===Ka||"web-map"===Ka&&"tables"!==ba)return ya&&
ya.push(new v("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Table source cannot be written to web scenes and web maps`,{layer:this})),null;if(this._hasMemorySource())return ya&&ya.push(new v("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using an in-memory Table source cannot be written to web scenes and web maps`,{layer:this})),null}else if(this.loaded&&"web-map"===Ka&&"tables"===ba)return ya&&ya.push(new v("layer:unsupported",
`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a non-table source cannot be written to tables in web maps`,{layer:this})),null;return Za.prototype.write.call(this,ja,ra)};Ta.clone=function(){if(this._hasMemorySource())throw new v("FeatureLayer",`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return Za.prototype.clone.call(this)};Ta.serviceSupportsSpatialReference=function(ja){return this.loaded?"memory"===this.source.type?
!0:va.serviceSupportsSpatialReference(this,ja):!1};Ta._readEditingEnabled=function(ja,ra,Ka){var ba;let ya=null==(ba=ja.layerDefinition)?void 0:ba.capabilities;if(ya)return this._hasEditingCapability(ya);ya=ja.capabilities;if(ra&&"web-map"===(null==Ka?void 0:Ka.origin)&&!this._hasMemorySource()&&ya)return this._hasEditingCapability(ya)};Ta._hasEditingCapability=function(ja){return ja.toLowerCase().split(",").map(ra=>ra.trim()).includes("editing")};Ta._writeEditingEnabled=function(ja,ra,Ka,ba){if(!ja){var ya,
Ha;ja=null!=(ya=this.capabilities)&&null!=(Ha=ya.operations)&&Ha.supportsSync?"Query,Sync":"Query";B.setDeepValue("layerDefinition.capabilities",ja,ra);!Ka||null!=ba&&ba.writeLayerSchema||(ra.capabilities=ja)}};Ta._checkAttachmentSupport=function(ja){const {attributes:ra}=ja,{objectIdField:Ka}=this;if(!this.get("capabilities.data.supportsAttachment"))return Promise.reject(new v("FeatureLayer","this layer doesn't support attachments"));if(!ja)return Promise.reject(new v("FeatureLayer","A feature is required to add/delete/update attachments"));
if(!ra)return Promise.reject(new v("FeatureLayer","'attributes' are required on a feature to query attachments"));if(!ra[Ka])return Promise.reject(new v("FeatureLayer",`feature is missing the identifying attribute ${Ka}`))};Ta._getLayerDomain=function(ja){return(ja=this.fieldsIndex.get(ja))?ja.domain:null};Ta._fetchFirstLayerId=function(ja){return k(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:ja}).then(ra=>{if(ra=ra.data){if(Array.isArray(ra.layers)&&
0<ra.layers.length)return ra.layers[0].id;if(Array.isArray(ra.tables)&&0<ra.tables.length)return ra.tables[0].id}})};Ta._initLayerProperties=function(){var ja=b._asyncToGenerator(function*(ra){this._set("source",ra);ra.sourceJSON&&(this.sourceJSON=ra.sourceJSON,this.read(ra.sourceJSON,{origin:"service",url:this.parsedUrl}));this._verifySource();this._verifyFields();sa.fixRendererFields(this.renderer,this.fieldsIndex);sa.fixTimeInfoFields(this.timeInfo,this.fieldsIndex);return Ja.loadStyleRenderer(this,
{origin:"service"})});return function(ra){return ja.apply(this,arguments)}}();Ta.hasDataChanged=function(){var ja=b._asyncToGenerator(function*(){var ra;if(null!=(ra=this.source)&&ra.refresh)try{var Ka;const {dataChanged:ba,updates:ya}=yield null==(Ka=this.source)?void 0:Ka.refresh();z.isSome(ya)&&(this.sourceJSON={...this.sourceJSON,...ya},this.read(ya,{origin:"service",url:this.parsedUrl}));if(ba)return!0}catch{}if(this.definitionExpression)try{return(yield G.parseWhereClause(this.definitionExpression,
this.fieldsIndex)).hasDateFunctions}catch{}return!1});return function(){return ja.apply(this,arguments)}}();Ta._verifyFields=function(){const ja=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+ja+")");this.isTable||this._hasMemorySource()||-1!==ja.search(/\/FeatureServer\//i)||this.fields&&this.fields.some(function(ra){return"geometry"===ra.type})||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+
ja+")")};Ta._fixTemplates=function(ja,ra){ja&&ja.forEach(Ka=>{(Ka=Ka.prototype&&Ka.prototype.attributes)&&ra&&delete Ka[ra]})};Ta._verifySource=function(){if(this._hasMemorySource()){if(this.url)throw new v("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url");}else if(!this.url)throw new v("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source");};Ta._initMemorySource=function(ja){ja.forEach(ra=>
{ra.layer=this;ra.sourceLayer=this});this._handles.add([ja.on("after-add",ra=>{ra.item.layer=this;ra.item.sourceLayer=this}),ja.on("after-remove",ra=>{ra.item.layer=null;ra.item.sourceLayer=null})],"fl-source")};Ta._resetMemorySource=function(ja){ja.forEach(ra=>{ra.layer=null;ra.sourceLayer=null});this._handles.remove("fl-source")};Ta._hasMemorySource=function(){return!(this.url||!this.source)};Ta._readAttachmentCapabilities=function(ja){const ra={supportsName:!1,supportsSize:!1,supportsContentType:!1,
supportsKeywords:!1,supportsExifInfo:!1};ja&&Array.isArray(ja)&&ja.forEach(Ka=>{const ba=cb[Ka.name];ba&&(ra[ba]=!!Ka.isEnabled)});return ra};Ta._readDataCapabilities=function(ja){return{isVersioned:Ga(ja,"isDataVersioned",!1),supportsAttachment:Ga(ja,"hasAttachments",!1),supportsM:Ga(ja,"hasM",!1),supportsZ:Ga(ja,"hasZ",!1)}};Ta._readMetadataCapabilities=function(ja){return{supportsAdvancedFieldProperties:Ga(ja,"supportsFieldDescriptionProperty",!1)}};Ta._readOperationsCapabilities=function(ja,ra){ja=
ja?ja.toLowerCase().split(",").map(X=>X.trim()):[];const Ka=ja.includes("editing")&&!ra.datesInUnknownTimezone;let ba=Ka&&ja.includes("create"),ya=Ka&&ja.includes("delete"),Ha=Ka&&ja.includes("update");const Ra=ja.includes("changetracking");!Ka||ba||ya||Ha||(ba=ya=Ha=!0);return{supportsCalculate:Ga(ra,"supportsCalculate",!1),supportsTruncate:Ga(ra,"supportsTruncate",!1),supportsValidateSql:Ga(ra,"supportsValidateSql",!1),supportsAdd:ba,supportsDelete:ya,supportsEditing:Ka,supportsChangeTracking:Ra,
supportsQuery:ja.includes("query"),supportsQueryAttachments:Ga(ra.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:Ga(ra,"supportsAttachmentsResizing",!1),supportsSync:ja.includes("sync"),supportsUpdate:Ha,supportsExceedsLimitStatistics:Ga(ra,"supportsExceedsLimitStatistics",!1)}};Ta._readQueryCapabilities=function(ja){var ra;const Ka=ja.advancedQueryCapabilities,ba=ja.ownershipBasedAccessControlForFeatures,ya=ja.archivingInfo;var Ha=null==(ra=this.url)?void 0:ra.includes("MapServer");
ra=!A("mapserver-pbf-enabled")&&Ha&&10.81>this.version;Ha=da.isHostedAgolService(this.url);const Ra=(ja.supportedQueryFormats||"").split(",").reduce((X,ha)=>{(ha=ha.toLowerCase().trim())&&X.add(ha);return X},new Set);return{supportsStatistics:Ga(Ka,"supportsStatistics",ja.supportsStatistics),supportsPercentileStatistics:Ga(Ka,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:Ga(Ka,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:Ua(Ka),supportsCentroid:Ga(Ka,
"supportsReturningGeometryCentroid",!1),supportsDistance:Ga(Ka,"supportsQueryWithDistance",!1),supportsDistinct:Ga(Ka,"supportsDistinct",ja.supportsAdvancedQueries),supportsExtent:Ga(Ka,"supportsReturningQueryExtent",!1),supportsGeometryProperties:Ga(Ka,"supportsReturningGeometryProperties",!1),supportsHavingClause:Ga(Ka,"supportsHavingClause",!1),supportsOrderBy:Ga(Ka,"supportsOrderBy",ja.supportsAdvancedQueries),supportsPagination:Ga(Ka,"supportsPagination",!1),supportsQuantization:Ga(ja,"supportsCoordinatesQuantization",
!1),supportsQuantizationEditMode:Ga(ja,"supportsQuantizationEditMode",!1),supportsQueryGeometry:Ga(ja,"supportsReturningQueryGeometry",!1),supportsResultType:Ga(Ka,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:Ga(Ka,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:Ga(Ka,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Ga(ja,"useStandardizedQueries",!1),supportsTopFeaturesQuery:Ga(Ka,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:Ga(ba,"allowOthersToQuery",
!0),supportsHistoricMoment:Ga(ya,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!ra&&Ra.has("pbf"),supportsDisjointSpatialRelationship:Ga(Ka,"supportsDisjointSpatialRel",!1),supportsCacheHint:Ga(Ka,"supportsQueryWithCacheHint",!1),supportsDefaultSpatialReference:Ga(Ka,"supportsDefaultSR",!1),supportsCompactGeometry:Ha,maxRecordCountFactor:Ma(ja,"maxRecordCountFactor",void 0),maxRecordCount:Ma(ja,"maxRecordCount",void 0),standardMaxRecordCount:Ma(ja,"standardMaxRecordCount",void 0),tileMaxRecordCount:Ma(ja,
"tileMaxRecordCount",void 0)}};Ta._readQueryRelatedCapabilities=function(ja){ja=ja.advancedQueryCapabilities;const ra=Ga(ja,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Ga(ja,"supportsQueryRelatedPagination",!1),supportsCount:ra,supportsOrderBy:ra}};Ta._readEditingCapabilities=function(ja){const ra=ja.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:Ga(ja,"allowGeometryUpdates",!0),supportsGlobalId:Ga(ja,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Ga(ja,
"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Ga(ja,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Ga(ja,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Ga(ja,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Ga(ra,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Ga(ra,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Ga(ra,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Ga(ra,"allowOthersToUpdate",!0)}};b._createClass(db,[{key:"createQueryVersion",
get:function(){this.commitProperty("definitionExpression");this.commitProperty("dynamicDataSource");this.commitProperty("timeExtent");this.commitProperty("timeOffset");this.commitProperty("geometryType");this.commitProperty("gdbVersion");this.commitProperty("historicMoment");this.commitProperty("returnZ");this.commitProperty("capabilities");this.commitProperty("returnM");return(this._get("createQueryVersion")||0)+1}},{key:"editingEnabled",get:function(){return this.loaded&&!this.capabilities.operations.supportsEditing?
!1:this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges},set:function(ja){null!=ja?this._override("editingEnabled",ja):this._clearOverride("editingEnabled")}},{key:"parsedUrl",get:function(){const ja=this.url?K.urlToObject(this.url):null;null!=ja&&(null!=this.dynamicDataSource?ja.path=K.join(ja.path,"dynamicLayer"):null!=this.layerId&&(ja.path=K.join(ja.path,this.layerId.toString())));return ja}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},
{key:"renderer",set:function(ja){sa.fixRendererFields(ja,this.fieldsIndex);this._set("renderer",ja)}},{key:"source",set:function(ja){const ra=this._get("source");ra!==ja&&(ra&&ra instanceof h&&this._resetMemorySource(ra),ja&&ja instanceof h&&this._initMemorySource(ja),this._set("source",ja))}},{key:"url",set:function(ja){ja=da.sanitizeUrlWithLayerId({layer:this,url:ja,nonStandardUrlAllowed:!0,logger:fb});this._set("url",ja.url);null!=ja.layerId&&this._set("layerId",ja.layerId)}}]);return db}(Ca.FeatureEffectLayer(V.BlendLayer(H.OrderedLayer(T.TemporalLayer(Q.ScaleRangeLayer(fa.RefreshableLayer(la.ArcGISService(Ia.OperationalLayer(O.PortalLayer(C.MultiOriginJSONMixin(aa.CustomParametersMixin(Fa.APIKeyMixin(e.ClonableMixin(qa))))))))))))));
c.__decorate([M.property({readOnly:!0,json:{read:!1}})],e.prototype,"capabilities",void 0);c.__decorate([F.reader("service","capabilities","advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities datesInUnknownTimezone hasAttachments hasM hasZ maxRecordCount maxRecordCountFactor ownershipBasedAccessControlForFeatures standardMaxRecordCount supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql tileMaxRecordCount useStandardizedQueries".split(" "))],
e.prototype,"readCapabilities",null);c.__decorate([M.property({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],e.prototype,"charts",void 0);c.__decorate([M.property({readOnly:!0})],e.prototype,"createQueryVersion",null);c.__decorate([M.property({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],e.prototype,"copyright",void 0);c.__decorate([M.property({type:Boolean})],e.prototype,"datesInUnknownTimezone",void 0);
c.__decorate([M.property({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],e.prototype,"displayField",void 0);c.__decorate([M.property({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],e.prototype,"definitionExpression",void 0);c.__decorate([M.property({types:p.symbolTypes,readOnly:!0})],e.prototype,"defaultSymbol",void 0);c.__decorate([M.property({type:wa.DataLayerSource})],
e.prototype,"dynamicDataSource",void 0);c.__decorate([M.property({readOnly:!0})],e.prototype,"editFieldsInfo",void 0);c.__decorate([M.property({type:Boolean})],e.prototype,"editingEnabled",null);c.__decorate([F.reader(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],e.prototype,"readEditingEnabled",null);c.__decorate([F.reader("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],e.prototype,"readEditingEnabledFromWebMap",null);c.__decorate([J.writer(["portal-item",
"web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],e.prototype,"writeEditingEnabled",null);c.__decorate([J.writer("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],e.prototype,"writeEditingEnabledToWebMap",null);c.__decorate([M.property({readOnly:!0})],e.prototype,"editingInfo",void 0);c.__decorate([F.reader("editingInfo")],e.prototype,"readEditingInfo",null);c.__decorate([M.property(ea.elevationInfo)],e.prototype,"elevationInfo",
void 0);c.__decorate([M.property(ma.featureReductionProperty)],e.prototype,"featureReduction",void 0);c.__decorate([M.property({...d.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:oa}}}}})],e.prototype,"fields",void 0);c.__decorate([M.property(d.fieldsIndex)],e.prototype,"fieldsIndex",void 0);c.__decorate([M.property({type:Sa,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],
e.prototype,"floorInfo",void 0);c.__decorate([M.property({type:W,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],e.prototype,"formTemplate",void 0);c.__decorate([M.property({type:Z,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],e.prototype,"fullExtent",void 0);c.__decorate([M.property()],e.prototype,"gdbVersion",void 0);c.__decorate([M.property({readOnly:!0,type:Aa,json:{read:{source:"geometryProperties"}}})],e.prototype,"geometryFieldsInfo",
void 0);c.__decorate([M.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),json:{origins:{service:{read:ab.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:oa,writer(Za,db,Ta){(Za=Za?ab.toJSON(Za):null)&&B.setDeepValue(Ta,Za,db)}}}},read:{source:"layerDefinition.geometryType",reader:ab.read}}})],e.prototype,"geometryType",void 0);c.__decorate([M.property({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],
e.prototype,"hasM",void 0);c.__decorate([M.property({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],e.prototype,"hasZ",void 0);c.__decorate([M.property({readOnly:!0,type:Y})],e.prototype,"heightModelInfo",void 0);c.__decorate([M.property({type:Date})],e.prototype,"historicMoment",void 0);c.__decorate([M.property(ea.id)],e.prototype,"id",void 0);c.__decorate([M.property({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],e.prototype,"infoFor3D",void 0);
c.__decorate([M.property({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],e.prototype,"isTable",void 0);c.__decorate([F.reader("service","isTable",["type","geometryType"]),F.reader("isTable",["layerDefinition.type","layerDefinition.geometryType"])],e.prototype,"readIsTable",null);c.__decorate([J.writer("web-map","isTable")],e.prototype,"writeIsTable",null);c.__decorate([M.property(ea.labelsVisible)],e.prototype,"labelsVisible",void 0);c.__decorate([M.property({type:[La],
json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:Pa.reader},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:Pa.reader},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],e.prototype,"labelingInfo",void 0);c.__decorate([M.property(ea.opacityDrawingInfo)],e.prototype,"opacity",void 0);c.__decorate([M.property({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],e.prototype,"layerId",
void 0);c.__decorate([M.property(ea.legendEnabled)],e.prototype,"legendEnabled",void 0);c.__decorate([M.property({type:["show","hide"]})],e.prototype,"listMode",void 0);c.__decorate([M.property(ea.minScale)],e.prototype,"minScale",void 0);c.__decorate([F.reader("service","minScale",["minScale","effectiveMinScale"])],e.prototype,"readMinScale",null);c.__decorate([M.property(ea.maxScale)],e.prototype,"maxScale",void 0);c.__decorate([F.reader("service","maxScale",["maxScale","effectiveMaxScale"])],e.prototype,
"readMaxScale",null);c.__decorate([M.property({type:String})],e.prototype,"globalIdField",void 0);c.__decorate([F.reader("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),F.reader("service","globalIdField",["globalIdField","fields"])],e.prototype,"readGlobalIdFieldFromService",null);c.__decorate([M.property({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:oa}}}}})],e.prototype,"objectIdField",void 0);c.__decorate([F.reader("objectIdField",
["layerDefinition.objectIdField","layerDefinition.fields"]),F.reader("service","objectIdField",["objectIdField","fields"])],e.prototype,"readObjectIdFieldFromService",null);c.__decorate([M.property({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],e.prototype,"operationalLayerType",void 0);c.__decorate([M.property(d.outFields)],e.prototype,"outFields",void 0);c.__decorate([M.property({readOnly:!0})],e.prototype,"parsedUrl",null);c.__decorate([M.property({type:String,json:{origins:{"web-scene":{read:!0,
write:!0}},read:!1}})],e.prototype,"path",void 0);c.__decorate([M.property(ea.popupEnabled)],e.prototype,"popupEnabled",void 0);c.__decorate([M.property({type:f,json:{name:"popupInfo",write:!0}})],e.prototype,"popupTemplate",void 0);c.__decorate([M.property({readOnly:!0})],e.prototype,"defaultPopupTemplate",null);c.__decorate([M.property({type:[Xa],readOnly:!0})],e.prototype,"relationships",void 0);c.__decorate([M.property({types:q.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",
enabled:!1}},"web-scene":{types:q.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy(Za,db,Ta){return{ignoreOrigin:null==Ta?void 0:Ta.writeLayerSchema}}}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy(Za,db,Ta){return{ignoreOrigin:null==Ta?void 0:Ta.writeLayerSchema}}}}})],e.prototype,"renderer",null);c.__decorate([F.reader("service","renderer",["drawingInfo.renderer","defaultSymbol"]),F.reader("renderer",["layerDefinition.drawingInfo.renderer",
"layerDefinition.defaultSymbol"])],e.prototype,"readRenderer",null);c.__decorate([M.property()],e.prototype,"sourceJSON",void 0);c.__decorate([M.property({type:Boolean})],e.prototype,"returnM",void 0);c.__decorate([M.property({type:Boolean})],e.prototype,"returnZ",void 0);c.__decorate([M.property(ea.screenSizePerspectiveEnabled)],e.prototype,"screenSizePerspectiveEnabled",void 0);c.__decorate([M.property({clonable:!1})],e.prototype,"source",null);c.__decorate([I.cast("source")],e.prototype,"castSource",
null);c.__decorate([F.reader("portal-item","source",["featureSet"]),F.reader("web-map","source",["featureSet"])],e.prototype,"readSource",null);c.__decorate([M.property({readOnly:!0})],e.prototype,"serviceDefinitionExpression",void 0);c.__decorate([F.reader("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],e.prototype,"readServiceDefinitionExpression",null);c.__decorate([M.property({type:S,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],
e.prototype,"spatialReference",void 0);c.__decorate([M.property({type:Number})],e.prototype,"subtypeCode",void 0);c.__decorate([M.property({type:[L]})],e.prototype,"templates",void 0);c.__decorate([F.reader("templates",["editFieldsInfo","creatorField","editorField","templates"])],e.prototype,"readTemplates",null);c.__decorate([M.property({type:ka})],e.prototype,"timeInfo",void 0);c.__decorate([M.property()],e.prototype,"title",void 0);c.__decorate([F.reader("service","title",["name"]),F.reader("portal-item",
"title",["layerDefinition.title","layerDefinition.name","title"])],e.prototype,"readTitle",null);c.__decorate([F.reader("web-map","title",["layerDefinition.name","title"])],e.prototype,"readTitleFromWebMap",null);c.__decorate([M.property({type:String})],e.prototype,"sublayerTitleMode",void 0);c.__decorate([M.property({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],e.prototype,"trackIdField",void 0);c.__decorate([M.property({json:{read:!1}})],e.prototype,"type",void 0);c.__decorate([M.property({type:String})],
e.prototype,"typeIdField",void 0);c.__decorate([F.reader("service","typeIdField"),F.reader("typeIdField",["layerDefinition.typeIdField"])],e.prototype,"readTypeIdField",null);c.__decorate([M.property({type:[R]})],e.prototype,"types",void 0);c.__decorate([F.reader("service","types",["types"]),F.reader("types",["layerDefinition.types"])],e.prototype,"readTypes",null);c.__decorate([M.property({readOnly:!0,json:{write:!1}})],e.prototype,"serverGens",void 0);c.__decorate([M.property({type:h.ofType(pa.FeatureIndex),
readOnly:!0})],e.prototype,"indexes",void 0);c.__decorate([M.property(ea.url)],e.prototype,"url",null);c.__decorate([J.writer("url")],e.prototype,"writeUrl",null);c.__decorate([M.property({readOnly:!0})],e.prototype,"userIsAdmin",void 0);c.__decorate([M.property({json:{origins:{service:{read:!0}},read:!1}})],e.prototype,"version",void 0);c.__decorate([F.reader("service","version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],
e.prototype,"readVersion",null);c.__decorate([M.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],e.prototype,"visible",void 0);c.__decorate([F.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],e.prototype,"readVisible",null);e=c.__decorate([E.subclass("esri.layers.FeatureLayer")],e);const gb=P.createTypeReader({types:p.symbolTypesRenderer});return e})},"esri/PopupTemplate":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/AttachmentsContent ./popup/content/FieldsContent ./popup/content/ExpressionContent ./popup/content/Content ./popup/content/CustomContent".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A,w,y,z,C,B,D,G,K,M,N){var I;w=c.ofType({key:"type",defaultKeyValue:"button",base:w,typeMap:{button:y,toggle:z}});const F={base:M,key:"type",typeMap:{media:C,custom:N,text:B,attachments:D,fields:G,expression:K}},E=l.getLogger("esri.PopupTemplate"),J=["attachments","fields","media","text","expression"];f=I=function(P){function W(){var Y=P.apply(this,arguments)||this;Y.actions=null;Y.content="";Y.expressionInfos=null;Y.fieldInfos=null;Y.layerOptions=null;
Y.lastEditInfoEnabled=!0;Y.outFields=null;Y.overwriteActions=!1;Y.returnGeometry=!1;Y.title="";Y.relatedRecordsInfo=null;return Y}a._inheritsLoose(W,P);var Z=W.prototype;Z.castContent=function(Y){if(Array.isArray(Y))return Y.map(S=>q.ensureOneOfType(F,S));if("string"===typeof Y||"function"===typeof Y||Y instanceof HTMLElement||u.isPromiseLike(Y))return Y;E.error("content error","unsupported content value",{value:Y});return null};Z.readContent=function(Y,S){({popupElements:Y}=S);return Array.isArray(Y)&&
0<Y.length?this._readPopupInfoElements(S):this._readPopupInfo(S)};Z.writeContent=function(Y,S,qa,xa){"string"===typeof Y?S.description=Y:Array.isArray(Y)&&(S.popupElements=Y.filter(Fa=>-1!==J.indexOf(Fa.type)).map(Fa=>Fa&&Fa.toJSON(xa)),S.popupElements.forEach(Fa=>{"attachments"===Fa.type?this._writeAttachmentContent(S):"media"===Fa.type?this._writeMediaContent(Fa,S):"text"===Fa.type&&this._writeTextContent(Fa,S)}))};Z.writeFieldInfos=function(Y,S,qa,xa){({content:qa}=this);qa=Array.isArray(qa)?qa:
null;if(Y){const Fa=qa?qa.filter(V=>"fields"===V.type):[],la=Fa.length&&Fa.every(V=>{var aa;return null==(aa=V.fieldInfos)?void 0:aa.length});S.fieldInfos=Y.filter(Boolean).map(V=>{V=V.toJSON(xa);la&&(V.visible=!1);return V})}if(qa)for(const Fa of qa)"fields"===Fa.type&&this._writeFieldsContent(Fa,S)};Z.writeLayerOptions=function(Y,S,qa,xa){S[qa]=!Y||null===Y.showNoDataRecords&&null===Y.returnTopmostRaster?null:Y.toJSON(xa)};Z.writeTitle=function(Y,S){S.title=Y||""};Z.clone=function(){var {actions:Y}=
this;Y=Y?d.clone(Y.toArray()):[];return new I({actions:Y,content:Array.isArray(this.content)?d.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?d.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?d.clone(this.fieldInfos):null,layerOptions:this.layerOptions?d.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?d.clone(this.outFields):null,overwriteActions:this.overwriteActions,
returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?d.clone(this.relatedRecordsInfo):null})};Z.collectRequiredFields=function(){var Y=a._asyncToGenerator(function*(S,qa){const xa=this.expressionInfos||[];yield this._collectExpressionInfoFields(S,qa,[...xa,...this._getContentExpressionInfos(this.content,xa)]);k.collectFields(S,qa,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])});
return function(S,qa){return Y.apply(this,arguments)}}();Z.getRequiredFields=function(){var Y=a._asyncToGenerator(function*(S){const qa=new Set;yield this.collectRequiredFields(qa,S);return[...qa].sort()});return function(S){return Y.apply(this,arguments)}}();Z._writeFieldsContent=function(Y,S){Array.isArray(Y.fieldInfos)&&Y.fieldInfos.length&&(Y=d.clone(Y.fieldInfos),Array.isArray(S.fieldInfos)?Y.forEach(qa=>{const xa=S.fieldInfos.find(Fa=>Fa.fieldName.toLowerCase()===qa.fieldName.toLowerCase());
xa?xa.visible=!0:S.fieldInfos.push(qa)}):S.fieldInfos=Y)};Z._writeAttachmentContent=function(Y){Y.showAttachments||(Y.showAttachments=!0)};Z._writeTextContent=function(Y,S){!S.description&&Y.text&&(S.description=Y.text)};Z._writeMediaContent=function(Y,S){Array.isArray(Y.mediaInfos)&&Y.mediaInfos.length&&(Y=d.clone(Y.mediaInfos),Array.isArray(S.mediaInfos)?S.mediaInfos=[...S.mediaInfos,...Y]:S.mediaInfos=Y)};Z._readPopupInfoElements=function({description:Y,mediaInfos:S,popupElements:qa}){var xa=!1,
Fa=!1;return qa.map(la=>{if("media"===la.type)return la.mediaInfos||!S||Fa||(la.mediaInfos=S,Fa=!0),C.fromJSON(la);if("text"===la.type)return la.text||!Y||xa||(la.text=Y,xa=!0),B.fromJSON(la);if("attachments"===la.type)return D.fromJSON(la);if("fields"===la.type)return G.fromJSON(la);if("expression"===la.type)return K.fromJSON(la)}).filter(Boolean)};Z._readPopupInfo=function({description:Y,mediaInfos:S,showAttachments:qa}){const xa=[];Y?xa.push(new B({text:Y})):xa.push(new G);Array.isArray(S)&&S.length&&
xa.push(C.fromJSON({mediaInfos:S}));qa&&xa.push(D.fromJSON({displayType:"auto"}));return xa.length?xa:Y};Z._getContentElementFields=function(Y){var S=null==Y?void 0:Y.type;return"attachments"===S?[...this._extractFieldNames(Y.title),...this._extractFieldNames(Y.description)]:"custom"===S?Y.outFields||[]:"fields"===S?[...this._extractFieldNames(Y.title),...this._extractFieldNames(Y.description),...this._getFieldInfoFields(Y.fieldInfos||this.fieldInfos)]:"media"===S?(S=Y.mediaInfos||[],[...this._extractFieldNames(Y.title),
...this._extractFieldNames(Y.description),...S.reduce((qa,xa)=>[...qa,...this._getMediaInfoFields(xa)],[])]):"text"===S?this._extractFieldNames(Y.text):[]};Z._getMediaInfoFields=function(Y){const {caption:S,title:qa,value:xa}=Y,{fields:Fa=[],normalizeField:la,tooltipField:V,sourceURL:aa,linkURL:Ca}=xa||{};Y=[...this._extractFieldNames(qa),...this._extractFieldNames(S),...this._extractFieldNames(aa),...this._extractFieldNames(Ca),...Fa];la&&Y.push(la);V&&Y.push(V);return Y};Z._getContentExpressionInfos=
function(Y,S){return Array.isArray(Y)?Y.reduce((qa,xa)=>[...qa,..."expression"===xa.type&&xa.expressionInfo?[xa.expressionInfo]:[]],S):[]};Z._getContentFields=function(Y){return"string"===typeof Y?this._extractFieldNames(Y):Array.isArray(Y)?Y.reduce((S,qa)=>[...S,...this._getContentElementFields(qa)],[]):[]};Z._collectExpressionInfoFields=function(){var Y=a._asyncToGenerator(function*(S,qa,xa){xa&&(yield Promise.all(xa.map(Fa=>k.collectArcadeFieldNames(S,qa,Fa.expression))))});return function(S,qa,
xa){return Y.apply(this,arguments)}}();Z._getFieldInfoFields=function(Y){return Y?Y.filter(S=>"undefined"===typeof S.visible?!0:!!S.visible).map(S=>S.fieldName).filter(S=>-1===S.indexOf("relationships/")&&-1===S.indexOf("expression/")):[]};Z._getActionsFields=function(Y){return Y?Y.toArray().reduce((S,qa)=>[...S,...this._getActionFields(qa)],[]):[]};Z._getActionFields=function(Y){const {className:S,title:qa,type:xa}=Y;Y="button"===xa||"toggle"===xa?Y.image:"";return[...this._extractFieldNames(qa),
...this._extractFieldNames(S),...this._extractFieldNames(Y)]};Z._getTitleFields=function(Y){return"string"===typeof Y?this._extractFieldNames(Y):[]};Z._extractFieldNames=function(Y){if(!Y||"string"!==typeof Y)return[];Y=Y.match(/{[^}]*}/g);if(!Y)return[];const S=/\{(\w+):.+\}/;return(Y=Y.filter(qa=>!(0===qa.indexOf("{relationships/")||0===qa.indexOf("{expression/"))).map(qa=>qa.replace(S,"{$1}")))?Y.map(qa=>qa.slice(1,-1)):[]};return W}(f.JSONSupport);b.__decorate([t.property({type:w})],f.prototype,
"actions",void 0);b.__decorate([t.property()],f.prototype,"content",void 0);b.__decorate([g.cast("content")],f.prototype,"castContent",null);b.__decorate([n.reader("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],f.prototype,"readContent",null);b.__decorate([r.writer("content",{popupElements:{type:c.ofType(p.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:c.ofType(A.types)},description:{type:String}})],f.prototype,"writeContent",null);b.__decorate([t.property({type:[e],
json:{write:!0}})],f.prototype,"expressionInfos",void 0);b.__decorate([t.property({type:[h]})],f.prototype,"fieldInfos",void 0);b.__decorate([r.writer("fieldInfos")],f.prototype,"writeFieldInfos",null);b.__decorate([t.property({type:v})],f.prototype,"layerOptions",void 0);b.__decorate([r.writer("layerOptions")],f.prototype,"writeLayerOptions",null);b.__decorate([t.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],f.prototype,"lastEditInfoEnabled",
void 0);b.__decorate([t.property()],f.prototype,"outFields",void 0);b.__decorate([t.property()],f.prototype,"overwriteActions",void 0);b.__decorate([t.property()],f.prototype,"returnGeometry",void 0);b.__decorate([t.property({json:{type:String}})],f.prototype,"title",void 0);b.__decorate([r.writer("title")],f.prototype,"writeTitle",null);b.__decorate([t.property({type:x,json:{write:!0}})],f.prototype,"relatedRecordsInfo",void 0);return f=I=b.__decorate([m.subclass("esri.PopupTemplate")],f)})},"esri/popup/content":function(){define("exports ./content/AttachmentsContent ./content/Content ./content/CustomContent ./content/ExpressionContent ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),
function(a,b,c,f,d,l,u,t){const g={base:null,key:"type",typeMap:{attachment:b,media:u,text:t,expression:d,field:l}};a.AttachmentsContent=b;a.BaseContent=c;a.CustomContent=f;a.ExpressionContent=d;a.FieldsContent=l;a.MediaContent=u;a.TextContent=t;a.isContent=function(n){return n instanceof c};a.persistableTypes=g;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/content/AttachmentsContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,f,d,l,u,t){var g;f=g=function(n){function m(r){r=n.call(this,r)||this;r.description=null;r.displayType="auto";r.title=null;r.type="attachments";return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({description:this.description,displayType:this.displayType,title:this.title})};return m}(t);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"description",void 0);b.__decorate([c.property({type:["auto","preview","list"],json:{write:!0}})],f.prototype,
"displayType",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"title",void 0);b.__decorate([c.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=g=b.__decorate([u.subclass("esri.popup.content.AttachmentsContent")],f)})},"esri/popup/content/Content":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){c=function(g){function n(m){m=g.call(this,m)||this;m.type=null;return m}a._inheritsLoose(n,g);return n}(c.JSONSupport);b.__decorate([f.property({type:"attachments custom fields media text expression".split(" "),readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.popup.content.Content")],c)})},"esri/popup/content/CustomContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,f,d,l,u){var t;d=t=function(g){function n(m){m=g.call(this,m)||this;m.creator=null;m.destroyer=null;m.outFields=null;m.type="custom";return m}a._inheritsLoose(n,g);n.prototype.clone=function(){return new t({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?c.clone(this.outFields):null})};return n}(u);b.__decorate([f.property()],d.prototype,"creator",void 0);b.__decorate([f.property()],d.prototype,"destroyer",void 0);b.__decorate([f.property()],d.prototype,
"outFields",void 0);b.__decorate([f.property({type:["custom"],readOnly:!0})],d.prototype,"type",void 0);return d=t=b.__decorate([l.subclass("esri.popup.content.CustomContent")],d)})},"esri/popup/content/ExpressionContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../ElementExpressionInfo ./Content".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;f=n=function(m){function r(q){q=m.call(this,q)||this;q.expressionInfo=null;q.type="expression";return q}a._inheritsLoose(r,m);r.prototype.clone=function(){var q;return new n({expressionInfo:null==(q=this.expressionInfo)?void 0:q.clone()})};return r}(g);b.__decorate([c.property({type:t,json:{write:!0}})],f.prototype,"expressionInfo",void 0);b.__decorate([c.property({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=n=b.__decorate([u.subclass("esri.popup.content.ExpressionContent")],
f)})},"esri/popup/ElementExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t){var g;c=g=function(n){function m(r){r=n.call(this,r)||this;r.title=null;r.expression=null;r.returnType="dictionary";return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({title:this.title,
expression:this.expression})};return m}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([f.property({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"returnType",void 0);return c=g=b.__decorate([t.subclass("esri.popup.ElementExpressionInfo")],c)})},"esri/popup/content/FieldsContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../FieldInfo ./Content".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;d=n=function(m){function r(k){k=m.call(this,k)||this;k.attributes=null;k.description=null;k.fieldInfos=null;k.title=null;k.type="fields";return k}a._inheritsLoose(r,m);var q=r.prototype;q.writeFieldInfos=function(k,p){p.fieldInfos=k&&k.map(e=>e.toJSON())};q.clone=function(){return new n(c.clone({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))};return r}(g);b.__decorate([f.property({type:Object,json:{write:!0}})],
d.prototype,"attributes",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"description",void 0);b.__decorate([f.property({type:[t]})],d.prototype,"fieldInfos",void 0);b.__decorate([u.writer("fieldInfos")],d.prototype,"writeFieldInfos",null);b.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"title",void 0);b.__decorate([f.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=n=b.__decorate([l.subclass("esri.popup.content.FieldsContent")],
d)})},"esri/popup/FieldInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./support/FieldInfoFormat".split(" "),function(a,b,c,f,d,l,u,t,g,n){var m;f=m=function(r){function q(k){k=r.call(this,k)||this;k.fieldName=null;k.format=null;k.isEditable=!1;k.label=
null;k.stringFieldOption="text-box";k.statisticType=null;k.tooltip=null;k.visible=!0;return k}a._inheritsLoose(q,r);q.prototype.clone=function(){return new m({fieldName:this.fieldName,format:this.format?d.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};return q}(f.JSONSupport);b.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"fieldName",void 0);
b.__decorate([l.property({type:n,json:{write:!0}})],f.prototype,"format",void 0);b.__decorate([l.property({type:Boolean,json:{write:!0,default:!1}})],f.prototype,"isEditable",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"label",void 0);b.__decorate([t.enumeration(new c.JSONMap({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],f.prototype,"stringFieldOption",void 0);b.__decorate([l.property({type:"count sum min max avg stddev var".split(" "),
json:{write:!0}})],f.prototype,"statisticType",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"tooltip",void 0);b.__decorate([l.property({type:Boolean,json:{write:!0}})],f.prototype,"visible",void 0);return f=m=b.__decorate([g.subclass("esri.popup.FieldInfo")],f)})},"esri/popup/support/FieldInfoFormat":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../intl/date ../../intl/number".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r){var q;f=q=function(k){function p(h){h=k.call(this,h)||this;h.dateFormat=null;h.dateTimeFormatOptions=null;h.digitSeparator=!1;h.places=null;return h}a._inheritsLoose(p,k);var e=p.prototype;e.clone=function(){return new q({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};e.format=function(h){return this.dateFormat?m.formatDate(h,{...m.convertDateFormatToIntlOptions(this.dateFormat),...this.dateTimeFormatOptions}):r.formatNumber(h,
r.convertNumberFormatToIntlOptions(this))};return p}(f.JSONSupport);b.__decorate([g.enumeration(c.dictionary)],f.prototype,"dateFormat",void 0);b.__decorate([d.property({type:Object,json:{read:!1}})],f.prototype,"dateTimeFormatOptions",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],f.prototype,"digitSeparator",void 0);b.__decorate([d.property({type:t.Integer,json:{write:!0}})],f.prototype,"places",void 0);return f=q=b.__decorate([n.subclass("esri.popup.support.FieldInfoFormat")],
f)})},"esri/core/date":function(){define(["exports","./jsonMap"],function(a,b){const c={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')",
"short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')","short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')",
"long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')",
"day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')","day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')",
"long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",
year:"(datePattern: 'y', selector: 'date')"};b=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",
longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",
longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});const f=b.toJSON.bind(b),d=b.fromJSON.bind(b);a.dictionary=b;a.formats=c;a.fromJSON=d;a.getFormat=function(l){return c[l]};a.toJSON=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/date":function(){define(["exports",
"../core/jsonMap","./locale"],function(a,b,c){function f(p){p=p||k;if(!q.has(p)){var e=c.getLocale();e=r[c.getLocale()]||e;q.set(p,new Intl.DateTimeFormat(e,p))}return q.get(p)}var d={year:"numeric",month:"numeric",day:"numeric"},l={year:"numeric",month:"long",day:"numeric"},u={year:"numeric",month:"short",day:"numeric"};const t={year:"numeric",month:"long",weekday:"long",day:"numeric"},g={hour:"numeric",minute:"numeric"},n={...g,second:"numeric"},m={"short-date":d,"short-date-short-time":{...d,...g},
"short-date-short-time-24":{...d,...g,hour12:!1},"short-date-long-time":{...d,...n},"short-date-long-time-24":{...d,...n,hour12:!1},"short-date-le":d,"short-date-le-short-time":{...d,...g},"short-date-le-short-time-24":{...d,...g,hour12:!1},"short-date-le-long-time":{...d,...n},"short-date-le-long-time-24":{...d,...n,hour12:!1},"long-month-day-year":l,"long-month-day-year-short-time":{...l,...g},"long-month-day-year-short-time-24":{...l,...g,hour12:!1},"long-month-day-year-long-time":{...l,...n},
"long-month-day-year-long-time-24":{...l,...n,hour12:!1},"day-short-month-year":u,"day-short-month-year-short-time":{...u,...g},"day-short-month-year-short-time-24":{...u,...g,hour12:!1},"day-short-month-year-long-time":{...u,...n},"day-short-month-year-long-time-24":{...u,...n,hour12:!1},"long-date":t,"long-date-short-time":{...t,...g},"long-date-short-time-24":{...t,...g,hour12:!1},"long-date-long-time":{...t,...n},"long-date-long-time-24":{...t,...n,hour12:!1},"long-month-year":{month:"long",year:"numeric"},
"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":g,"long-time":n};b=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",
longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",
dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});d=b.apiValues;l=b.toJSON.bind(b);u=b.fromJSON.bind(b);const r={ar:"ar-u-nu-latn-ca-gregory"};let q=new WeakMap,k=m["short-date-short-time"];c.beforeLocaleChange(()=>{q=
new WeakMap;k=m["short-date-short-time"]});a.convertDateFormatToIntlOptions=function(p){return m[p]||null};a.dateFormats=d;a.dictionary=b;a.formatDate=function(p,e){return f(e).format(p)};a.fromJSON=u;a.getDateTimeFormatter=f;a.toJSON=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/number":function(){define(["exports","../core/maybe","./locale"],function(a,b,c){function f(t){const g=t||u;if(!l.has(g)){var n=c.getLocale();n=d[c.getLocale()]||n;l.set(g,new Intl.NumberFormat(n,t))}return b.assumeNonNull(l.get(g))}
const d={ar:"ar-u-nu-latn"};let l=new WeakMap,u={};c.beforeLocaleChange(()=>{l=new WeakMap;u={}});a.convertNumberFormatToIntlOptions=function(t={}){const g={};null!=t.digitSeparator&&(g.useGrouping=t.digitSeparator);null!=t.places&&(g.minimumFractionDigits=g.maximumFractionDigits=t.places);return g};a.formatNumber=function(t,g){return f(g).format(t)};a.getFormatter=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/content/MediaContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p){var e;d=e=function(h){function v(A){A=h.call(this,A)||this;A.activeMediaInfoIndex=null;A.attributes=null;A.description=null;A.mediaInfos=null;A.title=null;A.type="media";return A}a._inheritsLoose(v,h);var x=v.prototype;x.readMediaInfos=function(A){return A&&A.map(w=>{if("image"===w.type)return r.fromJSON(w);if("barchart"===w.type)return g.fromJSON(w);if("columnchart"===w.type)return n.fromJSON(w);if("linechart"===w.type)return q.fromJSON(w);if("piechart"===
w.type)return k.fromJSON(w)}).filter(Boolean)};x.writeMediaInfos=function(A,w){w.mediaInfos=A&&A.map(y=>y.toJSON())};x.clone=function(){return new e(c.clone({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))};return v}(m);b.__decorate([f.property()],d.prototype,"activeMediaInfoIndex",void 0);b.__decorate([f.property({type:Object,json:{write:!0}})],d.prototype,"attributes",void 0);b.__decorate([f.property({type:String,
json:{write:!0}})],d.prototype,"description",void 0);b.__decorate([f.property({types:[p.types]})],d.prototype,"mediaInfos",void 0);b.__decorate([l.reader("mediaInfos")],d.prototype,"readMediaInfos",null);b.__decorate([t.writer("mediaInfos")],d.prototype,"writeMediaInfos",null);b.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"title",void 0);b.__decorate([f.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=e=b.__decorate([u.subclass("esri.popup.content.MediaContent")],
d)})},"esri/popup/content/BarChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,c,f,d,l,u,t,g){var n;f=n=function(m){function r(q){q=m.call(this,q)||this;q.type="bar-chart";return q}a._inheritsLoose(r,m);r.prototype.clone=
function(){return new n({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return r}(t);b.__decorate([c.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:g.chartTypeKebabDict.write}})],f.prototype,"type",void 0);return f=n=b.__decorate([u.subclass("esri.popup.content.BarChartMediaInfo")],f)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(a,b,c,f,d,l,u,t,g){f=function(n){function m(r){r=n.call(this,r)||this;r.type=null;r.value=null;return r}a._inheritsLoose(m,n);return m}(t);b.__decorate([c.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);b.__decorate([c.property({type:g,json:{write:!0}})],f.prototype,"value",void 0);return f=b.__decorate([u.subclass("esri.popup.content.mixins.ChartMediaInfo")],f)})},"esri/popup/content/mixins/MediaInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){c=function(g){function n(m){m=g.call(this,m)||this;m.altText=null;m.caption="";m.title="";m.type=null;return m}a._inheritsLoose(n,g);return n}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"altText",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"caption",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([f.property({type:["image","bar-chart","column-chart",
"line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.popup.content.mixins.MediaInfo")],c)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./ChartMediaInfoValueSeries".split(" "),
function(a,b,c,f,d,l,u,t){var g;c=g=function(n){function m(r){r=n.call(this,r)||this;r.fields=[];r.normalizeField=null;r.series=[];r.tooltipField=null;return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({fields:f.clone(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})};return m}(c.JSONSupport);b.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"fields",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,
"normalizeField",void 0);b.__decorate([d.property({type:[t],json:{read:!1}})],c.prototype,"series",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"tooltipField",void 0);return c=g=b.__decorate([u.subclass("esri.popup.content.support.ChartMediaInfoValue")],c)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){var g;c=g=function(n){function m(r){r=n.call(this,r)||this;r.tooltip=null;r.value=null;return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({tooltip:this.tooltip,value:this.value})};return m}(c);b.__decorate([f.property()],c.prototype,"tooltip",void 0);b.__decorate([f.property()],c.prototype,"value",void 0);return c=g=b.__decorate([t.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],c)})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["exports",
"../../../core/jsonMap"],function(a,b){b=b.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});a.chartTypeKebabDict=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;f=n=function(m){function r(q){q=m.call(this,q)||this;q.type="column-chart";return q}a._inheritsLoose(r,m);r.prototype.clone=function(){return new n({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return r}(t);b.__decorate([c.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:g.chartTypeKebabDict.write}})],f.prototype,"type",void 0);return f=n=b.__decorate([u.subclass("esri.popup.content.ColumnChartMediaInfo")],
f)})},"esri/popup/content/ImageMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),function(a,b,c,f,d,l,u,t,g){var n;f=n=function(m){function r(q){q=m.call(this,q)||this;q.refreshInterval=null;q.type="image";q.value=null;return q}a._inheritsLoose(r,
m);r.prototype.clone=function(){return new n({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};return r}(t);b.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"refreshInterval",void 0);b.__decorate([c.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);b.__decorate([c.property({type:g,json:{write:!0}})],f.prototype,"value",void 0);return f=n=b.__decorate([u.subclass("esri.popup.content.ImageMediaInfo")],
f)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t){var g;c=g=function(n){function m(r){r=n.call(this,r)||this;r.linkURL=null;r.sourceURL=null;return r}a._inheritsLoose(m,
n);m.prototype.clone=function(){return new g({linkURL:this.linkURL,sourceURL:this.sourceURL})};return m}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"linkURL",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"sourceURL",void 0);return c=g=b.__decorate([t.subclass("esri.popup.content.support.ImageMediaInfoValue")],c)})},"esri/popup/content/LineChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;f=n=function(m){function r(q){q=m.call(this,q)||this;q.type="line-chart";return q}a._inheritsLoose(r,m);r.prototype.clone=function(){return new n({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return r}(t);b.__decorate([c.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:g.chartTypeKebabDict.write}})],f.prototype,"type",void 0);return f=n=b.__decorate([u.subclass("esri.popup.content.LineChartMediaInfo")],
f)})},"esri/popup/content/PieChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,c,f,d,l,u,t,g){var n;f=n=function(m){function r(q){q=m.call(this,q)||this;q.type="pie-chart";return q}a._inheritsLoose(r,m);r.prototype.clone=
function(){return new n({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return r}(t);b.__decorate([c.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:g.chartTypeKebabDict.write}})],f.prototype,"type",void 0);return f=n=b.__decorate([u.subclass("esri.popup.content.PieChartMediaInfo")],f)})},"esri/popup/content/support/mediaInfoTypes":function(){define("exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,b,c,f,d,l,u){a.types={base:u,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":b,"column-chart":c,"line-chart":d,"pie-chart":l,image:f}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/content/TextContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,f,d,l,u,t){var g;f=g=function(n){function m(r){r=n.call(this,r)||this;r.text=null;r.type="text";return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({text:this.text})};return m}(t);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"text",void 0);b.__decorate([c.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=g=b.__decorate([u.subclass("esri.popup.content.TextContent")],f)})},"esri/popup/ExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){var g;c=g=function(n){function m(r){r=n.call(this,r)||this;r.name=null;r.title=null;r.expression=null;r.returnType=null;return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};return m}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);
b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([f.property({type:["string","number"],json:{write:!0}})],c.prototype,"returnType",void 0);return c=g=b.__decorate([t.subclass("esri.popup.ExpressionInfo")],c)})},"esri/popup/LayerOptions":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){var g;c=g=function(n){function m(r){r=n.call(this,r)||this;r.returnTopmostRaster=null;r.showNoDataRecords=null;return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};return m}(c.JSONSupport);b.__decorate([f.property({type:Boolean,json:{write:!0}})],c.prototype,"returnTopmostRaster",void 0);b.__decorate([f.property({type:Boolean,json:{write:!0}})],c.prototype,"showNoDataRecords",
void 0);return c=g=b.__decorate([t.subclass("esri.popup.LayerOptions")],c)})},"esri/popup/RelatedRecordsInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/RelatedRecordsInfoFieldOrder".split(" "),function(a,b,c,f,d,l,u,t){var g;c=g=function(n){function m(r){r=n.call(this,r)||this;r.showRelatedRecords=null;
r.orderByFields=null;return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?f.clone(this.orderByFields):null})};return m}(c.JSONSupport);b.__decorate([d.property({type:Boolean,json:{write:!0}})],c.prototype,"showRelatedRecords",void 0);b.__decorate([d.property({type:[t],json:{write:!0}})],c.prototype,"orderByFields",void 0);return c=g=b.__decorate([u.subclass("esri.popup.RelatedRecordsInfo")],c)})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){var g;c=g=function(n){function m(r){r=n.call(this,r)||this;r.field=null;r.order=null;return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({field:this.field,order:this.order})};return m}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);b.__decorate([f.property({type:["asc","desc"],json:{write:!0}})],c.prototype,"order",void 0);return c=g=b.__decorate([t.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],
c)})},"esri/support/actions/ActionBase":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t,g){var n;c=n=function(m){function r(q){q=m.call(this,q)||this;q.active=!1;q.className=null;q.disabled=!1;q.id=null;q.indicator=!1;
q.title=null;q.type=null;q.visible=!0;return q}a._inheritsLoose(r,m);r.prototype.clone=function(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};return r}(f.IdentifiableMixin(c));b.__decorate([d.property()],c.prototype,"active",void 0);b.__decorate([d.property()],c.prototype,"className",void 0);b.__decorate([d.property()],c.prototype,"disabled",void 0);b.__decorate([d.property()],c.prototype,
"id",void 0);b.__decorate([d.property()],c.prototype,"indicator",void 0);b.__decorate([d.property()],c.prototype,"title",void 0);b.__decorate([d.property()],c.prototype,"type",void 0);b.__decorate([d.property()],c.prototype,"visible",void 0);return c=n=b.__decorate([g.subclass("esri.support.actions.ActionBase")],c)})},"esri/support/actions/ActionButton":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,c,f,d,l,u,t){var g;f=g=function(n){function m(r){r=n.call(this,r)||this;r.image=null;r.type="button";return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};return m}(t);b.__decorate([c.property()],f.prototype,"image",void 0);return f=g=b.__decorate([u.subclass("esri.support.Action.ActionButton")],f)})},"esri/support/actions/ActionToggle":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,c,f,d,l,u,t){var g;f=g=function(n){function m(r){r=n.call(this,r)||this;r.image=null;r.type="toggle";r.value=!1;return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};return m}(t);b.__decorate([c.property()],f.prototype,"image",void 0);b.__decorate([c.property()],f.prototype,"value",void 0);
return f=g=b.__decorate([u.subclass("esri.support.Action.ActionToggle")],f)})},"esri/renderers/ClassBreaksRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/commonProperties ./support/LegendOptions ../support/arcadeOnDemand".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A,w){var y;const z=l.getLogger("esri.renderers.ClassBreaksRenderer");f=new f.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});const C=k.ensureType(v);e=y=function(B){function D(K){K=B.call(this,K)||this;K._compiledValueExpression={valueExpression:null,compiledFunction:null};K.backgroundFillSymbol=null;K.classBreakInfos=null;K.defaultLabel=null;K.defaultSymbol=null;K.field=null;K.isMaxInclusive=
!0;K.legendOptions=null;K.normalizationField=null;K.normalizationTotal=null;K.type="class-breaks";K.valueExpression=null;K.valueExpressionTitle=null;K._set("classBreakInfos",[]);return K}a._inheritsLoose(D,B);var G=D.prototype;G.readClassBreakInfos=function(K,M,N){if(Array.isArray(K)){var I=M.minValue;return K.map(F=>{const E=new v;E.read(F,N);null==E.minValue&&(E.minValue=I);null==E.maxValue&&(E.maxValue=E.minValue);I=E.maxValue;return E})}};G.writeClassBreakInfos=function(K,M,N,I){K=K.map(F=>F.write({},
I));this._areClassBreaksConsecutive()&&K.forEach(F=>delete F.classMinValue);M[N]=K};G.castField=function(K){return null==K?K:"function"===typeof K?(z.error(".field: field must be a string value"),null):k.ensureString(K)};G.addClassBreakInfo=function(K,M,N){let I=null;I="number"===typeof K?new v({minValue:K,maxValue:M,symbol:c.ensureType(N)}):C(d.clone(K));this.classBreakInfos.push(I);1===this.classBreakInfos.length&&this.notifyChange("minValue")};G.removeClassBreakInfo=function(K,M){const N=this.classBreakInfos.length;
for(let I=0;I<N;I++){const F=[this.classBreakInfos[I].minValue,this.classBreakInfos[I].maxValue];if(F[0]===K&&F[1]===M){this.classBreakInfos.splice(I,1);break}}};G.getBreakIndex=function(K,M){this.valueExpression&&(u.isNone(M)||u.isNone(M.arcade))&&z.warn("");return this.valueExpression?this._getBreakIndexForExpression(K,M):this._getBreakIndexForField(K)};G.getClassBreakInfo=function(){var K=a._asyncToGenerator(function*(M,N){let I=N;this.valueExpression&&(u.isNone(N)||u.isNone(N.arcade))&&(I={...I,
arcade:yield w.loadArcade()});M=this.getBreakIndex(M,I);return-1!==M?this.classBreakInfos[M]:null});return function(M,N){return K.apply(this,arguments)}}();G.getSymbol=function(K,M){if(this.valueExpression&&(u.isNone(M)||u.isNone(M.arcade)))z.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return K=this.getBreakIndex(K,M),-1<K?this.classBreakInfos[K].symbol:this.defaultSymbol};G.getSymbolAsync=function(){var K=a._asyncToGenerator(function*(M,N){let I=N;if(this.valueExpression&&
(u.isNone(N)||u.isNone(N.arcade))){N=yield w.loadArcade();const {arcadeUtils:F}=N;F.hasGeometryOperations(this.valueExpression)&&(yield F.enableGeometryOperations());I={...I,arcade:N}}M=this.getBreakIndex(M,I);return-1<M?this.classBreakInfos[M].symbol:this.defaultSymbol});return function(M,N){return K.apply(this,arguments)}}();G.getSymbols=function(){const K=[];this.classBreakInfos.forEach(M=>{M.symbol&&K.push(M.symbol)});this.defaultSymbol&&K.push(this.defaultSymbol);return K};G.getAttributeHash=
function(){return this.visualVariables&&this.visualVariables.reduce((K,M)=>K+M.getAttributeHash(),"")};G.getMeshHash=function(){const K=JSON.stringify(this.backgroundFillSymbol),M=JSON.stringify(this.defaultSymbol),N=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`,I=this.classBreakInfos.reduce((F,E)=>F+E.getMeshHash(),"");return`${K}.${M}.${I}.${N}.${this.field}.${this.valueExpression}`};G.clone=function(){return new y({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&
this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:d.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:d.clone(this.visualVariables),legendOptions:d.clone(this.legendOptions),
authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};G.collectRequiredFields=function(){var K=a._asyncToGenerator(function*(M,N){M=[this.collectVVRequiredFields(M,N),this.collectSymbolFields(M,N)];yield Promise.all(M)});return function(M,N){return K.apply(this,arguments)}}();G.collectSymbolFields=function(){var K=a._asyncToGenerator(function*(M,N){const I=[...this.getSymbols().map(F=>F.collectRequiredFields(M,N)),p.collectArcadeFieldNames(M,N,this.valueExpression)];p.collectField(M,N,this.field);
p.collectField(M,N,this.normalizationField);yield Promise.all(I)});return function(M,N){return K.apply(this,arguments)}}();G._getBreakIndexForExpression=function(K,M){const {viewingMode:N,scale:I,spatialReference:F,arcade:E}=u.unwrapOr(M,{});var J=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;M=u.unwrap(E).arcadeUtils;J||(J=M.createSyntaxTree(this.valueExpression),J=M.createFunction(J),this._compiledValueExpression.compiledFunction=
J);this._compiledValueExpression.valueExpression=this.valueExpression;K=M.executeFunction(J,M.createExecContext(K,M.getViewInfo({viewingMode:N,scale:I,spatialReference:F})));return this._getBreakIndexfromInfos(K)};G._getBreakIndexForField=function(K){var M=K.attributes;K=this.normalizationType;let N=parseFloat(M[this.field]);if(K){const I=this.normalizationTotal;M=parseFloat(M[this.normalizationField]);if("log"===K)N=Math.log(N)*Math.LOG10E;else if("percent-of-total"===K&&!isNaN(I))N=N/I*100;else if("field"===
K&&!isNaN(M)){if(isNaN(N)||isNaN(M))return-1;N/=M}}return this._getBreakIndexfromInfos(N)};G._getBreakIndexfromInfos=function(K){const M=this.isMaxInclusive;if(null!=K&&"number"===typeof K&&!isNaN(K))for(let N=0;N<this.classBreakInfos.length;N++){const I=[this.classBreakInfos[N].minValue,this.classBreakInfos[N].maxValue];if(I[0]<=K&&(M?K<=I[1]:K<I[1]))return N}return-1};G._areClassBreaksConsecutive=function(){const K=this.classBreakInfos,M=K.length;for(let N=1;N<M;N++)if(K[N-1].maxValue!==K[N].minValue)return!1;
return!0};a._createClass(D,[{key:"minValue",get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}},{key:"normalizationType",get:function(){let K=this._get("normalizationType");const M=!!this.normalizationField,N=null!=this.normalizationTotal;if(M||N)K=M&&"field"||N&&"percent-of-total"||null,M&&N&&z.warn("warning: both normalizationField and normalizationTotal are set!");else if("field"===K||"percent-of-total"===K)K=null;return K},set:function(K){this._set("normalizationType",
K)}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}}]);return D}(h.VisualVariablesMixin(e));b.__decorate([t.property(x.rendererBackgroundFillSymbolProperty)],e.prototype,"backgroundFillSymbol",void 0);b.__decorate([t.property({type:[v]})],e.prototype,"classBreakInfos",void 0);b.__decorate([m.reader("classBreakInfos")],e.prototype,"readClassBreakInfos",null);b.__decorate([q.writer("classBreakInfos")],e.prototype,"writeClassBreakInfos",null);
b.__decorate([t.property({type:String,json:{write:!0}})],e.prototype,"defaultLabel",void 0);b.__decorate([t.property(x.rendererSymbolProperty)],e.prototype,"defaultSymbol",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([g.cast("field")],e.prototype,"castField",null);b.__decorate([t.property({type:Boolean})],e.prototype,"isMaxInclusive",void 0);b.__decorate([t.property({type:A.default,json:{write:!0}})],e.prototype,"legendOptions",void 0);
b.__decorate([t.property({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],e.prototype,"minValue",null);b.__decorate([t.property({type:String,json:{write:!0}})],e.prototype,"normalizationField",void 0);b.__decorate([t.property({type:Number,cast:B=>k.ensureNumber(B),json:{write:!0}})],e.prototype,"normalizationTotal",void 0);b.__decorate([t.property({type:f.apiValues,value:null,
json:{type:f.jsonValues,read:f.read,write:f.write}})],e.prototype,"normalizationType",null);b.__decorate([n.enumeration({classBreaks:"class-breaks"})],e.prototype,"type",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],e.prototype,"valueExpression",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],e.prototype,"valueExpressionTitle",void 0);return e=y=b.__decorate([r.subclass("esri.renderers.ClassBreaksRenderer")],e)})},"esri/symbols":function(){define("exports ./core/accessorSupport/ensureType ./core/accessorSupport/extensions/serializableProperty/reader ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./chunks/LineCallout3DBorder".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A,w,y,z,C,B,D,G,K,M,N,I,F){const E={base:C,key:"type",typeMap:{"simple-fill":w,"picture-fill":h,"picture-marker":v,"simple-line":y,"simple-marker":z,text:G,"label-3d":n,"line-3d":m,"mesh-3d":k,"point-3d":x,"polygon-3d":A,"web-style":N,cim:f},errorContext:"symbol"},J={base:C,key:"type",typeMap:{"picture-marker":v,"simple-marker":z,text:G,"web-style":N,cim:f},errorContext:"symbol"};c=c.createTypeReader({types:E});const P={base:C,key:"type",typeMap:{"simple-fill":w,
"picture-fill":h,"picture-marker":v,"simple-line":y,"simple-marker":z,text:G,"line-3d":m,"mesh-3d":k,"point-3d":x,"polygon-3d":A,"web-style":N,cim:f},errorContext:"symbol"},W={base:C,key:"type",typeMap:{text:G,"label-3d":n},errorContext:"symbol"},Z={base:C,key:"type",typeMap:{"label-3d":n,"line-3d":m,"mesh-3d":k,"point-3d":x,"polygon-3d":A,"web-style":N},errorContext:"symbol"},Y={base:C,key:"type",typeMap:{"line-3d":m,"mesh-3d":k,"point-3d":x,"polygon-3d":A,"web-style":N,cim:f},errorContext:"symbol"},
S={base:C,key:"type",typeMap:{"label-3d":n},errorContext:"symbol"};b=b.ensureOneOfType(E);a.CIMSymbol=f;a.ExtrudeSymbol3DLayer=d;a.BaseFillSymbol=l;a.FillSymbol3DLayer=u;a.Font=t;a.IconSymbol3DLayer=g;a.LabelSymbol3D=n;a.LineSymbol3D=m;a.LineSymbol3DLayer=r;a.BaseMarkerSymbol=q;a.MeshSymbol3D=k;a.ObjectSymbol3DLayer=p;a.PathSymbol3DLayer=e;a.PictureFillSymbol=h;a.PictureMarkerSymbol=v;a.PointSymbol3D=x;a.PolygonSymbol3D=A;a.SimpleFillSymbol=w;a.SimpleLineSymbol=y;a.SimpleMarkerSymbol=z;a.BaseSymbol=
C;a.BaseSymbol3D=B;a.BaseSymbol3DLayer=D;a.TextSymbol=G;a.TextSymbol3DLayer=K;a.WaterSymbol3DLayer=M;a.WebStyleSymbol=N;a.LineCallout3D=I;a.LineCallout3DBorder=F.LineCallout3DBorder;a.ensureType=b;a.isSymbol=function(qa){return qa instanceof C};a.isSymbol2D=function(qa){if(!qa)return!1;switch(qa.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};a.isSymbol3D=function(qa){if(!qa)return!1;switch(qa.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;
default:return!1}};a.readSymbol=c;a.symbolTypes=E;a.symbolTypes3D=Z;a.symbolTypesCluster=J;a.symbolTypesLabel=W;a.symbolTypesLabel3D=S;a.symbolTypesRenderer=P;a.symbolTypesRenderer3D=Y;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/CIMSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/string ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Symbol".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r){var q;l=q=function(k){function p(h){h=k.call(this,h)||this;h.data=null;h.type="cim";return h}a._inheritsLoose(p,k);var e=p.prototype;e.readData=function(h,v){return v};e.writeData=function(h,v){if(h)for(const x in h)v[x]=h[x]};e.collectRequiredFields=function(){var h=a._asyncToGenerator(function*(v,x){if("CIMSymbolReference"===this.data.type){var A=this.data.primitiveOverrides;A&&(A=A.map(w=>m.collectArcadeFieldNames(v,x,w.valueExpressionInfo.expression)),yield Promise.all(A))}});
return function(v,x){return h.apply(this,arguments)}}();e.clone=function(){return new q({data:c.clone(this.data)})};e.hash=function(){return f.numericHash(JSON.stringify(this.data)).toString()};return p}(r);b.__decorate([d.property({json:{write:!1}})],l.prototype,"color",void 0);b.__decorate([d.property({json:{write:!0}})],l.prototype,"data",void 0);b.__decorate([t.reader("data",["symbol"])],l.prototype,"readData",null);b.__decorate([n.writer("data",{})],l.prototype,"writeData",null);b.__decorate([u.enumeration({CIMSymbolReference:"cim"},
{readOnly:!0})],l.prototype,"type",void 0);return l=q=b.__decorate([g.subclass("esri.symbols.CIMSymbol")],l)})},"esri/symbols/Symbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t,g,n,m){f=new f.JSONMap({esriSMS:"simple-marker",
esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let r=0;d=function(q){function k(e){e=q.call(this,e)||this;e.id=`sym${r++}`;e.type=null;e.color=new c([0,0,0,1]);return e}a._inheritsLoose(k,q);var p=k.prototype;p.readColor=function(e){return e&&
null!=e[0]?[e[0],e[1],e[2],e[3]/255]:e};p.collectRequiredFields=function(){var e=a._asyncToGenerator(function*(h,v){});return function(h,v){return e.apply(this,arguments)}}();p.hash=function(){return JSON.stringify(this.toJSON())};p.clone=function(){};return k}(d.JSONSupport);b.__decorate([l.property({type:f.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:f.write}}})],d.prototype,"type",void 0);b.__decorate([l.property({type:c,json:{write:{allowNull:!0}}})],d.prototype,"color",void 0);
b.__decorate([n.reader("color")],d.prototype,"readColor",null);return d=b.__decorate([m.subclass("esri.symbols.Symbol")],d)})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r){var q;d=q=function(k){function p(e){e=k.call(this,e)||this;e.type="extrude";e.size=1;e.material=null;e.castShadows=!0;e.edges=null;return e}a._inheritsLoose(p,k);p.prototype.clone=function(){return new q({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:c.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};return p}(n);b.__decorate([t.enumeration({Extrude:"extrude"},{readOnly:!0})],d.prototype,"type",void 0);
b.__decorate([f.property({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],d.prototype,"size",void 0);b.__decorate([f.property({type:r.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);b.__decorate([f.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);b.__decorate([f.property(m.symbol3dEdgesProperty)],d.prototype,"edges",void 0);return d=q=b.__decorate([g.subclass("esri.symbols.ExtrudeSymbol3DLayer")],d)})},"esri/symbols/Symbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,f,d,l,u,t,g){c=function(n){function m(r){r=n.call(this,r)||this;r.enabled=!0;r.type=null;return r}a._inheritsLoose(m,n);m.prototype.writeEnabled=function(r,q,k){r||(q[k]=r)};return m}(c.JSONSupport);b.__decorate([f.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],c.prototype,"enabled",void 0);b.__decorate([g.writer("enabled")],c.prototype,"writeEnabled",null);b.__decorate([f.property({type:"icon object line path fill water extrude text".split(" "),readOnly:!0})],
c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.symbols.Symbol3DLayer")],c)})},"esri/symbols/edges/utils":function(){define(["exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,c,f){a.symbol3dEdgesProperty={types:{key:"type",base:b,typeMap:{solid:f,sketch:c}},json:{write:!0}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/edges/Edges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n){f=function(m){function r(k){k=m.call(this,k)||this;k.color=new c([0,0,0,1]);k.extensionLength=0;k.size=l.px2pt(1);return k}a._inheritsLoose(r,m);var q=r.prototype;q.clone=function(){};q.cloneProperties=function(){return{color:d.clone(this.color),size:this.size,extensionLength:this.extensionLength}};return r}(f.JSONSupport);b.__decorate([u.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],f.prototype,"type",void 0);b.__decorate([u.property(n.colorAndTransparencyProperty)],
f.prototype,"color",void 0);b.__decorate([u.property({...n.screenSizeProperty,json:{write:{overridePolicy(m){return{enabled:!!m}}}}})],f.prototype,"extensionLength",void 0);b.__decorate([u.property(n.screenSizeProperty)],f.prototype,"size",void 0);return f=b.__decorate([g.subclass("esri.symbols.edges.Edges3D")],f)})},"esri/core/screenUtils":function(){define(["exports"],function(a){function b(f){return f?72*f/96:0}const c=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.castRenderScreenPointArray=function(f){return f};
a.castRenderScreenPointArray3=function(f){return f};a.castScreenPointArray=function(f){return f};a.createRenderScreenPoint=function(f=0,d=0){return{x:f,y:d}};a.createRenderScreenPointArray=function(f=0,d=0){return[f,d]};a.createRenderScreenPointArray3=function(f=0,d=0,l=0){return[f,d,l]};a.createScreenPoint=function(f=0,d=0){return{x:f,y:d}};a.createScreenPointArray=function(f=0,d=0){return[f,d]};a.pt2px=function(f){return f?f/72*96:0};a.px2pt=b;a.screenPointArrayToObject=function(f,d){return d?(d.x=
f[0],d.y=f[1],d):{x:f[0],y:f[1]}};a.screenPointObjectToArray=function(f,d){return d?(d[0]=f.x,d[1]=f.y,2<d.length&&(d[2]=0),d):[f.x,f.y]};a.toPt=function(f){if("string"===typeof f){var d=f.match(c);if(d){var l=Number(d[1]);d=d[3]&&d[3].toLowerCase();f="-"===f.charAt(0);l="px"===d?b(l):l;return f?-l:l}console.warn("screenUtils.toPt: input not recognized!");return null}return f};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/materialUtils":function(){define(["exports","../../Color",
"../../core/screenUtils","../../core/accessorSupport/ensureType","../../webdoc/support/opacityUtils"],function(a,b,c,f,d){c={type:Number,cast:c.toPt,json:{write:!0}};a.colorAndTransparencyProperty={type:b,json:{type:[f.Integer],default:null,read:{source:["color","transparency"],reader:function(l,u){l=null!=u.transparency?d.transparencyToOpacity(u.transparency):1;return(u=u.color)&&Array.isArray(u)?new b([u[0]||0,u[1]||0,u[2]||0,l]):null}},write:{target:{color:{type:[f.Integer]},transparency:{type:f.Integer}},
writer:function(l,u){u.color=l.toJSON().slice(0,3);l=d.opacityToTransparency(l.a);0!==l&&(u.transparency=l)}}}};a.screenSizeProperty=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/edges/SketchEdges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/set ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),
function(a,b,c,f,d,l,u,t,g,n){var m;c=m=function(r){function q(k){k=r.call(this,k)||this;k.type="sketch";return k}a._inheritsLoose(q,r);q.prototype.clone=function(){return new m(this.cloneProperties())};return q}(n);b.__decorate([t.enumeration({sketch:"sketch"},{readOnly:!0})],c.prototype,"type",void 0);return c=m=b.__decorate([g.subclass("esri.symbols.edges.SketchEdges3D")],c)})},"esri/symbols/edges/SolidEdges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/set ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),
function(a,b,c,f,d,l,u,t,g,n){var m;c=m=function(r){function q(k){k=r.call(this,k)||this;k.type="solid";return k}a._inheritsLoose(q,r);q.prototype.clone=function(){return new m(this.cloneProperties())};return q}(n);b.__decorate([t.enumeration({solid:"solid"},{readOnly:!0})],c.prototype,"type",void 0);return c=m=b.__decorate([g.subclass("esri.symbols.support.SolidEdges3D")],c)})},"esri/symbols/support/Symbol3DMaterial":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){var r;a.Symbol3DMaterial=r=function(q){function k(p){p=q.call(this,p)||this;p.color=null;return p}b._inheritsLoose(k,q);k.prototype.clone=function(){const p={color:d.isSome(this.color)?this.color.clone():null};return new r(p)};return k}(f.JSONSupport);c.__decorate([l.property(m.colorAndTransparencyProperty)],a.Symbol3DMaterial.prototype,"color",void 0);a.Symbol3DMaterial=r=c.__decorate([n.subclass("esri.symbols.support.Symbol3DMaterial")],a.Symbol3DMaterial);Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/symbols/FillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./SimpleLineSymbol ./Symbol".split(" "),function(a,b,c,f,d,l,u,t,g){f=function(n){function m(r){r=n.call(this,r)||this;r.outline=null;r.type=null;return r}a._inheritsLoose(m,n);m.prototype.hash=function(){return`${this.type}.${this.outline&&
this.outline.hash()}`};return m}(g);b.__decorate([c.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":t}},json:{default:null,write:!0}})],f.prototype,"outline",void 0);b.__decorate([c.property({type:["simple-fill","picture-fill"],readOnly:!0})],f.prototype,"type",void 0);return f=b.__decorate([u.subclass("esri.symbols.FillSymbol")],f)})},"esri/symbols/SimpleLineSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol ./LineSymbolMarker".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){var r;c=new c.JSONMap({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});n=r=function(q){function k(...e){e=q.call(this,...e)||this;e.type="simple-line";
e.style="solid";e.cap="round";e.join="round";e.marker=null;e.miterLimit=2;return e}a._inheritsLoose(k,q);var p=k.prototype;p.normalizeCtorArgs=function(e,h,v,x,A,w){if(e&&"string"!==typeof e)return e;const y={};null!=e&&(y.style=e);null!=h&&(y.color=h);null!=v&&(y.width=d.toPt(v));null!=x&&(y.cap=x);null!=A&&(y.join=A);null!=w&&(y.miterLimit=d.toPt(w));return y};p.clone=function(){var e;return new r({color:f.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,
marker:null==(e=this.marker)?void 0:e.clone()})};p.hash=function(){var e,h;return`${q.prototype.hash.call(this)}.${null==(e=this.color)?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${null==(h=this.marker)?void 0:h.hash()}`};return k}(n);b.__decorate([t.enumeration({esriSLS:"simple-line"},{readOnly:!0})],n.prototype,"type",void 0);b.__decorate([l.property({type:c.apiValues,json:{read:c.read,write:c.write}})],n.prototype,"style",void 0);b.__decorate([l.property({type:["butt",
"round","square"],json:{write:{overridePolicy:(q,k,p)=>({enabled:"round"!==q&&(null==p||null==p.origin)})}}})],n.prototype,"cap",void 0);b.__decorate([l.property({type:["miter","round","bevel"],json:{write:{overridePolicy:(q,k,p)=>({enabled:"round"!==q&&(null==p||null==p.origin)})}}})],n.prototype,"join",void 0);b.__decorate([l.property({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":m}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],n.prototype,"marker",void 0);
b.__decorate([l.property({type:Number,json:{read:!1,write:!1}})],n.prototype,"miterLimit",void 0);return n=r=b.__decorate([g.subclass("esri.symbols.SimpleLineSymbol")],n)})},"esri/symbols/LineSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,c,f,d,l,u,t,g,n){d=function(m){function r(q){q=m.call(this,q)||this;q.type="simple-line";q.width=.75;return q}a._inheritsLoose(r,m);r.prototype.hash=function(){return`${this.type}.${this.width}`};return r}(n);b.__decorate([t.enumeration({esriSLS:"simple-line"},{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([f.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"width",void 0);return d=b.__decorate([g.subclass("esri.symbols.LineSymbol")],d)})},"esri/symbols/LineSymbolMarker":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/lineMarkers".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r){var q;f=q=function(k){function p(h){h=k.call(this,h)||this;h.placement="begin-end";h.type="line-marker";h.style="arrow";return h}a._inheritsLoose(p,k);var e=p.prototype;e.writeStyle=function(h,v,x,A){v[x]="web-map"===(null==A?void 0:A.origin)?"arrow":h};e.readColor=function(h){return h&&null!=h[0]?[h[0],h[1],h[2],h[3]/255]:h};e.writeColor=function(h,v,x,A){"web-map"!==(null==A?void 0:A.origin)&&(v[x]=h)};e.clone=function(){return new q({color:d.clone(this.color),
placement:this.placement,style:this.style})};e.hash=function(){var h;return`${this.placement}.${null==(h=this.color)?void 0:h.hash()}.${this.style}`};a._createClass(p,[{key:"color",set:function(h){this._set("color",h)}}]);return p}(f.JSONSupport);b.__decorate([l.property({type:["begin","end","begin-end"],json:{write:!0}})],f.prototype,"placement",void 0);b.__decorate([t.enumeration({"line-marker":"line-marker"},{readOnly:!0}),l.property({json:{origins:{"web-map":{write:!1}}}})],f.prototype,"type",
void 0);b.__decorate([l.property({type:r.lineMarkerStyles})],f.prototype,"style",void 0);b.__decorate([m.writer("style")],f.prototype,"writeStyle",null);b.__decorate([l.property({type:c,value:null,json:{write:{allowNull:!0}}})],f.prototype,"color",null);b.__decorate([g.reader("color")],f.prototype,"readColor",null);b.__decorate([m.writer("color")],f.prototype,"writeColor",null);return f=q=b.__decorate([n.subclass("esri.symbols.LineSymbolMarker")],f)})},"esri/symbols/support/lineMarkers":function(){define(["exports"],
function(a){a.lineMarkerPlacements=["begin","end","begin-end"];a.lineMarkerStyles="arrow circle square diamond cross x".split(" ");Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/FillSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./patterns/LineStylePattern3D ./patterns/StylePattern3D ./patterns/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h){var v;d=v=function(x){function A(w){w=x.call(this,w)||this;w.type="fill";w.material=null;w.pattern=null;w.castShadows=!0;w.outline=null;w.edges=null;return w}a._inheritsLoose(A,x);A.prototype.clone=function(){const w={edges:c.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,material:c.isSome(this.material)?this.material.clone():null,pattern:c.isSome(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:c.isSome(this.outline)?
this.outline.clone():null};return new v(w)};A.fromSimpleFillSymbol=function(w){var y,z,C,B,D,G;const K=w.outline&&w.outline.style&&"inside-frame"!==w.outline.style&&"solid"!==w.outline.style?new r({style:w.outline.style}):null,M={size:null!=(y=null==(z=w.outline)?void 0:z.width)?y:0,color:(null!=(C=null==(B=w.outline)?void 0:B.color)?C:p.white).clone(),pattern:K};K&&null!=(D=w.outline)&&D.cap&&(M.patternCap=w.outline.cap);return new v({material:new e.Symbol3DFillMaterial({color:(null!=(G=w.color)?
G:p.transparentWhite).clone()}),pattern:w.style&&"solid"!==w.style?new q({style:w.style}):null,outline:M})};return A}(n);b.__decorate([t.enumeration({Fill:"fill"},{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([f.property({type:e.Symbol3DFillMaterial,json:{write:!0}})],d.prototype,"material",void 0);b.__decorate([f.property(k.symbol3dPatternProperty)],d.prototype,"pattern",void 0);b.__decorate([f.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",
void 0);b.__decorate([f.property({type:h.Symbol3DOutline,json:{write:!0}})],d.prototype,"outline",void 0);b.__decorate([f.property(m.symbol3dEdgesProperty)],d.prototype,"edges",void 0);return d=v=b.__decorate([g.subclass("esri.symbols.FillSymbol3DLayer")],d)})},"esri/symbols/patterns/LineStylePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./LinePattern3D ./lineStyles".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){var r;c=c.strict()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});n=r=function(q){function k(p){p=q.call(this,p)||this;p.type="style";p.style="solid";return p}a._inheritsLoose(k,q);k.prototype.clone=function(){return new r({style:this.style})};
return k}(n);b.__decorate([f.property({type:["style"]})],n.prototype,"type",void 0);b.__decorate([t.enumeration(c),f.property({type:m.lineStyles})],n.prototype,"style",void 0);return n=r=b.__decorate([g.subclass("esri.symbols.patterns.LineStylePattern3D")],n)})},"esri/symbols/patterns/LinePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){c=function(g){function n(m){return g.call(this,m)||this}a._inheritsLoose(n,g);n.prototype.clone=function(){};return n}(c.JSONSupport);b.__decorate([f.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.symbols.patterns.LinePattern3D")],c)})},"esri/symbols/patterns/lineStyles":function(){define(["exports"],function(a){a.lineStyles="dash dash-dot dot long-dash long-dash-dot long-dash-dot-dot none short-dash short-dash-dot short-dash-dot-dot short-dot solid".split(" ");
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/patterns/StylePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Pattern3D ./styles".split(" "),function(a,b,c,f,d,l,u,t,g){var n;f=n=function(m){function r(q){q=m.call(this,q)||this;q.type="style";q.style="solid";return q}
a._inheritsLoose(r,m);r.prototype.clone=function(){return new n({style:this.style})};return r}(t);b.__decorate([c.property({type:["style"]})],f.prototype,"type",void 0);b.__decorate([c.property({type:g,json:{read:!0,write:!0}})],f.prototype,"style",void 0);return f=n=b.__decorate([u.subclass("esri.symbols.patterns.StylePattern3D")],f)})},"esri/symbols/patterns/Pattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){c=function(g){function n(m){return g.call(this,m)||this}a._inheritsLoose(n,g);n.prototype.clone=function(){};return n}(c.JSONSupport);b.__decorate([f.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.symbols.patterns.Pattern3D")],c)})},"esri/symbols/patterns/styles":function(){define(function(){return"backward-diagonal cross diagonal-cross forward-diagonal horizontal none solid vertical".split(" ")})},
"esri/symbols/patterns/utils":function(){define(["exports","./LinePattern3D","./LineStylePattern3D","./Pattern3D","./StylePattern3D"],function(a,b,c,f,d){f={types:{key:"type",base:f,typeMap:{style:d}},json:{write:!0}};a.symbol3dLinePatternProperty={types:{key:"type",base:b,typeMap:{style:c}},json:{write:!0}};a.symbol3dPatternProperty=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/colors":function(){define(["exports","../../Color"],function(a,b){const c=new b("white"),
f=new b("black");b=new b([255,255,255,0]);a.black=f;a.isBlack=function(d){return 0===d.r&&0===d.g&&0===d.b};a.transparentWhite=b;a.white=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/set ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Symbol3DMaterial".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r){var q;a.Symbol3DFillMaterial=q=function(k){function p(e){e=k.call(this,e)||this;e.colorMixMode=null;return e}b._inheritsLoose(p,k);p.prototype.clone=function(){const e={color:f.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new q(e)};return p}(r.Symbol3DMaterial);c.__decorate([n.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],a.Symbol3DFillMaterial.prototype,"colorMixMode",void 0);a.Symbol3DFillMaterial=q=c.__decorate([m.subclass("esri.symbols.support.Symbol3DFillMaterial")],
a.Symbol3DFillMaterial);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DOutline":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../patterns/utils ./materialUtils ./symbolLayerUtils3D".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p){var e;a.Symbol3DOutline=e=function(h){function v(x){x=h.call(this,x)||this;x.color=new f([0,0,0,1]);x.size=u.px2pt(1);x.pattern=null;x.patternCap="butt";return x}b._inheritsLoose(v,h);v.prototype.clone=function(){const x={color:l.isSome(this.color)?this.color.clone():null,size:this.size,pattern:l.isSome(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new e(x)};return v}(d.JSONSupport);c.__decorate([t.property(k.colorAndTransparencyProperty)],
a.Symbol3DOutline.prototype,"color",void 0);c.__decorate([t.property(k.screenSizeProperty)],a.Symbol3DOutline.prototype,"size",void 0);c.__decorate([t.property(q.symbol3dLinePatternProperty)],a.Symbol3DOutline.prototype,"pattern",void 0);c.__decorate([t.property({type:p.lineCaps,json:{default:"butt",write:{overridePolicy(){return{enabled:l.isSome(this.pattern)}}}}})],a.Symbol3DOutline.prototype,"patternCap",void 0);a.Symbol3DOutline=e=c.__decorate([r.subclass("esri.symbols.support.Symbol3DOutline")],
a.Symbol3DOutline);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/symbolLayerUtils3D":function(){define(["exports","../../core/has","../../chunks/vec3f64","../../geometry/support/aaBoundingBox"],function(a,b,c,f){const d=f.fromValues(-.5,-.5,-.5,.5,.5,.5),l=f.fromValues(-.5,-.5,0,.5,.5,1),u=f.fromValues(-.5,-.5,0,.5,.5,.5);b=["butt","square","round"];f=[...b,"none"];a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_TETRAHEDRON=u;a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_UNIT_CUBE=d;a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_UNIT_CYLINDER=
l;a.lineCaps=b;a.lineJoins=["miter","bevel","round"];a.objectSymbolLayerPrimitiveBoundingBox=function(t){switch(t){case "sphere":case "cube":case "diamond":return d;case "cylinder":case "cone":case "inverted-cone":return l;case "tetrahedron":return u}};a.objectSymbolLayerSizeWithResourceSize=function(t,{isPrimitive:g,width:n,depth:m,height:r}){g=g?10:1;if(null==n&&null==r&&null==m)return[g*t[0],g*t[1],g*t[2]];n=c.fromValues(n,m,r);let q;for(m=0;3>m;m++)if(r=n[m],null!=r){q=r/t[m];break}for(m=0;3>
m;m++)null==n[m]&&(n[m]=t[m]*q);return n};a.pathCaps=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../../core/maybe","../Extent","./aaBoundingRect"],function(a,b,c,f){function d(e=k){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function l(e,h,v,x,A,w,y=d()){y[0]=e;y[1]=h;y[2]=v;y[3]=x;y[4]=A;y[5]=w;return y}function u(e){return e[0]>=e[3]?0:e[3]-e[0]}function t(e){return e[1]>=e[4]?0:e[4]-e[1]}function g(e){return e[2]>=e[5]?0:e[5]-
e[2]}function n(e,h){return Math.max(h[0],e[0])<=Math.min(h[3],e[3])&&Math.max(h[1],e[1])<=Math.min(h[4],e[4])&&Math.max(h[2],e[2])<=Math.min(h[5],e[5])}function m(e,h){e[0]=h[0];e[1]=h[1];e[2]=h[2];e[3]=h[3];e[4]=h[4];e[5]=h[5];return e}function r(e){return 6===e.length}const q=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],k=[0,0,0,0,0,0],p=d();a.NEGATIVE_INFINITY=q;a.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];a.ZERO=k;a.allFinite=function(e){for(let h=
0;6>h;h++)if(!isFinite(e[h]))return!1;return!0};a.center=function(e,h=[0,0,0]){h[0]=e[0]+u(e)/2;h[1]=e[1]+t(e)/2;h[2]=e[2]+g(e)/2;return h};a.contains=function(e,h){return h[0]>=e[0]&&h[1]>=e[1]&&h[2]>=e[2]&&h[3]<=e[3]&&h[4]<=e[4]&&h[5]<=e[5]};a.containsPoint=function(e,h){return h[0]>=e[0]&&h[1]>=e[1]&&h[2]>=e[2]&&h[0]<=e[3]&&h[1]<=e[4]&&h[2]<=e[5]};a.containsPointWithMargin=function(e,h,v){return h[0]>=e[0]-v&&h[1]>=e[1]-v&&h[2]>=e[2]-v&&h[0]<=e[3]+v&&h[1]<=e[4]+v&&h[2]<=e[5]+v};a.create=d;a.depth=
t;a.diameter=function(e){const h=u(e),v=g(e);e=t(e);return Math.sqrt(h*h+v*v+e*e)};a.empty=function(e){return e?m(e,q):d(q)};a.equals=function(e,h,v){if(b.isNone(e)||b.isNone(h))return e===h;if(!r(e)||!r(h))return!1;if(v)for(let x=0;x<e.length;x++){if(!v(e[x],h[x]))return!1}else for(v=0;v<e.length;v++)if(e[v]!==h[v])return!1;return!0};a.expandWithAABB=function(e,h){e[0]=Math.min(e[0],h[0]);e[1]=Math.min(e[1],h[1]);e[2]=Math.min(e[2],h[2]);e[3]=Math.max(e[3],h[3]);e[4]=Math.max(e[4],h[4]);e[5]=Math.max(e[5],
h[5])};a.expandWithBuffer=function(e,h,v=0,x=h.length/3){let A=e[0],w=e[1],y=e[2],z=e[3],C=e[4],B=e[5];for(let D=0;D<x;D++)A=Math.min(A,h[v+3*D]),w=Math.min(w,h[v+3*D+1]),y=Math.min(y,h[v+3*D+2]),z=Math.max(z,h[v+3*D]),C=Math.max(C,h[v+3*D+1]),B=Math.max(B,h[v+3*D+2]);e[0]=A;e[1]=w;e[2]=y;e[3]=z;e[4]=C;e[5]=B};a.expandWithNestedArray=function(e,h,v){const x=h.length;let A=e[0],w=e[1],y=e[2],z=e[3],C=e[4],B=e[5];if(v)for(v=0;v<x;v++){var D=h[v];A=Math.min(A,D[0]);w=Math.min(w,D[1]);y=Math.min(y,D[2]);
z=Math.max(z,D[0]);C=Math.max(C,D[1]);B=Math.max(B,D[2])}else for(v=0;v<x;v++)D=h[v],A=Math.min(A,D[0]),w=Math.min(w,D[1]),z=Math.max(z,D[0]),C=Math.max(C,D[1]);e[0]=A;e[1]=w;e[2]=y;e[3]=z;e[4]=C;e[5]=B};a.expandWithOffset=function(e,h,v,x){e[0]=Math.min(e[0],e[0]+h);e[3]=Math.max(e[3],e[3]+h);e[1]=Math.min(e[1],e[1]+v);e[4]=Math.max(e[4],e[4]+v);e[2]=Math.min(e[2],e[2]+x);e[5]=Math.max(e[5],e[5]+x)};a.expandWithRect=function(e,h){e[0]=Math.min(e[0],h[0]);e[1]=Math.min(e[1],h[1]);e[3]=Math.max(e[3],
h[2]);e[4]=Math.max(e[4],h[3])};a.expandWithVec3=function(e,h){e[0]=Math.min(e[0],h[0]);e[1]=Math.min(e[1],h[1]);e[2]=Math.min(e[2],h[2]);e[3]=Math.max(e[3],h[0]);e[4]=Math.max(e[4],h[1]);e[5]=Math.max(e[5],h[2])};a.fromExtent=function(e,h=d()){h[0]=e.xmin;h[1]=e.ymin;h[2]=e.zmin;h[3]=e.xmax;h[4]=e.ymax;h[5]=e.zmax;return h};a.fromMinMax=function(e,h,v=d()){v[0]=e[0];v[1]=e[1];v[2]=e[2];v[3]=h[0];v[4]=h[1];v[5]=h[2];return v};a.fromRect=function(e,h){e[0]=h[0];e[1]=h[1];e[2]=Number.NEGATIVE_INFINITY;
e[3]=h[2];e[4]=h[3];e[5]=Number.POSITIVE_INFINITY;return e};a.fromValues=l;a.getMax=function(e,h){h[0]=e[3];h[1]=e[4];h[2]=e[5];return h};a.getMin=function(e,h){h[0]=e[0];h[1]=e[1];h[2]=e[2];return h};a.height=g;a.intersects=n;a.intersectsClippingArea=function(e,h){return b.isNone(h)?!0:n(e,h)};a.is=r;a.isPoint=function(e){return 0===u(e)&&0===t(e)&&0===g(e)};a.maximumDimension=function(e){return Math.max(u(e),g(e),t(e))};a.offset=function(e,h,v,x,A=e){A[0]=e[0]+h;A[1]=e[1]+v;A[2]=e[2]+x;A[3]=e[3]+
h;A[4]=e[4]+v;A[5]=e[5]+x;return A};a.scale=function(e,h,v=e){const x=e[0]+u(e)/2,A=e[1]+t(e)/2,w=e[2]+g(e)/2;v[0]=x+(e[0]-x)*h;v[1]=A+(e[1]-A)*h;v[2]=w+(e[2]-w)*h;v[3]=x+(e[3]-x)*h;v[4]=A+(e[4]-A)*h;v[5]=w+(e[5]-w)*h;return v};a.set=m;a.setMax=function(e,h,v=e){v[3]=h[0];v[4]=h[1];v[5]=h[2];v!==e&&(v[0]=e[0],v[1]=e[1],v[2]=e[2]);return e};a.setMin=function(e,h,v=e){v[0]=h[0];v[1]=h[1];v[2]=h[2];v!==e&&(v[3]=e[3],v[4]=e[4],v[5]=e[5]);return v};a.size=function(e,h=[0,0,0]){h[0]=u(e);h[1]=t(e);h[2]=
g(e);return h};a.toExtent=function(e,h){return isFinite(e[2])||isFinite(e[5])?new c({xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:h}):new c({xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:h})};a.toRect=function(e,h){h||(h=f.create());h[0]=e[0];h[1]=e[1];h[2]=e[3];h[3]=e[4];return h};a.width=u;a.wrap=function(e,h,v,x,A,w){return l(e,h,v,x,A,w,p)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports",
"../../core/has","../../core/mathUtils","../../core/maybe","../Extent"],function(a,b,c,f,d){function l(k=q){return[k[0],k[1],k[2],k[3]]}function u(k,p){k!==p&&(k[0]=p[0],k[1]=p[1],k[2]=p[2],k[3]=p[3]);return k}function t(k){return f.isNone(k)||k[0]>=k[2]?0:k[2]-k[0]}function g(k){return k[1]>=k[3]?0:k[3]-k[1]}function n(k,p,e){return p>=k[0]&&e>=k[1]&&p<=k[2]&&e<=k[3]}function m(k){return null!=k&&4===k.length}const r=[Infinity,Infinity,-Infinity,-Infinity],q=[0,0,0,0];a.NEGATIVE_INFINITY=r;a.POSITIVE_INFINITY=
[-Infinity,-Infinity,Infinity,Infinity];a.UNIT=[0,0,1,1];a.ZERO=q;a.allFinite=function(k){for(let p=0;4>p;p++)if(!isFinite(k[p]))return!1;return!0};a.area=function(k){return t(k)*g(k)};a.center=function(k,p=[0,0]){p[0]=(k[0]+k[2])/2;p[1]=(k[1]+k[3])/2;return p};a.clone=function(k){return[k[0],k[1],k[2],k[3]]};a.contains=function(k,p){return p[0]>=k[0]&&p[2]<=k[2]&&p[1]>=k[1]&&p[3]<=k[3]};a.containsPoint=function(k,p){return n(k,p[0],p[1])};a.containsPointObject=function(k,p){return n(k,p.x,p.y)};
a.containsPointWithMargin=function(k,p,e){return p[0]>=k[0]-e&&p[1]>=k[1]-e&&p[0]<=k[2]+e&&p[1]<=k[3]+e};a.containsXY=n;a.copy=u;a.create=l;a.distance=function(k,p){const e=(k[1]+k[3])/2,h=Math.max(Math.abs(p[0]-(k[0]+k[2])/2)-t(k)/2,0);k=Math.max(Math.abs(p[1]-e)-g(k)/2,0);return Math.sqrt(h*h+k*k)};a.empty=function(k){return k?u(k,r):l(r)};a.equals=function(k,p){return m(k)&&m(p)?k[0]===p[0]&&k[1]===p[1]&&k[2]===p[2]&&k[3]===p[3]:k===p};a.expand=function(k,p,e){if(f.isNone(p))u(e,k);else if("length"in
p)if(m(p))e[0]=Math.min(k[0],p[0]),e[1]=Math.min(k[1],p[1]),e[2]=Math.max(k[2],p[2]),e[3]=Math.max(k[3],p[3]);else{if(2===p.length||3===p.length)e[0]=Math.min(k[0],p[0]),e[1]=Math.min(k[1],p[1]),e[2]=Math.max(k[2],p[0]),e[3]=Math.max(k[3],p[1])}else switch(p.type){case "extent":e[0]=Math.min(k[0],p.xmin);e[1]=Math.min(k[1],p.ymin);e[2]=Math.max(k[2],p.xmax);e[3]=Math.max(k[3],p.ymax);break;case "point":e[0]=Math.min(k[0],p.x),e[1]=Math.min(k[1],p.y),e[2]=Math.max(k[2],p.x),e[3]=Math.max(k[3],p.y)}};
a.expandPointInPlace=function(k,p){p[0]<k[0]&&(k[0]=p[0]);p[0]>k[2]&&(k[2]=p[0]);p[1]<k[1]&&(k[1]=p[1]);p[1]>k[3]&&(k[3]=p[1])};a.expandWithNestedArray=function(k,p,e=k){const h=p.length;let v=k[0],x=k[1],A=k[2];k=k[3];for(let w=0;w<h;w++){const y=p[w];v=Math.min(v,y[0]);x=Math.min(x,y[1]);A=Math.max(A,y[0]);k=Math.max(k,y[1])}e[0]=v;e[1]=x;e[2]=A;e[3]=k;return e};a.fromExtent=function(k,p=l()){p[0]=k.xmin;p[1]=k.ymin;p[2]=k.xmax;p[3]=k.ymax;return p};a.fromValues=function(k,p,e,h,v=l()){v[0]=k;v[1]=
p;v[2]=e;v[3]=h;return v};a.height=g;a.intersection=function(k,p,e){if(f.isNone(p))return u(e,k);const h=p[0],v=p[1],x=p[2];p=p[3];e[0]=c.clamp(k[0],h,x);e[1]=c.clamp(k[1],v,p);e[2]=c.clamp(k[2],h,x);e[3]=c.clamp(k[3],v,p);return e};a.intersects=function(k,p){return Math.max(p[0],k[0])<=Math.min(p[2],k[2])&&Math.max(p[1],k[1])<=Math.min(p[3],k[3])};a.intersectsSegment=function(k,p,e){const h=k[0],v=k[1],x=k[2];k=k[3];const {x:A,y:w}=p,{x:y,y:z}=e;var C=(D,G)=>0>(z-w)*D+(A-y)*G+(y*w-A*z);p=C(h,k);
e=C(x,k);const B=C(x,v);C=C(h,v);return p===e&&e===B&&B===C&&C===p||A<h&&y<h||A>x&&y>x||w>k&&z>k||w<v&&z<v?!1:!0};a.intersectsSphere=function(k,p){const e=p[3];var h=Math.abs(p[0]-.5*(k[0]+k[2]));const v=.5*(k[2]-k[0]);if(h>e+v)return!1;var x=.5*(k[3]-k[1]);k=Math.abs(p[1]-.5*(k[1]+k[3]));if(k>e+x)return!1;if(h<v||k<x)return!0;h-=v;x=k-x;return h*h+x*x<=e*e};a.is=m;a.isPoint=function(k){return(0===t(k)||!isFinite(k[0]))&&(0===g(k)||!isFinite(k[1]))};a.offset=function(k,p,e,h=k){h[0]=k[0]+p;h[1]=k[1]+
e;h[2]=k[2]+p;h[3]=k[3]+e;return h};a.pad=function(k,p,e=k){e[0]=k[0]-p;e[1]=k[1]-p;e[2]=k[2]+p;e[3]=k[3]+p;return e};a.setMax=function(k,p,e=k){e[2]=p[0];e[3]=p[1];e!==k&&(e[0]=k[0],e[1]=k[1]);return k};a.setMin=function(k,p,e=k){e[0]=p[0];e[1]=p[1];e!==k&&(e[2]=k[2],e[3]=k[3]);return e};a.size=function(k,p){p[0]=k[2]-k[0];p[1]=k[3]-k[1]};a.toExtent=function(k,p){return new d({xmin:k[0],ymin:k[1],xmax:k[2],ymax:k[3],spatialReference:p})};a.width=t;Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/symbols/Font":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass ./support/textUtils".split(" "),function(a,b,c,f,d,l,u,t,g,n){var m;c=m=function(r){function q(p){p=r.call(this,p)||this;p.decoration="none";p.family="sans-serif";p.size=9;p.style="normal";p.weight="normal";
return p}a._inheritsLoose(q,r);var k=q.prototype;k.castSize=function(p){return f.toPt(p)};k.clone=function(){return new m({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};k.hash=function(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`};return q}(c.JSONSupport);b.__decorate([d.property({type:n.FONT_DECORATIONS,json:{default:"none",write:!0}})],c.prototype,"decoration",void 0);b.__decorate([d.property({type:String,
json:{write:!0}})],c.prototype,"family",void 0);b.__decorate([d.property({type:Number,json:{write:{overridePolicy(r,q,k){return{enabled:!k||!k.textSymbol3D}}}}})],c.prototype,"size",void 0);b.__decorate([t.cast("size")],c.prototype,"castSize",null);b.__decorate([d.property({type:n.FONT_STYLES,json:{default:"normal",write:!0}})],c.prototype,"style",void 0);b.__decorate([d.property({type:n.FONT_WEIGHTS,json:{default:"normal",write:!0}})],c.prototype,"weight",void 0);return c=m=b.__decorate([g.subclass("esri.symbols.Font")],
c)})},"esri/symbols/support/textUtils":function(){define(["exports","../../core/mathUtils","../../core/accessorSupport/ensureType"],function(a,b,c){const f={type:Number,cast:m=>{m=c.ensureNumber(m);return 0===m?1:b.clamp(m,.1,4)},nonNullable:!0},d=["left","right","center","justify"],l=["left","right","center"],u=["baseline","top","middle","bottom"],t={type:d,nonNullable:!0},g={type:l,nonNullable:!0},n={type:u,nonNullable:!0};a.FONT_DECORATIONS=["none","underline","line-through"];a.FONT_STYLES=["normal",
"italic","oblique"];a.FONT_WEIGHTS=["normal","lighter","bold","bolder"];a.HORIZONTAL_ALIGNMENTS=d;a.HORIZONTAL_ALIGNMENTS_3D=l;a.VERTICAL_ALIGNMENTS=u;a.horizontalAlignmentProperty=t;a.horizontalAlignmentProperty3D=g;a.lineHeightProperty=f;a.verticalAlignmentProperty=n;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/IconSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DIconOutline ./support/Symbol3DMaterial".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v){function x(C){const B="width"in C?C.width:C.size,D="height"in C?C.height:C.size,G=A(C.xoffset);C=A(C.yoffset);return(G||C)&&B&&D?{x:-G/B,y:C/D}:null}function A(C){return isFinite(C)?C:0}var w;const y=c.getLogger("esri.symbols.IconSymbol3DLayer");c=w=function(C){function B(D){D=C.call(this,D)||this;D.material=null;D.resource=null;D.type="icon";D.size=12;D.anchor="center";D.anchorPosition=void 0;D.outline=void 0;return D}a._inheritsLoose(B,C);B.prototype.clone=
function(){return new w({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:f.isSome(this.material)?this.material.clone():null,outline:f.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};B.fromSimpleMarkerSymbol=function(D){const G=D.color||q.white,K=x(D),M=D.outline&&0<D.outline.width?{size:D.outline.width,color:(D.outline.color||q.white).clone()}:null;var N=w,I=D.size;{D=D.style;
const F=z[D];F?D=F:(y.warn(`${D} cannot be mapped to Icon symbol. Fallback to "circle"`),D="circle")}return new N({size:I,resource:{primitive:D},material:{color:G},outline:M,anchor:K?"relative":void 0,anchorPosition:K})};B.fromPictureMarkerSymbol=function(D){const G=!D.color||q.isBlack(D.color)?q.white:D.color,K=x(D);return new w({size:D.width<=D.height?D.height:D.width,resource:{href:D.url},material:{color:G.clone()},anchor:K?"relative":void 0,anchorPosition:K})};B.fromCIMSymbol=function(D){return new w({resource:{href:d.makeData({mediaType:"application/json",
data:JSON.stringify(D.data)})}})};return B}(r);b.__decorate([l.property({type:v.Symbol3DMaterial,json:{write:!0}})],c.prototype,"material",void 0);b.__decorate([l.property({type:k.IconSymbol3DLayerResource,json:{write:!0}})],c.prototype,"resource",void 0);b.__decorate([n.enumeration({Icon:"icon"},{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([l.property(p.screenSizeProperty)],c.prototype,"size",void 0);b.__decorate([n.enumeration({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",
topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),l.property({json:{default:"center"}})],c.prototype,"anchor",void 0);b.__decorate([l.property({type:e.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:C=>new e.Symbol3DAnchorPosition2D({x:C[0],y:C[1]})},write:{writer:(C,B)=>{B.anchorPosition=[C.x,C.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],c.prototype,"anchorPosition",void 0);b.__decorate([l.property({type:h.Symbol3DIconOutline,
json:{write:!0}})],c.prototype,"outline",void 0);c=w=b.__decorate([m.subclass("esri.symbols.IconSymbol3DLayer")],c);const z={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return c})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p){var e;f=f.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a.IconSymbol3DLayerResource=e=function(h){function v(A){return h.call(this,A)||this}b._inheritsLoose(v,h);var x=v.prototype;x.readHref=function(A,w,y){return A?p.fromJSON(A,y):w.dataURI};x.writeHref=function(A,w,y,z){A&&(l.isDataProtocol(A)?w.dataURI=A:(w.href=p.toJSON(A,z),l.isAbsolute(w.href)&&(w.href=l.normalize(w.href))))};x.clone=function(){return new e({href:this.href,
primitive:this.primitive})};return v}(d.JSONSupport);c.__decorate([u.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],a.IconSymbol3DLayerResource.prototype,"href",void 0);c.__decorate([r.reader("href")],a.IconSymbol3DLayerResource.prototype,"readHref",null);c.__decorate([k.writer("href",{href:{type:String},dataURI:{type:String}})],a.IconSymbol3DLayerResource.prototype,"writeHref",null);c.__decorate([m.enumeration(f)],a.IconSymbol3DLayerResource.prototype,"primitive",void 0);
a.IconSymbol3DLayerResource=e=c.__decorate([q.subclass("esri.symbols.support.IconSymbol3DLayerResource")],a.IconSymbol3DLayerResource);a.defaultPrimitive="circle";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;a.Symbol3DAnchorPosition2D=n=function(m){function r(){var q=m.apply(this,arguments)||this;q.x=0;q.y=0;return q}b._inheritsLoose(r,m);r.prototype.clone=function(){return new n({x:this.x,y:this.y})};return r}(f);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"x",void 0);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"y",void 0);a.Symbol3DAnchorPosition2D=n=c.__decorate([g.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],
a.Symbol3DAnchorPosition2D);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DIconOutline":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,c,f,
d,l,u,t,g,n,m,r,q){var k;a.Symbol3DIconOutline=k=function(p){function e(h){h=p.call(this,h)||this;h.color=new f([0,0,0,1]);h.size=u.px2pt(1);return h}b._inheritsLoose(e,p);e.prototype.clone=function(){const h={color:l.isSome(this.color)?this.color.clone():null,size:this.size};return new k(h)};return e}(d.JSONSupport);c.__decorate([t.property(q.colorAndTransparencyProperty)],a.Symbol3DIconOutline.prototype,"color",void 0);c.__decorate([t.property(q.screenSizeProperty)],a.Symbol3DIconOutline.prototype,
"size",void 0);a.Symbol3DIconOutline=k=c.__decorate([r.subclass("esri.symbols.support.Symbol3DIconOutline")],a.Symbol3DIconOutline);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/LabelSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r){var q;const k=c.ofType({base:null,key:"type",typeMap:{text:n}});c=q=function(p){function e(v){v=p.call(this,v)||this;v.verticalOffset=null;v.callout=null;v.styleOrigin=null;v.symbolLayers=new k;v.type="label-3d";return v}a._inheritsLoose(e,p);var h=e.prototype;h.supportsCallout=function(){return!0};h.hasVisibleCallout=function(){return m.hasVisibleCallout(this)};h.hasVisibleVerticalOffset=function(){return m.hasVisibleVerticalOffset(this)};h.clone=function(){return new q({styleOrigin:f.clone(this.styleOrigin),
symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail),callout:f.clone(this.callout),verticalOffset:f.clone(this.verticalOffset)})};e.fromTextSymbol=function(v){return new q({symbolLayers:[n.fromTextSymbol(v)]})};return e}(g);b.__decorate([d.property({type:r.Symbol3DVerticalOffset,json:{write:!0}})],c.prototype,"verticalOffset",void 0);b.__decorate([d.property(m.calloutProperty)],c.prototype,"callout",void 0);b.__decorate([d.property({json:{read:!1,write:!1}})],c.prototype,"styleOrigin",
void 0);b.__decorate([d.property({type:k})],c.prototype,"symbolLayers",void 0);b.__decorate([u.enumeration({LabelSymbol3D:"label-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=q=b.__decorate([t.subclass("esri.symbols.LabelSymbol3D")],c)})},"esri/symbols/Symbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../portal/Portal ../chunks/persistableUrlUtils ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A,w,y,z,C,B,D,G,K){const M={icon:x,object:w,line:A,path:y,fill:v,extrude:h,text:B,water:D};g=c.ofType({base:C,key:"type",typeMap:M,errorContext:"symbol-layer"});const N=d.getLogger("esri.symbols.Symbol3D");d=function(I){function F(J){J=I.call(this,J)||this;J.styleOrigin=null;J.thumbnail=null;J.type=null;const P=J.__accessor__&&J.__accessor__.metadatas&&J.__accessor__.metadatas.symbolLayers;J._set("symbolLayers",new (P&&P.type||c));return J}a._inheritsLoose(F,
I);var E=F.prototype;E.readStyleOrigin=function(J,P,W){if(J.styleUrl&&J.name)return P=e.fromJSON(J.styleUrl,W),new G({styleUrl:P,name:J.name});if(J.styleName&&J.name)return new G({portal:W&&W.portal||p.getDefault(),styleName:J.styleName,name:J.name});W&&W.messages&&W.messages.push(new u("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:W,definition:J}))};E.writeStyleOrigin=function(J,P,W,Z){J.styleUrl&&J.name?(W=e.toJSON(J.styleUrl,
Z),l.isAbsolute(W)&&(W=l.normalize(W)),P.styleOrigin={styleUrl:W,name:J.name}):J.styleName&&J.name&&(J.portal&&Z&&Z.portal&&!l.hasSamePortal(J.portal.restUrl,Z.portal.restUrl)?Z&&Z.messages&&Z.messages.push(new u("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):P.styleOrigin={styleName:J.styleName,name:J.name})};E.normalizeCtorArgs=function(J){return J instanceof C||J&&M[J.type]?{symbolLayers:[J]}:
Array.isArray(J)?{symbolLayers:J}:J};a._createClass(F,[{key:"color",get:function(){return null},set:function(J){this.initialized&&N.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}},{key:"symbolLayers",set:function(J){f.referenceSetter(J,this._get("symbolLayers"))}}]);return F}(z);b.__decorate([t.property({json:{read:!1,write:!1}})],d.prototype,"color",null);b.__decorate([t.property({type:g,nonNullable:!0,json:{write:!0}}),
m.cast(f.castForReferenceSetter)],d.prototype,"symbolLayers",null);b.__decorate([t.property({type:G})],d.prototype,"styleOrigin",void 0);b.__decorate([r.reader("styleOrigin")],d.prototype,"readStyleOrigin",null);b.__decorate([k.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],d.prototype,"writeStyleOrigin",null);b.__decorate([t.property({type:K.Thumbnail,json:{read:!1}})],d.prototype,"thumbnail",void 0);b.__decorate([t.property({type:["point-3d",
"line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],d.prototype,"type",void 0);return d=b.__decorate([q.subclass("esri.symbols.Symbol3D")],d)})},"esri/symbols/LineSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineStyleMarker3D ./Symbol3DLayer ./patterns/LineStylePattern3D ./patterns/utils ./support/colors ./support/materialUtils ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v){var x;l=x=function(A){function w(y){y=A.call(this,y)||this;y.material=null;y.type="line";y.join="miter";y.cap="butt";y.size=f.px2pt(1);y.pattern=null;y.marker=null;return y}a._inheritsLoose(w,A);w.prototype.clone=function(){const y={enabled:this.enabled,material:c.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:c.isSome(this.pattern)?this.pattern.clone():null,marker:c.isSome(this.marker)?this.marker.clone():
null};return new x(y)};w.fromSimpleLineSymbol=function(y){var z,C,B;y={enabled:!0,size:null!=(z=y.width)?z:f.px2pt(1),cap:y.cap||"butt",join:y.join||"miter",pattern:y.style&&"inside-frame"!==y.style?new q({style:y.style}):null,material:new h.Symbol3DMaterial({color:(y.color||p.white).clone()}),marker:y.marker?new m({placement:y.marker.placement,style:y.marker.style,color:null!=(C=null==(B=y.marker.color)?void 0:B.clone())?C:null}):null};return new x(y)};return w}(r);b.__decorate([d.property({type:h.Symbol3DMaterial,
json:{write:!0}})],l.prototype,"material",void 0);b.__decorate([g.enumeration({Line:"line"},{readOnly:!0})],l.prototype,"type",void 0);b.__decorate([d.property({type:v.lineJoins,json:{write:!0,default:"miter"}})],l.prototype,"join",void 0);b.__decorate([d.property({type:v.lineCaps,json:{write:!0,default:"butt"}})],l.prototype,"cap",void 0);b.__decorate([d.property(e.screenSizeProperty)],l.prototype,"size",void 0);b.__decorate([d.property(k.symbol3dLinePatternProperty)],l.prototype,"pattern",void 0);
b.__decorate([d.property({types:{key:"type",base:m,typeMap:{style:m}},json:{write:!0}})],l.prototype,"marker",void 0);return l=x=b.__decorate([n.subclass("esri.symbols.LineSymbol3DLayer")],l)})},"esri/symbols/LineStyleMarker3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/Clonable ../core/JSONSupport ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/lineMarkers".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r){f=function(q){function k(p){p=q.call(this,p)||this;p.type="style";p.placement="begin-end";p.style="arrow";p.color=null;return p}a._inheritsLoose(k,q);k.prototype.equals=function(p){return l.isSome(p)&&p.placement===this.placement&&p.style===this.style&&(l.isNone(this.color)&&l.isNone(p.color)||l.isSome(this.color)&&l.isSome(p.color)&&this.color.toJSON()===p.color.toJSON())};return k}(f.ClonableMixin(d.JSONSupport));b.__decorate([u.property({type:["style"],readOnly:!0,
json:{read:!0,write:{ignoreOrigin:!0}}})],f.prototype,"type",void 0);b.__decorate([u.property({type:r.lineMarkerPlacements,json:{default:"begin-end",write:!0}})],f.prototype,"placement",void 0);b.__decorate([u.property({type:r.lineMarkerStyles,json:{default:"arrow",write:!0}})],f.prototype,"style",void 0);b.__decorate([u.property({type:c,json:{type:[n.Integer],default:null,write:!0}})],f.prototype,"color",void 0);return f=b.__decorate([m.subclass("esri.symbols.LineStyleMarker3D")],f)})},"esri/symbols/ObjectSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q){var k;d=k=function(p){function e(h){h=p.call(this,h)||this;h.material=null;h.castShadows=!0;h.resource=null;h.type="object";h.width=void 0;h.height=void 0;h.depth=void 0;h.anchor=void 0;h.anchorPosition=void 0;h.heading=void 0;h.tilt=void 0;h.roll=void 0;return h}a._inheritsLoose(e,p);e.prototype.clone=function(){return new k({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,
enabled:this.enabled,height:this.height,material:c.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};a._createClass(e,[{key:"isPrimitive",get:function(){return!this.resource||"string"!==typeof this.resource.href}}]);return e}(n);b.__decorate([f.property({type:q.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);b.__decorate([f.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],
d.prototype,"castShadows",void 0);b.__decorate([f.property({type:m.ObjectSymbol3DLayerResource,json:{write:!0}})],d.prototype,"resource",void 0);b.__decorate([t.enumeration({Object:"object"},{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"width",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"height",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"depth",void 0);b.__decorate([t.enumeration({center:"center",
top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),f.property({json:{default:"origin"}})],d.prototype,"anchor",void 0);b.__decorate([f.property({type:r.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:p=>new r.Symbol3DAnchorPosition3D({x:p[0],y:p[1],z:p[2]})},write:{writer:(p,e)=>{e.anchorPosition=[p.x,p.y,p.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],d.prototype,"anchorPosition",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,
"heading",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"tilt",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"roll",void 0);b.__decorate([f.property({readOnly:!0})],d.prototype,"isPrimitive",null);return d=k=b.__decorate([g.subclass("esri.symbols.ObjectSymbol3DLayer")],d)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r){var q;f=f.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a.ObjectSymbol3DLayerResource=q=function(k){function p(){return k.apply(this,arguments)||this}b._inheritsLoose(p,k);p.prototype.clone=function(){return new q({href:this.href,primitive:this.primitive})};return p}(d.JSONSupport);c.__decorate([l.property({type:String,json:{read:r.read,write:r.write}})],a.ObjectSymbol3DLayerResource.prototype,
"href",void 0);c.__decorate([n.enumeration(f)],a.ObjectSymbol3DLayerResource.prototype,"primitive",void 0);a.ObjectSymbol3DLayerResource=q=c.__decorate([m.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],a.ObjectSymbol3DLayerResource);a.defaultPrimitive="sphere";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;a.Symbol3DAnchorPosition3D=n=function(m){function r(){var q=m.apply(this,arguments)||this;q.x=0;q.y=0;q.z=0;return q}b._inheritsLoose(r,m);r.prototype.clone=function(){return new n({x:this.x,y:this.y,z:this.z})};return r}(f);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"x",void 0);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"y",void 0);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,
"z",void 0);a.Symbol3DAnchorPosition3D=n=c.__decorate([g.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],a.Symbol3DAnchorPosition3D);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/PathSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q){var k;d=k=function(p){function e(v){v=p.call(this,v)||this;v.material=null;v.castShadows=!0;v.type="path";v.profile="circle";v.join="miter";v.cap="butt";v.width=void 0;v.height=void 0;v.anchor="center";v.profileRotation="all";return v}a._inheritsLoose(e,p);var h=e.prototype;h.readWidth=function(v,x){return null!=v?v:null==x.height&&null!=x.size?x.size:void 0};h.readHeight=function(v,x){return null!=v?v:null==x.width&&null!=x.size?x.size:void 0};h.clone=function(){return new k({enabled:this.enabled,
material:c.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};return e}(m);b.__decorate([f.property({type:r.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);b.__decorate([f.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);b.__decorate([t.enumeration({Path:"path"},
{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([f.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],d.prototype,"profile",void 0);b.__decorate([f.property({type:q.lineJoins,json:{write:!0,default:"miter"}})],d.prototype,"join",void 0);b.__decorate([f.property({type:q.pathCaps,json:{write:!0,default:"butt"}})],d.prototype,"cap",void 0);b.__decorate([f.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],d.prototype,"width",void 0);
b.__decorate([g.reader("width",["width","size","height"])],d.prototype,"readWidth",null);b.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"height",void 0);b.__decorate([g.reader("height",["height","size","width"])],d.prototype,"readHeight",null);b.__decorate([f.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],d.prototype,"anchor",void 0);b.__decorate([f.property({type:["heading","all"],json:{write:!0,default:"all"}})],d.prototype,"profileRotation",void 0);
return d=k=b.__decorate([n.subclass("esri.symbols.PathSymbol3DLayer")],d)})},"esri/symbols/TextSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial ./support/Symbol3DTextBackground ./support/textUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e){var h;l=h=function(v){function x(w){w=v.call(this,w)||this;w._userSize=void 0;w.halo=null;w.horizontalAlignment="center";w.lineHeight=1;w.material=null;w.background=null;w.text=null;w.type="text";w.verticalAlignment="baseline";return w}a._inheritsLoose(x,v);var A=x.prototype;A.writeFont=function(w,y,z,C){y.font=w.write({},{...C,textSymbol3D:!0});delete y.font.size};A.clone=function(){const w=new h({enabled:this.enabled,font:this.font&&c.clone(this.font),halo:this.halo&&
c.clone(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:f.isSome(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:c.clone(this.background)});w._userSize=this._userSize;return w};x.fromTextSymbol=function(w){var y=h,z=f.isSome(w.font)?w.font.clone():new n;var C=w.haloColor;var B=w.haloSize;C=C&&0<B?new q.Symbol3DHalo({color:c.clone(C),size:B}):null;return new y({font:z,halo:C,horizontalAlignment:w.horizontalAlignment,
lineHeight:w.lineHeight,material:w.color?new k.Symbol3DMaterial({color:w.color.clone()}):null,text:w.text,verticalAlignment:w.verticalAlignment,background:w.backgroundColor?new p.Symbol3DTextBackground({color:w.backgroundColor.clone()}):null})};a._createClass(x,[{key:"font",get:function(){return this._get("font")||null},set:function(w){f.isSome(w)&&f.isSome(this._userSize)&&(w.size=this._userSize);this._set("font",w)}},{key:"size",get:function(){return f.isSome(this._userSize)?this._userSize:f.isSome(this.font)&&
null!=this.font.size?this.font.size:9},set:function(w){this._userSize=w;f.isSome(this.font)&&(this.font.size=this._userSize);this.notifyChange("size")}}]);return x}(m);b.__decorate([d.property({type:n,json:{write:!0}})],l.prototype,"font",null);b.__decorate([g.writer("font")],l.prototype,"writeFont",null);b.__decorate([d.property({type:q.Symbol3DHalo,json:{write:!0}})],l.prototype,"halo",void 0);b.__decorate([d.property({...e.horizontalAlignmentProperty3D,json:{default:"center",write:!0}})],l.prototype,
"horizontalAlignment",void 0);b.__decorate([d.property({...e.lineHeightProperty,json:{default:1,write:!0}})],l.prototype,"lineHeight",void 0);b.__decorate([d.property({type:k.Symbol3DMaterial,json:{write:!0}})],l.prototype,"material",void 0);b.__decorate([d.property({type:p.Symbol3DTextBackground,json:{write:!0}})],l.prototype,"background",void 0);b.__decorate([d.property(r.screenSizeProperty)],l.prototype,"size",null);b.__decorate([d.property({type:String,json:{write:!0}})],l.prototype,"text",void 0);
b.__decorate([u.enumeration({Text:"text"},{readOnly:!0})],l.prototype,"type",void 0);b.__decorate([d.property({...e.verticalAlignmentProperty,json:{default:"baseline",write:!0}})],l.prototype,"verticalAlignment",void 0);return l=h=b.__decorate([t.subclass("esri.symbols.TextSymbol3DLayer")],l)})},"esri/symbols/support/Symbol3DHalo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n){var m;a.Symbol3DHalo=m=function(r){function q(){var k=r.apply(this,arguments)||this;k.color=new f([0,0,0,1]);k.size=0;return k}b._inheritsLoose(q,r);q.prototype.clone=function(){const k={color:l.clone(this.color),size:this.size};return new m(k)};return q}(d.JSONSupport);c.__decorate([u.property(n.colorAndTransparencyProperty)],a.Symbol3DHalo.prototype,"color",void 0);c.__decorate([u.property(n.screenSizeProperty)],a.Symbol3DHalo.prototype,"size",void 0);a.Symbol3DHalo=
m=c.__decorate([g.subclass("esri.symbols.support.Symbol3DHalo")],a.Symbol3DHalo);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DTextBackground":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){a.Symbol3DTextBackground=function(r){function q(k){k=r.call(this,k)||this;k.color=null;return k}b._inheritsLoose(q,r);return q}(f.ClonableMixin(d.JSONSupport));c.__decorate([l.property(m.colorAndTransparencyProperty)],a.Symbol3DTextBackground.prototype,"color",void 0);a.Symbol3DTextBackground=c.__decorate([n.subclass("esri.symbols.support.Symbol3DTextBackground")],a.Symbol3DTextBackground);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/WaterSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;g=n=function(r){function q(k){k=r.call(this,k)||this;k.color=m.clone();k.type="water";k.waterbodySize="medium";k.waveDirection=null;k.waveStrength="moderate";return k}a._inheritsLoose(q,r);q.prototype.clone=function(){return new n({color:f.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};return q}(g);b.__decorate([d.property({type:c,nonNullable:!0,json:{type:[l.Integer],write:(r,q,k)=>q[k]=r.toArray(c.AlphaMode.UNLESS_OPAQUE),
default:()=>m.clone(),defaultEquals:r=>r.toCss(!0)===m.toCss(!0)}})],g.prototype,"color",void 0);b.__decorate([u.enumeration({Water:"water"},{readOnly:!0})],g.prototype,"type",void 0);b.__decorate([d.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],g.prototype,"waterbodySize",void 0);b.__decorate([d.property({type:Number,json:{write:!0,default:null}})],g.prototype,"waveDirection",void 0);b.__decorate([d.property({type:["calm","rippled","slight","moderate"],json:{write:!0,
default:"moderate"}})],g.prototype,"waveStrength",void 0);g=n=b.__decorate([t.subclass("esri.symbols.WaterSymbol3DLayer")],g);const m=new c([0,119,190]);return g})},"esri/symbols/support/StyleOrigin":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../portal/Portal".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;c=n=function(m){function r(){var q=m.apply(this,arguments)||this;q.portal=null;return q}a._inheritsLoose(r,m);r.prototype.clone=function(){return new n({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};return r}(c);b.__decorate([f.property({type:String})],c.prototype,"name",void 0);b.__decorate([f.property({type:String})],c.prototype,"styleUrl",void 0);b.__decorate([f.property({type:String})],c.prototype,"styleName",void 0);b.__decorate([f.property({type:g})],
c.prototype,"portal",void 0);return c=n=b.__decorate([t.subclass("esri.symbols.support.StyleOrigin")],c)})},"esri/symbols/support/Thumbnail":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t,g){var n;a.Thumbnail=n=function(m){function r(){return m.apply(this,
arguments)||this}b._inheritsLoose(r,m);r.prototype.clone=function(){return new n({url:this.url})};return r}(f);c.__decorate([d.property({type:String})],a.Thumbnail.prototype,"url",void 0);a.Thumbnail=n=c.__decorate([g.subclass("esri.symbols.support.Thumbnail")],a.Thumbnail);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/callouts/calloutUtils":function(){define(["exports","./Callout3D","./LineCallout3D"],function(a,b,c){function f(d){if(!d)return!1;d=d.verticalOffset;return!d||0>=
d.screenLength||0>=d.maxWorldLength?!1:!0}a.calloutProperty={types:{key:"type",base:b,typeMap:{line:c}},json:{write:!0}};a.hasCalloutSupport=function(d){return"point-3d"===d.type||"label-3d"===d.type};a.hasVisibleCallout=function(d){if(!d||!d.supportsCallout||!d.supportsCallout())return!1;const l=d.callout;return l&&l.visible?f(d)?!0:!1:!1};a.hasVisibleVerticalOffset=f;a.textSymbolLayerSupportsVerticalOffset=function(d){({horizontalAlignment:d}=d);return"center"===d||"justify"===d};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/symbols/callouts/Callout3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t){c=function(g){function n(m){m=g.call(this,m)||this;m.visible=!0;return m}a._inheritsLoose(n,g);n.prototype.clone=function(){};return n}(c.JSONSupport);
b.__decorate([f.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);b.__decorate([f.property({readOnly:!0})],c.prototype,"visible",void 0);return c=b.__decorate([t.subclass("esri.symbols.callouts.Callout3D")],c)})},"esri/symbols/callouts/LineCallout3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Callout3D ../../chunks/LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q){var k;t=k=function(p){function e(h){h=p.call(this,h)||this;h.type="line";h.color=new c([0,0,0,1]);h.size=l.px2pt(1);h.border=null;return h}a._inheritsLoose(e,p);e.prototype.clone=function(){return new k({color:f.clone(this.color),size:this.size,border:f.clone(this.border)})};a._createClass(e,[{key:"visible",get:function(){return 0<this.size&&d.isSome(this.color)&&0<this.color.a}}]);return e}(m);b.__decorate([g.enumeration({line:"line"},{readOnly:!0})],t.prototype,
"type",void 0);b.__decorate([u.property(q.colorAndTransparencyProperty)],t.prototype,"color",void 0);b.__decorate([u.property(q.screenSizeProperty)],t.prototype,"size",void 0);b.__decorate([u.property({type:r.LineCallout3DBorder$1,json:{write:!0}})],t.prototype,"border",void 0);b.__decorate([u.property({readOnly:!0})],t.prototype,"visible",null);return t=k=b.__decorate([n.subclass("esri.symbols.callouts.LineCallout3D")],t)})},"esri/chunks/LineCallout3DBorder":function(){define("exports ./_rollupPluginBabelHelpers ./tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../symbols/support/materialUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n){var m;a.LineCallout3DBorder$2=m=function(r){function q(){var k=r.apply(this,arguments)||this;k.color=new f("white");return k}b._inheritsLoose(q,r);q.prototype.clone=function(){return new m({color:l.clone(this.color)})};return q}(d.JSONSupport);c.__decorate([u.property(n.colorAndTransparencyProperty)],a.LineCallout3DBorder$2.prototype,"color",void 0);a.LineCallout3DBorder$2=m=c.__decorate([g.subclass("esri.symbols.callouts.LineCallout3DBorder")],a.LineCallout3DBorder$2);
c=a.LineCallout3DBorder$2;d=Object.freeze({__proto__:null,get LineCallout3DBorder(){return a.LineCallout3DBorder$2},default:c});a.LineCallout3DBorder=d;a.LineCallout3DBorder$1=c})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n){var m;a.Symbol3DVerticalOffset=m=function(r){function q(){var k=r.apply(this,arguments)||this;k.screenLength=0;k.minWorldLength=0;return k}b._inheritsLoose(q,r);q.prototype.clone=function(){return new m({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};return q}(f.JSONSupport);c.__decorate([d.property(n.screenSizeProperty)],a.Symbol3DVerticalOffset.prototype,"screenLength",void 0);c.__decorate([d.property({type:Number,
json:{write:!0,default:0}})],a.Symbol3DVerticalOffset.prototype,"minWorldLength",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],a.Symbol3DVerticalOffset.prototype,"maxWorldLength",void 0);a.Symbol3DVerticalOffset=m=c.__decorate([g.subclass("esri.symbols.support.Symbol3DVerticalOffset")],a.Symbol3DVerticalOffset);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/LineSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){var r;const q=c.ofType({base:null,key:"type",typeMap:{line:g,path:n}});c=c.ofType({base:null,key:"type",typeMap:{line:g,path:n}});m=r=function(k){function p(e){e=k.call(this,e)||this;e.symbolLayers=new q;e.type="line-3d";return e}a._inheritsLoose(p,k);p.prototype.clone=function(){return new r({styleOrigin:f.clone(this.styleOrigin),symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail)})};p.fromSimpleLineSymbol=function(e){return new r({symbolLayers:[g.fromSimpleLineSymbol(e)]})};
return p}(m);b.__decorate([d.property({type:q,json:{type:c}})],m.prototype,"symbolLayers",void 0);b.__decorate([u.enumeration({LineSymbol3D:"line-3d"},{readOnly:!0})],m.prototype,"type",void 0);return m=r=b.__decorate([t.subclass("esri.symbols.LineSymbol3D")],m)})},"esri/symbols/MarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,c,f,d,l,u,t,g){d=function(n){function m(r){r=n.call(this,r)||this;r.angle=0;r.type=null;r.xoffset=0;r.yoffset=0;r.size=9;return r}a._inheritsLoose(m,n);m.prototype.hash=function(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`};return m}(g);b.__decorate([f.property({type:Number,json:{read:n=>n&&-1*n,write:(n,m)=>m.angle=n&&-1*n}})],d.prototype,"angle",void 0);b.__decorate([f.property({type:["simple-marker","picture-marker"],readOnly:!0})],d.prototype,
"type",void 0);b.__decorate([f.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"xoffset",void 0);b.__decorate([f.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"yoffset",void 0);b.__decorate([f.property({type:Number,cast:n=>"auto"===n?n:c.toPt(n),json:{write:!0}})],d.prototype,"size",void 0);return d=b.__decorate([t.subclass("esri.symbols.MarkerSymbol")],d)})},"esri/symbols/MeshSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,c,f,d,l,u,t,g,n){var m;const r=c.ofType({base:null,key:"type",typeMap:{fill:g}});c=m=function(q){function k(p){p=q.call(this,p)||this;p.symbolLayers=new r;p.type="mesh-3d";return p}a._inheritsLoose(k,q);k.prototype.clone=function(){return new m({styleOrigin:f.clone(this.styleOrigin),symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail)})};return k}(n);b.__decorate([d.property({type:r})],c.prototype,"symbolLayers",void 0);b.__decorate([u.enumeration({MeshSymbol3D:"mesh-3d"},
{readOnly:!0})],c.prototype,"type",void 0);return c=m=b.__decorate([t.subclass("esri.symbols.MeshSymbol3D")],c)})},"esri/symbols/PictureFillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./support/urlUtils".split(" "),function(a,b,c,f,d,l,u,t,g,n){var m;
l=m=function(r){function q(...p){p=r.call(this,...p)||this;p.type="picture-fill";p.url=null;p.xscale=1;p.yscale=1;p.width=12;p.height=12;p.xoffset=0;p.yoffset=0;p.source=null;return p}a._inheritsLoose(q,r);var k=q.prototype;k.normalizeCtorArgs=function(p,e,h,v){if(p&&"string"!==typeof p&&null==p.imageData)return p;const x={};p&&(x.url=p);e&&(x.outline=e);null!=h&&(x.width=f.toPt(h));null!=v&&(x.height=f.toPt(v));return x};k.clone=function(){const p=new m({color:c.clone(this.color),height:this.height,
outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});p._set("source",c.clone(this.source));return p};k.hash=function(){var p;return`${r.prototype.hash.call(this)}.${null==(p=this.color)?void 0:p.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`};return q}(g);b.__decorate([u.enumeration({esriPFS:"picture-fill"},{readOnly:!0})],l.prototype,
"type",void 0);b.__decorate([d.property(n.urlPropertyDefinition)],l.prototype,"url",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],l.prototype,"xscale",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],l.prototype,"yscale",void 0);b.__decorate([d.property({type:Number,cast:f.toPt,json:{write:!0}})],l.prototype,"width",void 0);b.__decorate([d.property({type:Number,cast:f.toPt,json:{write:!0}})],l.prototype,"height",void 0);b.__decorate([d.property({type:Number,cast:f.toPt,
json:{write:!0}})],l.prototype,"xoffset",void 0);b.__decorate([d.property({type:Number,cast:f.toPt,json:{write:!0}})],l.prototype,"yoffset",void 0);b.__decorate([d.property(n.sourcePropertyDefinition)],l.prototype,"source",void 0);return l=m=b.__decorate([t.subclass("esri.symbols.PictureFillSymbol")],l)})},"esri/symbols/support/urlUtils":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c){function f(t,g,n){return g.imageData?b.makeData({mediaType:g.contentType||
"image/png",isBase64:!0,data:g.imageData}):d(g.url,n)}function d(t,g){return!g||"service"!==g.origin&&"portal-item"!==g.origin||!g.layer||"feature"!==g.layer.type&&"stream"!==g.layer.type||b.isAbsolute(t)||!g.layer.parsedUrl?c.fromJSON(t,g):b.join(g.layer.parsedUrl.path,"images",t)}function l(t,g,n,m){b.isDataProtocol(t)?(t=b.dataComponents(t),g.contentType=t.mediaType,g.imageData=t.data,n&&n.imageData===g.imageData&&n.url&&c.write(n.url,g,"url",m)):c.write(t,g,"url",m)}const u={json:{read:{source:["imageData",
"url"],reader:f},write:{writer(t,g,n,m){l(t,g,this.source,m)}}}};a.read=d;a.readImageDataOrUrl=f;a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,g,n){t={};g.imageData&&(t.imageData=g.imageData);g.contentType&&(t.contentType=g.contentType);g.url&&(t.url=d(g.url,n));return t}}}};a.urlPropertyDefinition=u;a.writeImageDataAndUrl=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/PictureMarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./MarkerSymbol ./support/urlUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){var r;l=r=function(q){function k(...e){e=q.call(this,...e)||this;e.color=null;e.type="picture-marker";e.url=null;e.source=null;e.height=12;e.width=12;e.size=null;return e}a._inheritsLoose(k,q);var p=k.prototype;p.normalizeCtorArgs=function(e,h,v){if(e&&"string"!==typeof e&&null==e.imageData)return e;const x={};e&&(x.url=e);null!=h&&(x.width=f.toPt(h));null!=v&&(x.height=f.toPt(v));return x};p.readHeight=function(e,h){return h.size||e};p.readWidth=function(e,h){return h.size||
e};p.clone=function(){const e=new r({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});e._set("source",c.clone(this.source));return e};p.hash=function(){return`${q.prototype.hash.call(this)}.${this.height}.${this.url}.${this.width}`};return k}(n);b.__decorate([d.property({json:{write:!1}})],l.prototype,"color",void 0);b.__decorate([u.enumeration({esriPMS:"picture-marker"},{readOnly:!0})],l.prototype,"type",void 0);b.__decorate([d.property(m.urlPropertyDefinition)],
l.prototype,"url",void 0);b.__decorate([d.property(m.sourcePropertyDefinition)],l.prototype,"source",void 0);b.__decorate([d.property({type:Number,cast:f.toPt,json:{write:!0}})],l.prototype,"height",void 0);b.__decorate([t.reader("height",["height","size"])],l.prototype,"readHeight",null);b.__decorate([d.property({type:Number,cast:f.toPt,json:{write:!0}})],l.prototype,"width",void 0);b.__decorate([d.property({json:{write:!1}})],l.prototype,"size",void 0);return l=r=b.__decorate([g.subclass("esri.symbols.PictureMarkerSymbol")],
l)})},"esri/symbols/PointSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(a,b,c,f,d,l,u,t,g,n,m,r,q,k){var p;const e=
c.ofType({base:null,key:"type",typeMap:{icon:g,object:n,text:r}});c=p=function(h){function v(A){A=h.call(this,A)||this;A.verticalOffset=null;A.callout=null;A.symbolLayers=new e;A.type="point-3d";return A}a._inheritsLoose(v,h);var x=v.prototype;x.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(const A of this.symbolLayers.items)switch(A.type){case "icon":case "text":case "object":continue;default:return!1}return!0};x.hasVisibleCallout=function(){return q.hasVisibleCallout(this)};
x.hasVisibleVerticalOffset=function(){return q.hasVisibleVerticalOffset(this)};x.clone=function(){return new p({verticalOffset:f.clone(this.verticalOffset),callout:f.clone(this.callout),styleOrigin:f.clone(this.styleOrigin),symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail)})};v.fromSimpleMarkerSymbol=function(A){return new p({symbolLayers:[g.fromSimpleMarkerSymbol(A)]})};v.fromPictureMarkerSymbol=function(A){return new p({symbolLayers:[g.fromPictureMarkerSymbol(A)]})};v.fromCIMSymbol=
function(A){var w,y;return"CIMPointSymbol"!==(null==(w=A.data)?void 0:null==(y=w.symbol)?void 0:y.type)?null:A.data.symbol.callout?new p({symbolLayers:[g.fromCIMSymbol(A)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new p({symbolLayers:[g.fromCIMSymbol(A)]})};v.fromTextSymbol=function(A){return new p({symbolLayers:[r.fromTextSymbol(A)]})};return v}(m);b.__decorate([d.property({type:k.Symbol3DVerticalOffset,json:{write:!0}})],c.prototype,"verticalOffset",void 0);
b.__decorate([d.property(q.calloutProperty)],c.prototype,"callout",void 0);b.__decorate([d.property({type:e,json:{origins:{"web-scene":{write:!0}}}})],c.prototype,"symbolLayers",void 0);b.__decorate([u.enumeration({PointSymbol3D:"point-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=p=b.__decorate([t.subclass("esri.symbols.PointSymbol3D")],c)})},"esri/symbols/PolygonSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/Error ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x){var A;const w=c.ofType({base:null,key:"type",typeMap:{extrude:r,fill:q,icon:k,line:p,object:e,text:v,water:x}});c=c.ofType({base:null,key:"type",typeMap:{extrude:r,fill:q,icon:k,line:p,object:e,water:x}});h=A=function(y){function z(B){B=y.call(this,B)||this;B.symbolLayers=new w;B.type="polygon-3d";return B}a._inheritsLoose(z,y);var C=z.prototype;C.writeSymbolLayers=function(B,D,G,K){const M=B.filter(N=>"text"!==N.type);K&&K.messages&&M.length<B.length&&
(B=B.find(N=>"text"===N.type),K.messages.push(new f("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:B})));D[G]=M.map(N=>N.write({},K)).toArray()};C.clone=function(){return new A({styleOrigin:d.clone(this.styleOrigin),symbolLayers:d.clone(this.symbolLayers),thumbnail:d.clone(this.thumbnail)})};z.fromJSON=function(B){const D=new A;D.read(B);if(2===D.symbolLayers.length&&"fill"===D.symbolLayers.getItemAt(0).type&&"line"===D.symbolLayers.getItemAt(1).type){const G=
D.symbolLayers.getItemAt(0),K=D.symbolLayers.getItemAt(1);!K.enabled||B.symbolLayers&&B.symbolLayers[1]&&!1===B.symbolLayers[1].enable||(G.outline={size:K.size,color:l.isSome(K.material)?K.material.color:null});D.symbolLayers.removeAt(1)}return D};z.fromSimpleFillSymbol=function(B){return new A({symbolLayers:[q.fromSimpleFillSymbol(B)]})};return z}(h);b.__decorate([u.property({type:w,json:{type:c}})],h.prototype,"symbolLayers",void 0);b.__decorate([m.writer("web-scene","symbolLayers")],h.prototype,
"writeSymbolLayers",null);b.__decorate([g.enumeration({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],h.prototype,"type",void 0);return h=A=b.__decorate([n.subclass("esri.symbols.PolygonSymbol3D")],h)})},"esri/symbols/SimpleFillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./SimpleLineSymbol".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){var r;f=new f.JSONMap({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});n=r=function(q){function k(...e){e=q.call(this,...e)||this;e.color=new c([0,0,0,.25]);e.outline=new m;e.type="simple-fill";e.style="solid";return e}a._inheritsLoose(k,q);var p=k.prototype;p.normalizeCtorArgs=
function(e,h,v){if(e&&"string"!==typeof e)return e;const x={};e&&(x.style=e);h&&(x.outline=h);v&&(x.color=v);return x};p.clone=function(){return new r({color:d.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})};p.hash=function(){return`${q.prototype.hash.call(this)}${this.style}.${this.color&&this.color.hash()}`};return k}(n);b.__decorate([l.property()],n.prototype,"color",void 0);b.__decorate([l.property()],n.prototype,"outline",void 0);b.__decorate([t.enumeration({esriSFS:"simple-fill"},
{readOnly:!0})],n.prototype,"type",void 0);b.__decorate([l.property({type:f.apiValues,json:{read:f.read,write:f.write}})],n.prototype,"style",void 0);return n=r=b.__decorate([g.subclass("esri.symbols.SimpleFillSymbol")],n)})},"esri/symbols/SimpleMarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q){var k;f=new f.JSONMap({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});r=k=function(p){function e(...v){v=p.call(this,...v)||this;v.color=new c([255,255,255,.25]);v.type="simple-marker";v.size=12;v.style="circle";v.outline=new q;return v}a._inheritsLoose(e,p);var h=e.prototype;h.normalizeCtorArgs=function(v,x,A,w){if(v&&"string"!==typeof v)return v;const y={};
v&&(y.style=v);null!=x&&(y.size=l.toPt(x));A&&(y.outline=A);w&&(y.color=w);return y};h.writeColor=function(v,x){v&&"x"!==this.style&&"cross"!==this.style&&(x.color=v.toJSON());null===v&&(x.color=null)};h.clone=function(){return new k({angle:this.angle,color:d.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};h.hash=function(){var v;return`${p.prototype.hash.call(this)}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${null==
(v=this.outline)?void 0:v.hash()}`};a._createClass(e,[{key:"path",set:function(v){this.style="path";this._set("path",v)}}]);return e}(r);b.__decorate([u.property()],r.prototype,"color",void 0);b.__decorate([m.writer("color")],r.prototype,"writeColor",null);b.__decorate([g.enumeration({esriSMS:"simple-marker"},{readOnly:!0})],r.prototype,"type",void 0);b.__decorate([u.property()],r.prototype,"size",void 0);b.__decorate([u.property({type:f.apiValues,json:{read:f.read,write:f.write}})],r.prototype,"style",
void 0);b.__decorate([u.property({type:String,json:{write:!0}})],r.prototype,"path",null);b.__decorate([u.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":q}},json:{default:null,write:!0}})],r.prototype,"outline",void 0);return r=k=b.__decorate([n.subclass("esri.symbols.SimpleMarkerSymbol")],r)})},"esri/symbols/TextSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol ./support/textUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q){var k;r=k=function(p){function e(...v){v=p.call(this,...v)||this;v.backgroundColor=null;v.borderLineColor=null;v.borderLineSize=null;v.font=new m;v.horizontalAlignment="center";v.kerning=!0;v.haloColor=null;v.haloSize=null;v.rightToLeft=null;v.rotated=!1;v.text="";v.type="text";v.verticalAlignment="baseline";v.xoffset=0;v.yoffset=0;v.angle=0;v.width=null;v.lineWidth=192;v.lineHeight=1;return v}a._inheritsLoose(e,p);var h=e.prototype;h.normalizeCtorArgs=function(v,
x,A){if(v&&"string"!==typeof v)return v;const w={};v&&(w.text=v);x&&(w.font=x);A&&(w.color=A);return w};h.writeLineWidth=function(v,x,A,w){w&&"string"!==typeof w||(x[A]=v)};h.castLineWidth=function(v){return d.toPt(v)};h.writeLineHeight=function(v,x,A,w){w&&"string"!==typeof w||(x[A]=v)};h.clone=function(){return new k({angle:this.angle,backgroundColor:f.clone(this.backgroundColor),borderLineColor:f.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:f.clone(this.color),font:this.font&&
this.font.clone(),haloColor:f.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};h.hash=function(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&
this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`};return e}(r);b.__decorate([l.property({type:c,json:{write:!0}})],r.prototype,"backgroundColor",void 0);b.__decorate([l.property({type:c,json:{write:!0}})],r.prototype,"borderLineColor",void 0);b.__decorate([l.property({type:Number,
json:{write:!0}})],r.prototype,"borderLineSize",void 0);b.__decorate([l.property({type:m,json:{write:!0}})],r.prototype,"font",void 0);b.__decorate([l.property({...q.horizontalAlignmentProperty,json:{write:!0}})],r.prototype,"horizontalAlignment",void 0);b.__decorate([l.property({type:Boolean,json:{write:!0}})],r.prototype,"kerning",void 0);b.__decorate([l.property({type:c,json:{write:!0}})],r.prototype,"haloColor",void 0);b.__decorate([l.property({type:Number,cast:d.toPt,json:{write:!0}})],r.prototype,
"haloSize",void 0);b.__decorate([l.property({type:Boolean,json:{write:!0}})],r.prototype,"rightToLeft",void 0);b.__decorate([l.property({type:Boolean,json:{write:!0}})],r.prototype,"rotated",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],r.prototype,"text",void 0);b.__decorate([t.enumeration({esriTS:"text"},{readOnly:!0})],r.prototype,"type",void 0);b.__decorate([l.property({...q.verticalAlignmentProperty,json:{write:!0}})],r.prototype,"verticalAlignment",void 0);b.__decorate([l.property({type:Number,
cast:d.toPt,json:{write:!0}})],r.prototype,"xoffset",void 0);b.__decorate([l.property({type:Number,cast:d.toPt,json:{write:!0}})],r.prototype,"yoffset",void 0);b.__decorate([l.property({type:Number,json:{read:p=>p&&-1*p,write:(p,e)=>e.angle=p&&-1*p}})],r.prototype,"angle",void 0);b.__decorate([l.property({type:Number,json:{write:!0}})],r.prototype,"width",void 0);b.__decorate([l.property({type:Number})],r.prototype,"lineWidth",void 0);b.__decorate([n.writer("lineWidth")],r.prototype,"writeLineWidth",
null);b.__decorate([u.cast("lineWidth")],r.prototype,"castLineWidth",null);b.__decorate([l.property(q.lineHeightProperty)],r.prototype,"lineHeight",void 0);b.__decorate([n.writer("lineHeight")],r.prototype,"writeLineHeight",null);return r=k=b.__decorate([g.subclass("esri.symbols.TextSymbol")],r)})},"esri/symbols/WebStyleSymbol":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../portal/Portal ../chunks/persistableUrlUtils ./Symbol ./support/Thumbnail".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p){function e(){return new Promise((x,A)=>a(["./support/webStyleSymbolUtils"],x,A))}var h;const v=f.getLogger("esri.symbols.WebStyleSymbol");f=h=function(x){function A(y){y=x.call(this,y)||this;y.styleName=null;y.portal=null;y.styleUrl=null;y.thumbnail=null;y.name=null;y.type="web-style";return y}b._inheritsLoose(A,x);var w=A.prototype;w.read=function(y,z){this.portal=z?z.portal:void 0;x.prototype.read.call(this,y,z)};w.clone=function(){return new h({name:this.name,
styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};w.fetchSymbol=function(y){return this._fetchSymbol("webRef",y)};w.fetchCIMSymbol=function(y){return this._fetchSymbol("cimRef",y)};w._fetchSymbol=function(){var y=b._asyncToGenerator(function*(z,C){const B=yield e();d.throwIfAborted(C);z=B.resolveWebStyleSymbol(this,{portal:this.portal},z,C);z.catch(D=>{v.error("#fetchSymbol()","Failed to create symbol from style",D)});return z});return function(z,C){return y.apply(this,arguments)}}();
return A}(k);c.__decorate([l.property({json:{write:!1}})],f.prototype,"color",void 0);c.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"styleName",void 0);c.__decorate([l.property({type:r,json:{write:!1}})],f.prototype,"portal",void 0);c.__decorate([l.property({type:String,json:{read:q.read,write:q.write}})],f.prototype,"styleUrl",void 0);c.__decorate([l.property({type:p.Thumbnail,json:{read:!1}})],f.prototype,"thumbnail",void 0);c.__decorate([l.property({type:String,json:{write:!0}})],
f.prototype,"name",void 0);c.__decorate([n.enumeration({styleSymbolReference:"web-style"},{readOnly:!0})],f.prototype,"type",void 0);return f=h=c.__decorate([m.subclass("esri.symbols.WebStyleSymbol")],f)})},"esri/renderers/Renderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/AuthoringInfo".split(" "),
function(a,b,c,f,d,l,u,t,g,n){c=new c.JSONMap({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});f=function(m){function r(k){k=m.call(this,k)||this;k.authoringInfo=null;k.type=null;return k}a._inheritsLoose(r,m);var q=r.prototype;q.getRequiredFields=function(){var k=a._asyncToGenerator(function*(p){if(!this.collectRequiredFields)return[];const e=new Set;yield this.collectRequiredFields(e,p);
return Array.from(e).sort()});return function(p){return k.apply(this,arguments)}}();q.getSymbol=function(k,p){};q.getSymbolAsync=function(){var k=a._asyncToGenerator(function*(p,e){});return function(p,e){return k.apply(this,arguments)}}();q.getSymbols=function(){return[]};q.getAttributeHash=function(){return JSON.stringify(this)};q.getMeshHash=function(){return JSON.stringify(this)};return r}(f.JSONSupport);b.__decorate([d.property({type:n,json:{write:!0}})],f.prototype,"authoringInfo",void 0);b.__decorate([d.property({type:c.apiValues,
readOnly:!0,json:{type:c.jsonValues,read:!1,write:{writer:c.write,ignoreOrigin:!0}}})],f.prototype,"type",void 0);return f=b.__decorate([g.subclass("esri.renderers.Renderer")],f)})},"esri/renderers/support/AuthoringInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../rest/support/colorRamps".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r){var q;const k=new c.JSONMap({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),p=new c.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",
flow:"flow"});c=new c.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"});const e="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");f=q=function(h){function v(A){A=h.call(this,A)||this;A.colorRamp=null;A.lengthUnit=null;A.maxSliderValue=null;A.minSliderValue=null;A.visualVariables=
null;return A}a._inheritsLoose(v,h);var x=v.prototype;x.readColorRamp=function(A){if(A)return r.fromJSON(A)};x.clone=function(){return new q({classificationMethod:this.classificationMethod,colorRamp:d.clone(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:d.clone(this.field1),field2:d.clone(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,
type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(A=>A.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})};a._createClass(v,[{key:"classificationMethod",get:function(){const A=this._get("classificationMethod"),w=this.type;return w&&"relationship"!==w?"class-breaks-size"===w||"class-breaks-color"===w?A||"manual":null:A},set:function(A){this._set("classificationMethod",A)}},{key:"fields",get:function(){return this.type&&
"predominance"!==this.type?null:this._get("fields")},set:function(A){this._set("fields",A)}},{key:"field1",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},set:function(A){this._set("field1",A)}},{key:"field2",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(A){this._set("field2",A)}},{key:"flowTheme",get:function(){return"flow"===this.type?this._get("flowTheme"):null},set:function(A){this._set("flowTheme",A)}},
{key:"focus",get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(A){this._set("focus",A)}},{key:"numClasses",get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(A){this._set("numClasses",A)}},{key:"statistics",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null},set:function(A){this._set("statistics",A)}},{key:"standardDeviationInterval",
get:function(){const A=this.type;return A&&"relationship"!==A&&"class-breaks-size"!==A&&"class-breaks-color"!==A?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(A){this._set("standardDeviationInterval",A)}},{key:"type",get:function(){return this._get("type")},set:function(A){let w=A;"classed-size"===A?w="class-breaks-size":"classed-color"===A&&(w="class-breaks-color");this._set("type",w)}},{key:"univariateSymbolStyle",
get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null},set:function(A){this._set("univariateSymbolStyle",A)}},{key:"univariateTheme",get:function(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null},set:function(A){this._set("univariateTheme",A)}}]);return v}(f.JSONSupport);b.__decorate([l.property({type:k.apiValues,value:null,json:{type:k.jsonValues,read:k.read,write:k.write,origins:{"web-document":{default:"manual",
type:k.jsonValues,read:k.read,write:k.write}}}})],f.prototype,"classificationMethod",null);b.__decorate([l.property({types:r.types,json:{write:!0}})],f.prototype,"colorRamp",void 0);b.__decorate([t.reader("colorRamp")],f.prototype,"readColorRamp",null);b.__decorate([l.property({type:[String],value:null,json:{write:!0}})],f.prototype,"fields",null);b.__decorate([l.property({type:n.default,value:null,json:{write:!0}})],f.prototype,"field1",null);b.__decorate([l.property({type:n.default,value:null,json:{write:!0}})],
f.prototype,"field2",null);b.__decorate([l.property({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],f.prototype,"flowTheme",null);b.__decorate([l.property({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],f.prototype,"focus",null);b.__decorate([l.property({type:Number,value:null,json:{type:u.Integer,write:!0}})],f.prototype,"numClasses",null);b.__decorate([l.property({type:e,json:{type:e,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],
f.prototype,"lengthUnit",void 0);b.__decorate([l.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],f.prototype,"maxSliderValue",void 0);b.__decorate([l.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],f.prototype,"minSliderValue",void 0);b.__decorate([l.property({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],f.prototype,"statistics",null);b.__decorate([l.property({type:[.25,.33,.5,1],value:null,json:{type:[.25,
.33,.5,1],write:!0}})],f.prototype,"standardDeviationInterval",null);b.__decorate([l.property({type:p.apiValues,value:null,json:{type:p.jsonValues,read:p.read,write:p.write,origins:{"web-scene":{type:c.jsonValues,write:{writer:c.write,overridePolicy(h){return{enabled:"flow"!==h}}}}}}})],f.prototype,"type",null);b.__decorate([l.property({type:[m],json:{write:!0}})],f.prototype,"visualVariables",void 0);b.__decorate([l.property({type:"caret circle-caret arrow circle-arrow plus-minus circle-plus-minus square circle triangle happy-sad thumb custom".split(" "),
value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],f.prototype,"univariateSymbolStyle",null);b.__decorate([l.property({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],f.prototype,"univariateTheme",null);return f=q=b.__decorate([g.subclass("esri.renderers.support.AuthoringInfo")],f)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AuthoringInfoClassBreakInfo".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;a.AuthoringInfoFieldInfo=n=function(m){function r(q){q=m.call(this,q)||this;q.field="";q.normalizationField="";q.label="";q.classBreakInfos=[];return q}b._inheritsLoose(r,m);r.prototype.clone=function(){return new n({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:d.clone(this.classBreakInfos)})};return r}(f.JSONSupport);c.__decorate([l.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"field",
void 0);c.__decorate([l.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"normalizationField",void 0);c.__decorate([l.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"label",void 0);c.__decorate([l.property({type:[g.default],json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"classBreakInfos",void 0);a.AuthoringInfoFieldInfo=n=c.__decorate([t.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],a.AuthoringInfoFieldInfo);a.default=a.AuthoringInfoFieldInfo;
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t,g){var n;a.AuthoringInfoClassBreakInfo=n=function(m){function r(q){q=m.call(this,
q)||this;q.minValue=0;q.maxValue=0;return q}b._inheritsLoose(r,m);r.prototype.clone=function(){return new n({minValue:this.minValue,maxValue:this.maxValue})};return r}(f.JSONSupport);c.__decorate([d.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"minValue",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"maxValue",void 0);a.AuthoringInfoClassBreakInfo=n=c.__decorate([g.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],
a.AuthoringInfoClassBreakInfo);a.default=a.AuthoringInfoClassBreakInfo;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,
d,l,u,t,g){var n;l=new c.JSONMap({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"});c=new c.JSONMap({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"});u={key(k){return"number"===typeof k?"number":"string"},typeMap:{number:Number,string:String},base:null};const m=["high-to-low","above-and-below","centered-on","extremes"],r=[...new Set("high-to-low above-and-below centered-on extremes 90-10 above below high-to-low above-and-below 90-10 above below".split(" "))],
q="seconds minutes hours days months years".split(" ");f=n=function(k){function p(h){h=k.call(this,h)||this;h.endTime=null;h.field=null;h.maxSliderValue=null;h.minSliderValue=null;h.startTime=null;h.type=null;h.units=null;return h}a._inheritsLoose(p,k);var e=p.prototype;e.castEndTime=function(h){return"string"===typeof h||"number"===typeof h?h:null};e.castStartTime=function(h){return"string"===typeof h||"number"===typeof h?h:null};e.clone=function(){return new n({endTime:this.endTime,field:this.field,
maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})};a._createClass(p,[{key:"style",get:function(){return"color"===this.type?this._get("style"):null},set:function(h){this._set("style",h)}},{key:"theme",get:function(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null},set:function(h){this._set("theme",h)}}]);return p}(f.JSONSupport);b.__decorate([d.property({types:u,
json:{write:!0}})],f.prototype,"endTime",void 0);b.__decorate([t.cast("endTime")],f.prototype,"castEndTime",null);b.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"field",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],f.prototype,"maxSliderValue",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],f.prototype,"minSliderValue",void 0);b.__decorate([d.property({types:u,json:{write:!0}})],f.prototype,"startTime",void 0);b.__decorate([t.cast("startTime")],
f.prototype,"castStartTime",null);b.__decorate([d.property({type:l.apiValues,value:null,json:{type:l.jsonValues,read:l.read,write:l.write}})],f.prototype,"style",null);b.__decorate([d.property({type:r,value:null,json:{type:r,origins:{"web-scene":{type:m,write:{writer:(k,p)=>{-1<m.indexOf(k)&&(p.theme=k)}}}},write:!0}})],f.prototype,"theme",null);b.__decorate([d.property({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],f.prototype,"type",void 0);b.__decorate([d.property({type:q,
json:{type:q,write:!0}})],f.prototype,"units",void 0);return f=n=b.__decorate([g.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],f)})},"esri/rest/support/colorRamps":function(){define(["exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(a,b,c,f){c={key:"type",base:c,typeMap:{algorithmic:b,multipart:f}};a.fromJSON=function(d){return d&&d.type?"algorithmic"===d.type?b.fromJSON(d):"multipart"===d.type?f.fromJSON(d):null:null};a.types=c;Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/rest/support/AlgorithmicColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./ColorRamp".split(" "),function(a,b,c,f,d,l,u,t,g){var n;g=n=function(m){function r(q){q=m.call(this,q)||this;q.algorithm=null;q.fromColor=null;
q.toColor=null;q.type="algorithmic";return q}a._inheritsLoose(r,m);r.prototype.clone=function(){return new n({fromColor:f.clone(this.fromColor),toColor:f.clone(this.toColor),algorithm:this.algorithm})};return r}(g);b.__decorate([u.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],g.prototype,"algorithm",void 0);b.__decorate([d.property({type:c,json:{type:[l.Integer],write:!0}})],g.prototype,"fromColor",void 0);b.__decorate([d.property({type:c,json:{type:[l.Integer],
write:!0}})],g.prototype,"toColor",void 0);b.__decorate([d.property({type:["algorithmic"]})],g.prototype,"type",void 0);return g=n=b.__decorate([t.subclass("esri.rest.support.AlgorithmicColorRamp")],g)})},"esri/rest/support/ColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){c=function(g){function n(m){m=g.call(this,m)||this;m.type=null;return m}a._inheritsLoose(n,g);return n}(c.JSONSupport);b.__decorate([f.property({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.rest.support.ColorRamp")],c)})},"esri/rest/support/MultipartColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AlgorithmicColorRamp ./ColorRamp".split(" "),
function(a,b,c,f,d,l,u,t){var g;d=g=function(n){function m(r){r=n.call(this,r)||this;r.colorRamps=null;r.type="multipart";return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({colorRamps:c.clone(this.colorRamps)})};return m}(t);b.__decorate([f.property({type:[u],json:{write:!0}})],d.prototype,"colorRamps",void 0);b.__decorate([f.property({type:["multipart"]})],d.prototype,"type",void 0);return d=g=b.__decorate([l.subclass("esri.rest.support.MultipartColorRamp")],d)})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/fieldUtils ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h){const v={base:e,key:"type",typeMap:{opacity:q,color:r,rotation:k,size:p}};a.VisualVariablesMixin=x=>{x=function(A){function w(){var z=A.apply(this,arguments)||this;z._vvFactory=new h;return z}b._inheritsLoose(w,A);var y=w.prototype;y.readVisualVariables=function(z,C,B){return this._vvFactory.readVariables(z,C,B)};y.writeVisualVariables=function(z,C,B,D){C[B]=this._vvFactory.writeVariables(z,D)};y.hasVisualVariables=function(z,C){return z?0<this.getVisualVariablesForType(z,
C).length:0<this.getVisualVariablesForType("size",C).length||0<this.getVisualVariablesForType("color",C).length||0<this.getVisualVariablesForType("opacity",C).length||0<this.getVisualVariablesForType("rotation",C).length};y.getVisualVariablesForType=function(z,C){const B=this.visualVariables;return B?B.filter(D=>D.type===z&&("string"===typeof C?D.target===C:!1===C?!D.target:!0)):[]};y.collectVVRequiredFields=function(){var z=b._asyncToGenerator(function*(C,B){let D=[];this.visualVariables&&(D=D.concat(this.visualVariables));
for(const G of D)G&&(G.field&&m.collectField(C,B,G.field),G.normalizationField&&m.collectField(C,B,G.normalizationField),G.valueExpression&&(yield m.collectArcadeFieldNames(C,B,G.valueExpression)))});return function(C,B){return z.apply(this,arguments)}}();b._createClass(w,[{key:"visualVariables",set:function(z){this._vvFactory.visualVariables=z;this._set("visualVariables",this._vvFactory.visualVariables)}},{key:"arcadeRequiredForVisualVariables",get:function(){if(!this.visualVariables)return!1;for(const z of this.visualVariables)if(z.arcadeRequired)return!0;
return!1}}]);return w}(x);c.__decorate([f.property({types:[v],value:null,json:{write:!0}})],x.prototype,"visualVariables",null);c.__decorate([t.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],x.prototype,"readVisualVariables",null);c.__decorate([n.writer("visualVariables")],x.prototype,"writeVisualVariables",null);return x=c.__decorate([g.subclass("esri.renderers.mixins.VisualVariablesMixin")],x)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/visualVariables/ColorVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/ColorStop".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;f=n=function(m){function r(k){k=m.call(this,k)||this;k.type="color";k.normalizationField=null;return k}a._inheritsLoose(r,m);var q=r.prototype;q.clone=function(){return new n({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(k=>k.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})};q.getAttributeHash=function(){return`${m.prototype.getAttributeHash.call(this)}-${this.normalizationField}`};
q._interpolateData=function(){return this.stops&&this.stops.map(k=>k.value||0)};a._createClass(r,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(k){k&&Array.isArray(k)&&(k=k.filter(p=>!!p),k.sort((p,e)=>p.value-e.value));this._set("stops",k)}}]);return r}(t);b.__decorate([c.property({readOnly:!0})],f.prototype,"cache",null);b.__decorate([c.property({type:["color"],json:{type:["colorInfo"]}})],f.prototype,
"type",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"normalizationField",void 0);b.__decorate([c.property({type:[g],json:{write:!0}})],f.prototype,"stops",null);return f=n=b.__decorate([u.subclass("esri.renderers.visualVariables.ColorVariable")],f)})},"esri/renderers/visualVariables/VisualVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r){const q=d.getLogger("esri.renderers.visualVariables.VisualVariable");c=new c.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});f=function(k){function p(h){h=k.call(this,h)||this;h.index=null;h.type=null;h.field=null;h.valueExpression=null;h.valueExpressionTitle=null;h.legendOptions=null;return h}a._inheritsLoose(p,k);var e=p.prototype;e.castField=function(h){return null==h?h:"function"===typeof h?(q.error(".field: field must be a string value"),
null):m.ensureString(h)};e.clone=function(){};e.getAttributeHash=function(){return`${this.type}-${this.field}-${this.valueExpression}`};a._createClass(p,[{key:"arcadeRequired",get:function(){return!!this.valueExpression}}]);return p}(f.JSONSupport);b.__decorate([l.property()],f.prototype,"index",void 0);b.__decorate([l.property({type:c.apiValues,readOnly:!0,json:{read:c.read,write:c.write}})],f.prototype,"type",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"field",void 0);
b.__decorate([g.cast("field")],f.prototype,"castField",null);b.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"valueExpression",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"valueExpressionTitle",void 0);b.__decorate([l.property({readOnly:!0})],f.prototype,"arcadeRequired",null);b.__decorate([l.property({type:r,json:{write:!0}})],f.prototype,"legendOptions",void 0);return f=b.__decorate([n.subclass("esri.renderers.visualVariables.VisualVariable")],
f)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../support/LegendOptions".split(" "),function(a,b,c,f,d,l,u,t){var g;f=g=function(n){function m(){var r=n.apply(this,arguments)||this;r.showLegend=null;
return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({title:this.title,showLegend:this.showLegend})};return m}(t.default);b.__decorate([c.property({type:Boolean,json:{write:!0}})],f.prototype,"showLegend",void 0);return f=g=b.__decorate([u.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],f)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;a.LegendOptions=n=function(m){function r(){var q=m.apply(this,arguments)||this;q.title=null;return q}b._inheritsLoose(r,m);r.prototype.clone=function(){return new n({title:this.title})};return r}(f.JSONSupport);c.__decorate([d.property({type:String,json:{write:!0}})],a.LegendOptions.prototype,"title",void 0);a.LegendOptions=n=c.__decorate([g.subclass("esri.renderers.support.LegendOptions")],a.LegendOptions);a.default=a.LegendOptions;Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),function(a,b,c,f,d,l,u,t,g,n){var m;f=m=function(r){function q(p){p=
r.call(this,p)||this;p.color=null;p.label=null;p.value=null;return p}a._inheritsLoose(q,r);var k=q.prototype;k.writeValue=function(p,e,h){e[h]=null==p?0:p};k.clone=function(){return new m({color:this.color&&this.color.clone(),label:this.label,value:this.value})};return q}(f.JSONSupport);b.__decorate([d.property({type:c,json:{type:[t.Integer],write:!0}})],f.prototype,"color",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"label",void 0);b.__decorate([d.property({type:Number,
json:{write:{writerEnsuresNonNull:!0}}})],f.prototype,"value",void 0);b.__decorate([n.writer("value")],f.prototype,"writeValue",null);return f=m=b.__decorate([g.subclass("esri.renderers.visualVariables.support.ColorStop")],f)})},"esri/renderers/visualVariables/OpacityVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/OpacityStop".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;f=n=function(m){function r(k){k=m.call(this,k)||this;k.type="opacity";k.normalizationField=null;return k}a._inheritsLoose(r,m);var q=r.prototype;q.clone=function(){return new n({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(k=>k.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})};q.getAttributeHash=function(){return`${m.prototype.getAttributeHash.call(this)}-${this.normalizationField}`};
q._interpolateData=function(){return this.stops&&this.stops.map(k=>k.value||0)};a._createClass(r,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(k){k&&Array.isArray(k)&&(k=k.filter(p=>!!p),k.sort((p,e)=>p.value-e.value));this._set("stops",k)}}]);return r}(t);b.__decorate([c.property({readOnly:!0})],f.prototype,"cache",null);b.__decorate([c.property({type:["opacity"],json:{type:["transparencyInfo"]}})],
f.prototype,"type",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"normalizationField",void 0);b.__decorate([c.property({type:[g],json:{write:!0}})],f.prototype,"stops",null);return f=n=b.__decorate([u.subclass("esri.renderers.visualVariables.OpacityVariable")],f)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../webdoc/support/opacityUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){var r;c=r=function(q){function k(e){e=q.call(this,e)||this;e.label=null;e.opacity=null;e.value=null;return e}a._inheritsLoose(k,q);var p=k.prototype;p.readOpacity=function(e,h){return m.transparencyToOpacity(h.transparency)};p.writeOpacity=function(e,h,v){h[v]=m.opacityToTransparency(e)};p.clone=function(){return new r({label:this.label,opacity:this.opacity,value:this.value})};return k}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,
"label",void 0);b.__decorate([f.property({type:Number,json:{type:u.Integer,write:{target:"transparency"}}})],c.prototype,"opacity",void 0);b.__decorate([t.reader("opacity",["transparency"])],c.prototype,"readOpacity",null);b.__decorate([n.writer("opacity")],c.prototype,"writeOpacity",null);b.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,"value",void 0);return c=r=b.__decorate([g.subclass("esri.renderers.visualVariables.support.OpacityStop")],c)})},"esri/renderers/visualVariables/RotationVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable".split(" "),
function(a,b,c,f,d,l,u,t,g,n){var m;d=m=function(r){function q(p){p=r.call(this,p)||this;p.axis=null;p.type="rotation";p.rotationType="geographic";p.valueExpressionTitle=null;return p}a._inheritsLoose(q,r);var k=q.prototype;k.writeValueExpressionTitleWebScene=function(p,e,h,v){v&&v.messages&&v.messages.push(new c("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}]`+
".valueExpressionTitle",context:v}))};k.clone=function(){return new m({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})};a._createClass(q,[{key:"cache",get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}}]);return q}(n);b.__decorate([f.property({readOnly:!0})],d.prototype,"cache",null);b.__decorate([f.property({type:["heading",
"tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],d.prototype,"axis",void 0);b.__decorate([f.property({type:["rotation"],json:{type:["rotationInfo"]}})],d.prototype,"type",void 0);b.__decorate([f.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],d.prototype,"rotationType",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"valueExpressionTitle",void 0);b.__decorate([g.writer("web-scene",
"valueExpressionTitle")],d.prototype,"writeValueExpressionTitleWebScene",null);return d=m=b.__decorate([t.subclass("esri.renderers.visualVariables.RotationVariable")],d)})},"esri/renderers/visualVariables/SizeVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v){function x(B){if(null!=B){if("string"===typeof B||"number"===typeof B)return l.toPt(B);if("size"===B.type){if(h.isSizeVariable(B))return B;B={...B};delete B.type;return new C(B)}}}function A(B,D,G){if("object"!==typeof B)return B;D=new C;D.read(B,G);return D}var w;const y=d.getLogger("esri.renderers.visualVariables.SizeVariable");d=new f.JSONMap({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"});const z=new f.JSONMap({unknown:"unknown",
inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});let C=w=function(B){function D(K){K=B.call(this,K)||this;K.axis=null;K.legendOptions=null;K.normalizationField=null;K.scaleBy=null;K.target=null;K.type="size";K.useSymbolValue=null;K.valueExpression=null;K.valueRepresentation=null;K.valueUnit=null;return K}a._inheritsLoose(D,
B);var G=D.prototype;G.castMaxSize=function(K){return x(K)};G.readMaxSize=function(K,M,N){return A(K,M,N)};G.castMinSize=function(K){return x(K)};G.readMinSize=function(K,M,N){return A(K,M,N)};G.readValueExpression=function(K,M){return K||M.expression&&"$view.scale"};G.writeValueExpressionWebScene=function(K,M,N,I){"$view.scale"===K?I&&I.messages&&(K=this.index,I.messages.push(new c("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",
{instance:this,propertyName:("string"===typeof K?K:`visualVariables[${K}]`)+".valueExpression",context:I}))):M[N]=K};G.readValueUnit=function(K){return K?z.read(K):null};G.clone=function(){return new w({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:h.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:h.isSizeVariable(this.minSize)?this.minSize.clone():
this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(K=>K.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})};G.flipSizes=function(){if(this.transformationType===h.TransformationType.ClampedLinear){const {minSize:K,maxSize:M}=this;this.minSize=M;this.maxSize=K;return this}if(this.transformationType===h.TransformationType.Stops){const K=
this.stops,M=K.map(I=>I.size).reverse(),N=K.length;for(let I=0;I<N;I++)K[I].size=M[I]}return this};G.getAttributeHash=function(){return`${B.prototype.getAttributeHash.call(this)}-${this.target}-${this.normalizationField}`};G._interpolateData=function(){return this.stops&&this.stops.map(K=>K.value||0)};a._createClass(D,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:v.viewScaleRE.test(this.valueExpression)}}},{key:"expression",
set:function(K){y.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");"view.scale"===K?(this.valueExpression="$view.scale",this._set("expression",K)):this._set("expression",null)}},{key:"index",set:function(K){h.isSizeVariable(this.maxSize)&&(this.maxSize.index=`visualVariables[${K}].maxSize`);h.isSizeVariable(this.minSize)&&(this.minSize.index=`visualVariables[${K}].minSize`);this._set("index",K)}},{key:"inputValueType",
get:function(){return h.getInputValueType(this)}},{key:"maxDataValue",set:function(K){K&&this.stops&&(y.warn("cannot set maxDataValue when stops is not null."),K=null);this._set("maxDataValue",K)}},{key:"maxSize",set:function(K){K&&this.stops&&(y.warn("cannot set maxSize when stops is not null."),K=null);this._set("maxSize",K)}},{key:"minDataValue",set:function(K){K&&this.stops&&(y.warn("cannot set minDataValue when stops is not null."),K=null);this._set("minDataValue",K)}},{key:"minSize",set:function(K){K&&
this.stops&&(y.warn("cannot set minSize when stops is not null."),K=null);this._set("minSize",K)}},{key:"arcadeRequired",get:function(){return this.valueExpression?!0:this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired}},{key:"stops",set:function(K){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?K&&Array.isArray(K)&&(K=K.filter(M=>!!M),K.sort((M,N)=>M.value-N.value)):
K&&(y.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),K=null);this._set("stops",K)}},{key:"transformationType",get:function(){return h.getTransformationType(this,this.inputValueType)}}]);return D}(k);b.__decorate([u.property({readOnly:!0})],C.prototype,"cache",null);b.__decorate([u.property({type:d.apiValues,json:{type:d.jsonValues,origins:{"web-map":{read:!1}},read:d.read,write:d.write}})],C.prototype,"axis",void 0);b.__decorate([u.property({type:String,
value:null,json:{read:!1}})],C.prototype,"expression",null);b.__decorate([u.property()],C.prototype,"index",null);b.__decorate([u.property({type:String,readOnly:!0})],C.prototype,"inputValueType",null);b.__decorate([u.property({type:e,json:{write:!0}})],C.prototype,"legendOptions",void 0);b.__decorate([u.property({type:Number,value:null,json:{write:!0}})],C.prototype,"maxDataValue",null);b.__decorate([u.property({type:Number,value:null,json:{write:!0}})],C.prototype,"maxSize",null);b.__decorate([n.cast("maxSize")],
C.prototype,"castMaxSize",null);b.__decorate([m.reader("maxSize")],C.prototype,"readMaxSize",null);b.__decorate([u.property({type:Number,value:null,json:{write:!0}})],C.prototype,"minDataValue",null);b.__decorate([u.property({type:Number,value:null,json:{write:!0}})],C.prototype,"minSize",null);b.__decorate([n.cast("minSize")],C.prototype,"castMinSize",null);b.__decorate([m.reader("minSize")],C.prototype,"readMinSize",null);b.__decorate([u.property({type:String,json:{write:!0}})],C.prototype,"normalizationField",
void 0);b.__decorate([u.property({readOnly:!0})],C.prototype,"arcadeRequired",null);b.__decorate([u.property({type:String})],C.prototype,"scaleBy",void 0);b.__decorate([u.property({type:[p],value:null,json:{write:!0}})],C.prototype,"stops",null);b.__decorate([u.property({type:["outline"],json:{write:!0}})],C.prototype,"target",void 0);b.__decorate([u.property({type:String,readOnly:!0})],C.prototype,"transformationType",null);b.__decorate([u.property({type:["size"],json:{type:["sizeInfo"]}})],C.prototype,
"type",void 0);b.__decorate([u.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],C.prototype,"useSymbolValue",void 0);b.__decorate([u.property({type:String,json:{write:!0}})],C.prototype,"valueExpression",void 0);b.__decorate([m.reader("valueExpression",["valueExpression","expression"])],C.prototype,"readValueExpression",null);b.__decorate([q.writer("web-scene","valueExpression")],C.prototype,"writeValueExpressionWebScene",null);b.__decorate([u.property({type:["radius","diameter",
"area","width","distance"],json:{write:!0}})],C.prototype,"valueRepresentation",void 0);b.__decorate([u.property({type:z.apiValues,json:{write:z.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],C.prototype,"valueUnit",void 0);b.__decorate([m.reader("valueUnit")],C.prototype,"readValueUnit",null);return C=w=b.__decorate([r.subclass("esri.renderers.visualVariables.SizeVariable")],C)})},"esri/renderers/visualVariables/support/SizeStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;c=n=function(m){function r(q){q=m.call(this,q)||this;q.label=null;q.size=null;q.value=null;return q}a._inheritsLoose(r,m);r.prototype.clone=function(){return new n({label:this.label,size:this.size,value:this.value})};return r}(c.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([d.property({type:Number,cast:f.toPt,json:{write:!0}})],c.prototype,"size",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],
c.prototype,"value",void 0);return c=n=b.__decorate([g.subclass("esri.renderers.visualVariables.support.SizeStop")],c)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./VisualVariableLegendOptions".split(" "),
function(a,b,c,f,d,l,u,t){var g;f=g=function(n){function m(){var r=n.apply(this,arguments)||this;r.customValues=null;return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})};return m}(t);b.__decorate([c.property({type:[Number],json:{write:!0}})],f.prototype,"customValues",void 0);return f=g=b.__decorate([u.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],
f)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["exports"],function(a){function b(c){return c.valueExpression?a.InputValueType.Expression:c.field&&"string"===typeof c.field?a.InputValueType.Field:a.InputValueType.Unknown}a.InputValueType=void 0;(function(c){c.Unknown="unknown";c.Expression="expression";c.Field="field"})(a.InputValueType||(a.InputValueType={}));a.TransformationType=void 0;(function(c){c.Unknown="unknown";c.Stops="stops";c.ClampedLinear="clamped-linear";
c.Proportional="proportional";c.Additive="additive";c.Constant="constant";c.Identity="identity";c.RealWorldSize="real-world-size"})(a.TransformationType||(a.TransformationType={}));a.getInputValueType=b;a.getTransformationType=function(c,f){return(f||b(c))===a.InputValueType.Unknown?a.TransformationType.Constant:c.stops?a.TransformationType.Stops:null!=c.minSize&&null!=c.maxSize&&null!=c.minDataValue&&null!=c.maxDataValue?a.TransformationType.ClampedLinear:"unknown"===(c.valueUnit||"unknown")?null!=
c.minSize&&null!=c.minDataValue?c.minSize&&c.minDataValue?a.TransformationType.Proportional:a.TransformationType.Additive:a.TransformationType.Identity:a.TransformationType.RealWorldSize};a.isSizeVariable=function(c){return c&&"esri.renderers.visualVariables.SizeVariable"===c.declaredClass};a.isValidNumber=function(c){return null!=c&&!isNaN(c)&&isFinite(c)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../../core/maybe ../../support/lengthUtils ./sizeVariableUtils".split(" "),
function(a,b,c,f,d,l,u,t){function g(w,y,z){if(w="visualVariables"in w&&w.visualVariables?w.visualVariables.find(I=>"color"===I.type):w)if("esri.renderers.visualVariables.ColorVariable"!==w.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");else{var C="number"===typeof y,B=C?null:y,D=B&&B.attributes,G=C?y:null,K=w.field,{ipData:M,hasExpression:N}=w.cache;y=w.cache.compiledFunc;if(!K&&!N)return(z=w.stops)&&z[0]&&z[0].color;if("number"!==
typeof G)if(N){if(!l.isSome(z)||!l.isSome(z.arcade)){v.error("Use of arcade expressions requires an arcade context");return}G=z.arcade.arcadeUtils;K=G.getViewInfo({viewingMode:z.viewingMode,scale:z.scale,spatialReference:z.spatialReference});B=G.createExecContext(B,K);y||(y=G.createSyntaxTree(w.valueExpression),y=G.createFunction(y),w.cache.compiledFunc=y);G=G.executeFunction(y,B)}else D&&(G=D[K]);B=w.normalizationField;D=D?parseFloat(D[B]):void 0;if(null!=G&&(!B||C||!isNaN(D)&&0!==D)&&(isNaN(D)||
C||(G/=D),C=h(G,M)))return D=C[0],B=C[1],z=D===B?w.stops[D].color:b.blendColors(w.stops[D].color,w.stops[B].color,C[2],l.isSome(z)?z.color:void 0),new b(z)}}function n(w,y,z){if(w="visualVariables"in w&&w.visualVariables?w.visualVariables.find(I=>"opacity"===I.type):w)if("esri.renderers.visualVariables.OpacityVariable"!==w.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");else{var C="number"===typeof y,B=C?null:y,D=B&&B.attributes,G=
C?y:null,K=w.field,{ipData:M,hasExpression:N}=w.cache;y=w.cache.compiledFunc;if(!K&&!N)return(w=w.stops)&&w[0]&&w[0].opacity;if("number"!==typeof G)if(N){if(l.isNone(z)||l.isNone(z.arcade)){v.error("Use of arcade expressions requires an arcade context");return}G=z.arcade.arcadeUtils;z=G.getViewInfo({viewingMode:z.viewingMode,scale:z.scale,spatialReference:z.spatialReference});z=G.createExecContext(B,z);y||(B=G.createSyntaxTree(w.valueExpression),y=G.createFunction(B),w.cache.compiledFunc=y);G=G.executeFunction(y,
z)}else D&&(G=D[K]);z=w.normalizationField;D=D?parseFloat(D[z]):void 0;if(null!=G&&(!z||C||!isNaN(D)&&0!==D)&&(isNaN(D)||C||(G/=D),C=h(G,M))){z=C[0];D=C[1];if(z===D)return w.stops[z].opacity;z=w.stops[z].opacity;return z+(w.stops[D].opacity-z)*C[2]}}}function m(w,y,z){if(w="visualVariables"in w&&w.visualVariables?w.visualVariables.find(I=>"rotation"===I.type):w)if("esri.renderers.visualVariables.RotationVariable"!==w.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");
else{var C=w.axis||"heading",B="heading"===C&&"arithmetic"===w.rotationType?90:0;C="heading"===C&&"arithmetic"===w.rotationType?-1:1;var D="number"===typeof y?null:y,G=D&&D.attributes,K=w.field,{hasExpression:M}=w.cache;y=w.cache.compiledFunc;var N=0;if(!K&&!M)return N;if(M){if(l.isNone(z)||l.isNone(z.arcade)){v.error("Use of arcade expressions requires an arcade context");return}G=z.arcade.arcadeUtils;z=G.getViewInfo({viewingMode:z.viewingMode,scale:z.scale,spatialReference:z.spatialReference});
z=G.createExecContext(D,z);y||(y=G.createSyntaxTree(w.valueExpression),y=G.createFunction(y),w.cache.compiledFunc=y);N=G.executeFunction(y,z)}else G&&(N=G[K]||0);return N="number"!==typeof N||isNaN(N)?null:B+C*N}}function r(w,y,z){const C="number"===typeof y;var B=C?null:y;const D=B&&B.attributes;var G=C?y:null;const {isScaleDriven:K}=w.cache;y=w.cache.compiledFunc;if(K)B=l.isSome(z)?z.scale:void 0,z=l.isSome(z)?z.view:void 0,null==B||"3d"===z?(B=z=null,(B=w.stops)?(z=B[0].value,B=B[B.length-1].value):
(z=w.minDataValue||0,B=w.maxDataValue||0),z=(z+B)/2):z=B,G=z;else if(!C)switch(w.inputValueType){case t.InputValueType.Expression:if(l.isNone(z)||l.isNone(z.arcade)){v.error("Use of arcade expressions requires an arcade context");return}G=z.arcade.arcadeUtils;z=G.getViewInfo({viewingMode:z.viewingMode,scale:z.scale,spatialReference:z.spatialReference});z=G.createExecContext(B,z);y||(B=G.createSyntaxTree(w.valueExpression),y=G.createFunction(B),w.cache.compiledFunc=y);G=G.executeFunction(y,z);break;
case t.InputValueType.Field:D&&(G=D[w.field]);break;case t.InputValueType.Unknown:G=null}if(!t.isValidNumber(G))return null;if(C||!w.normalizationField)return G;w=D?parseFloat(D[w.normalizationField]):null;return t.isValidNumber(w)&&0!==w?G/w:null}function q(w,y,z){if(w="visualVariables"in w&&w.visualVariables?w.visualVariables.find(B=>"size"===B.type):w)if("esri.renderers.visualVariables.SizeVariable"!==w.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");
else{var C=r(w,y,z);y=e(C,w,y,z,w.cache.ipData);return null===y||void 0===y||isNaN(y)?0:y}}function k(w,y,z){return null==w?null:t.isSizeVariable(w)?q(w,y,z):t.isValidNumber(w)?w:null}function p(w,y,z){return t.isValidNumber(z)&&w>z?z:t.isValidNumber(y)&&w<y?y:w}function e(w,y,z,C,B){switch(y.transformationType){case t.TransformationType.Additive:return C=k(y.minSize,z,C),y=w+(C||y.minDataValue);case t.TransformationType.Constant:return w=(w=y.stops)&&w.length&&w[0].size,null==w&&(w=y.minSize),y=
k(w,z,C);case t.TransformationType.ClampedLinear:B=(w-y.minDataValue)/(y.maxDataValue-y.minDataValue);var D=k(y.minSize,z,C);z=k(y.maxSize,z,C);C=l.isSome(C)?C.shape:void 0;w<=y.minDataValue?y=D:w>=y.maxDataValue?y=z:"area"===y.scaleBy&&C?(w=(y="circle"===C)?A*(D/2)**2:D*D,w+=B*((y?A*(z/2)**2:z*z)-w),y=y?2*Math.sqrt(w/A):Math.sqrt(w)):y=D+B*(z-D);return y;case t.TransformationType.Proportional:return B=l.isSome(C)?C.shape:void 0,w/=y.minDataValue,D=k(y.minSize,z,C),y=k(y.maxSize,z,C),C=null,C="circle"===
B?2*Math.sqrt(w*(D/2)**2):"square"===B||"diamond"===B||"image"===B?Math.sqrt(w*D**2):w*D,y=p(C,D,y);case t.TransformationType.Stops:{const [G,K,M]=h(w,B);G===K?y=k(y.stops[G].size,z,C):(w=k(y.stops[G].size,z,C),y=k(y.stops[K].size,z,C),y=w+(y-w)*M)}return y;case t.TransformationType.RealWorldSize:return B=(l.isSome(C)&&C.resolution?C.resolution:1)*u.meterIn[y.valueUnit],D=k(y.minSize,z,C),C=k(y.maxSize,z,C),{valueRepresentation:y}=y,z=null,z="area"===y?2*Math.sqrt(w/A)/B:"radius"===y||"distance"===
y?2*w/B:w/B,y=p(z,D,C);case t.TransformationType.Identity:return w;case t.TransformationType.Unknown:return null}}function h(w,y){if(y){var z=0,C=y.length-1;y.some((B,D)=>{if(w<B)return C=D,!0;z=D;return!1});return[z,C,(w-y[z])/(y[C]-y[z])]}}const v=d.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),x=new c,A=Math.PI;a.getAllSizes=function(w,y,z){const C=["proportional","proportional","proportional"];for(const B of w)switch(w=B.useSymbolValue?"symbol-value":q(B,y,z),B.axis){case "width":C[0]=
w;break;case "depth":C[1]=w;break;case "height":C[2]=w;break;case "width-and-depth":C[0]=w;C[1]=w;break;case "all":case void 0:case null:C[0]=w;C[1]=w;C[2]=w;break;default:f.neverReached(B.axis)}return C};a.getColor=g;a.getOpacity=n;a.getRotationAngle=m;a.getSize=q;a.getSizeForValue=e;a.getSizeFromNumberOrVariable=k;a.getSizeRangeAtScale=function(w,y,z){const {isScaleDriven:C}=w.cache;if(!(C&&"3d"===z||y))return null;z={scale:y,view:z};y=k(w.minSize,x,z);w=k(w.maxSize,x,z);if(null!=y||null!=w)return y>
w&&(z=w,w=y,y=z),{minSize:y,maxSize:w}};a.getVisualVariableValues=function(w,y,z){if(w.visualVariables){var C=[],B=[],D=[],G=[],K=[];for(const M of w.visualVariables)switch(M.type){case "color":B.push(M);break;case "opacity":D.push(M);break;case "rotation":K.push(M);break;case "size":G.push(M)}B.forEach(M=>{const N=g(M,y,z);C.push({variable:M,value:N})});D.forEach(M=>{const N=n(M,y,z);C.push({variable:M,value:N})});K.forEach(M=>{const N=m(M,y,z);C.push({variable:M,value:N})});G.forEach(M=>{const N=
q(M,y,z);C.push({variable:M,value:N})});return C.filter(M=>null!=M.value)}};a.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/Graphic":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./geometry ./PopupTemplate ./symbols ./core/Clonable ./core/JSONSupport ./core/maybe ./core/uid ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p){l=function(e){function h(...x){x=e.call(this,...x)||this;x.isAggregate=!1;x.layer=null;x.popupTemplate=null;x.sourceLayer=null;Object.defineProperty(a._assertThisInitialized(x),"uid",{value:g.generateUID(),configurable:!0});return x}a._inheritsLoose(h,e);var v=h.prototype;v.normalizeCtorArgs=function(x,A,w,y){return x&&!x.declaredClass?x:{geometry:x,symbol:A,attributes:w,popupTemplate:y}};v.getEffectivePopupTemplate=function(x=!1){if(this.popupTemplate)return this.popupTemplate;
for(const A of[this.sourceLayer,this.layer])if(A){if("popupTemplate"in A&&A.popupTemplate)return A.popupTemplate;if(x&&"defaultPopupTemplate"in A&&t.isSome(A.defaultPopupTemplate))return A.defaultPopupTemplate}return null};v.getAttribute=function(x){return this.attributes&&this.attributes[x]};v.setAttribute=function(x,A){if(this.attributes){const w=this.getAttribute(x);this.attributes[x]=A;this._notifyLayer("attributes",w,A,x)}else this.attributes={[x]:A},this._notifyLayer("attributes",void 0,A,x)};
v.getObjectId=function(){return this.sourceLayer?"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};v.toJSON=function(){var x=this.aggregateGeometries;if(t.isSome(x)){var A={};for(const w in x){const y=x[w];y&&(A[w]=y.toJSON())}x=0!==Object.keys(A).length?A:null}else x=null;return{aggregateGeometries:x,geometry:t.isSome(this.geometry)?this.geometry.toJSON():null,symbol:t.isSome(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},
popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};v.notifyGeometryChanged=function(){this._notifyLayer("geometry",this.geometry,this.geometry)};v.notifyMeshTransformChanged=function(){t.isSome(this.geometry)&&"mesh"===this.geometry.type&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)};v._notifyLayer=function(x,A,w,y){this.layer&&"graphicChanged"in this.layer&&(A={graphic:this,property:x,oldValue:A,newValue:w},"attributes"===x&&(A.attributeName=y),this.layer.graphicChanged(A))};
a._createClass(h,[{key:"aggregateGeometries",set:function(x){const A=this._get("aggregateGeometries");JSON.stringify(A)!==JSON.stringify(x)&&this._set("aggregateGeometries",x)}},{key:"attributes",set:function(x){const A=this._get("attributes");A!==x&&(this._set("attributes",x),this._notifyLayer("attributes",A,x))}},{key:"geometry",set:function(x){const A=this._get("geometry");A!==x&&(this._set("geometry",x),this._notifyLayer("geometry",A,x))}},{key:"symbol",set:function(x){const A=this._get("symbol");
A!==x&&(this._set("symbol",x),this._notifyLayer("symbol",A,x))}},{key:"visible",set:function(x){const A=this._get("visible");A!==x&&(this._set("visible",x),this._notifyLayer("visible",A,x))}}]);return h}(l.ClonableMixin(u.JSONSupport));b.__decorate([n.property({value:null,json:{read:function(e){if(!e)return null;const h={};for(const v in e){const x=p.fromJSON(e[v]);x&&(h[v]=x)}return 0!==Object.keys(h).length?h:null}}})],l.prototype,"aggregateGeometries",null);b.__decorate([n.property({value:null})],
l.prototype,"attributes",null);b.__decorate([n.property({value:null,types:c.geometryTypes,json:{read:p.fromJSON}})],l.prototype,"geometry",null);b.__decorate([n.property({type:Boolean})],l.prototype,"isAggregate",void 0);b.__decorate([n.property({clonable:"reference"})],l.prototype,"layer",void 0);b.__decorate([n.property({type:f})],l.prototype,"popupTemplate",void 0);b.__decorate([n.property({clonable:"reference"})],l.prototype,"sourceLayer",void 0);b.__decorate([n.property({value:null,types:d.symbolTypes})],
l.prototype,"symbol",null);b.__decorate([n.property({type:Boolean,value:!0})],l.prototype,"visible",null);l=b.__decorate([k.subclass("esri.Graphic")],l);(l||(l={})).generateUID=g.generateUID;return l})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p){const e=d.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),h={color:r,size:p,opacity:q,rotation:k},v=new f.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),x=/^\[([^\]]+)\]$/i;c=function(A){function w(){var z=A.apply(this,arguments)||this;z.colorVariables=null;z.opacityVariables=null;z.rotationVariables=null;z.sizeVariables=null;return z}a._inheritsLoose(w,A);var y=w.prototype;y.readVariables=function(z,
C,B){const {rotationExpression:D,rotationType:G}=C;if(C=(C=D&&D.match(x))&&C[1])z||(z=[]),z.push({type:"rotationInfo",rotationType:G,field:C});if(z)return z.map(K=>{var M=v.read(K.type);const N=h[M];N||(e.warn(`Unknown variable type: ${M}`),B&&B.messages&&B.messages.push(new l("visual-variable:unsupported",`visualVariable of type '${M}' is not supported`,{definition:K,context:B})));M=new N;M.read(K,B);return M})};y.writeVariables=function(z,C){const B=[];for(const D of z)(z=D.toJSON(C))&&B.push(z);
return B};y._resetVariables=function(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]};a._createClass(w,[{key:"visualVariables",set:function(z){this._resetVariables();if((z=z&&z.filter(B=>!!B))&&z.length){for(var C of z)switch(C.type){case "color":this.colorVariables.push(C);break;case "opacity":this.opacityVariables.push(C);break;case "rotation":this.rotationVariables.push(C);break;case "size":this.sizeVariables.push(C)}this.sizeVariables.length&&
this.sizeVariables.some(B=>!!B.target)&&z.sort((B,D)=>{let G=null;return G=B.target===D.target?0:B.target?1:-1});for(C=0;C<z.length;C++)z[C].index=C}this._set("visualVariables",z)}}]);return w}(c);b.__decorate([u.property()],c.prototype,"visualVariables",null);return c=b.__decorate([m.subclass("esri.renderers.visualVariables.VisualVariableFactory")],c)})},"esri/renderers/support/ClassBreakInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;c=n=function(m){function r(k){k=m.call(this,k)||this;k.description=null;k.label=null;k.minValue=null;k.maxValue=0;k.symbol=null;return k}a._inheritsLoose(r,m);var q=r.prototype;q.clone=function(){return new n({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})};q.getMeshHash=function(){const k=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${k}`};return r}(c.JSONSupport);
b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([f.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],c.prototype,"minValue",void 0);b.__decorate([f.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],c.prototype,"maxValue",void 0);b.__decorate([f.property(g.rendererSymbolProperty)],
c.prototype,"symbol",void 0);return c=n=b.__decorate([t.subclass("esri.renderers.support.ClassBreakInfo")],c)})},"esri/renderers/support/commonProperties":function(){define("exports ../../symbols ../../core/accessorSupport/extensions/serializableProperty/reader ../../symbols/support/jsonUtils ../../symbols/Symbol ../../symbols/PolygonSymbol3D".split(" "),function(a,b,c,f,d,l){c={types:b.symbolTypesRenderer,json:{write:{writer:f.write},origins:{"web-scene":{types:b.symbolTypesRenderer3D,write:{writer:f.write},
read:{reader:c.createTypeReader({types:b.symbolTypesRenderer3D})}}}}};a.rendererBackgroundFillSymbolProperty={types:{base:d,key:"type",typeMap:{"simple-fill":b.symbolTypes.typeMap["simple-fill"],"picture-fill":b.symbolTypes.typeMap["picture-fill"],"polygon-3d":b.symbolTypes.typeMap["polygon-3d"]}},json:{write:{writer:f.write},origins:{"web-scene":{type:l,write:{writer:f.write}}}}};a.rendererSymbolProperty=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/jsonUtils":function(){define("exports ../../symbols ../../core/Error ../../core/maybe ../Symbol3D ./symbolConversion ../WebStyleSymbol".split(" "),
function(a,b,c,f,d,l,u){function t(g,n,m){if(f.isNone(g))return null;const {context:r,isLabelSymbol:q}=m;if(!(!r||"web-scene"!==r.origin||g instanceof d||g instanceof u)){m=l.to3D(g,{retainCIM:!0,hasLabelingContext:q});if(f.isSome(m.symbol))return m.symbol.write(n,r);r.messages&&r.messages.push(new c("symbol:unsupported",`Symbols of type '${g.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:g,context:r,error:m.error}));return null}return r&&
"web-map"===r.origin&&"web-style"===g.type?(r.messages&&r.messages.push(new c("symbol:unsupported",`Symbols of type '${g.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:g,context:r})),null):g.write(n,r)}a.fromJSON=function(g,n){return b.readSymbol(g,null,n)};a.write=function(g,n,m,r){g=t(g,{},{context:r,isLabelSymbol:!1});f.isSome(g)&&(n[m]=g)};a.writeLabelSymbol=function(g,n,m,r){g=t(g,{},{context:r,isLabelSymbol:!0});f.isSome(g)&&
(n[m]=g)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/symbolConversion":function(){define("exports ../../symbols ../../core/Error ../WebStyleSymbol ../PointSymbol3D ../SimpleLineSymbol ../LineSymbol3D ../SimpleMarkerSymbol ../PictureMarkerSymbol ../SimpleFillSymbol ../PolygonSymbol3D ../TextSymbol ../LabelSymbol3D".split(" "),function(a,b,c,f,d,l,u,t,g,n,m,r,q){const k={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};a.to3D=function(p,e=k){if(!p)return{symbol:null};
const {retainId:h=k.retainId,ignoreDrivers:v=k.ignoreDrivers,hasLabelingContext:x=k.hasLabelingContext,retainCIM:A=k.retainCIM}=e;if(b.isSymbol3D(p)||p instanceof f)var w=p.clone();else if("cim"===p.type){var y;e=null==(w=p.data)?void 0:null==(y=w.symbol)?void 0:y.type;if("CIMPointSymbol"!==e)return{error:new c("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${e||"unknown"}' is unsupported in 3D`,{symbol:p})};w=A?p.clone():d.fromCIMSymbol(p)}else if(p instanceof l)w=u.fromSimpleLineSymbol(p);
else if(p instanceof t)w=d.fromSimpleMarkerSymbol(p);else if(p instanceof g)w=d.fromPictureMarkerSymbol(p);else if(p instanceof n)w=m.fromSimpleFillSymbol(p);else if(p instanceof r)w=x?q.fromTextSymbol(p):d.fromTextSymbol(p);else return{error:new c("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${p.type||p.declaredClass}' is unsupported in 3D`,{symbol:p})};h&&"cim"!==w.type&&(w.id=p.id);if(v&&b.isSymbol3D(w))for(p=0;p<w.symbolLayers.length;++p)w.symbolLayers.getItemAt(p)._ignoreDrivers=
!0;return{symbol:w}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/DictionaryRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/DictionaryLoader".split(" "),function(a,b,c,f,d,l,u,t,g,n,m){var r;
d=r=function(q){function k(e){e=q.call(this,e)||this;e.config=null;e.fieldMap=null;e.scaleExpression=null;e.scaleExpressionTitle=null;e.url=null;e.type="dictionary";return e}a._inheritsLoose(k,q);var p=k.prototype;p.writeData=function(e,h){e&&(h.scalingExpressionInfo={expression:e,returnType:"number"})};p.writeVisualVariables=function(e,h,v,x){null!=x&&x.origin||q.prototype.writeVisualVariables.call(this,e,h,v,x)};p.clone=function(){return new r({config:c.clone(this.config),scaleExpression:this.scaleExpression,
scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:c.clone(this.fieldMap),url:c.clone(this.url),visualVariables:c.clone(this.visualVariables)})};p.getSymbolAsync=function(){var e=a._asyncToGenerator(function*(h,v){return this._loader.getSymbolAsync(h,v)});return function(h,v){return e.apply(this,arguments)}}();p.collectRequiredFields=function(){var e=a._asyncToGenerator(function*(h,v){yield this.collectVVRequiredFields(h,v);this.scaleExpression&&(yield t.collectArcadeFieldNames(h,v,this.scaleExpression));
for(const x in this.fieldMap){const A=this.fieldMap[x];v.has(A)&&h.add(A)}});return function(h,v){return e.apply(this,arguments)}}();p.getSymbol=function(){return null};p.getSymbols=function(){return[]};p.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((e,h)=>e+h.getAttributeHash(),"")};p.getMeshHash=function(){return`${this.url}-${JSON.stringify(this.fieldMap)}`};p.getSymbolFields=function(){return this._loader.getSymbolFields()};a._createClass(k,[{key:"_loader",
get:function(){return new m.DictionaryLoader(this.url,this.config,this.fieldMap)}},{key:"arcadeRequired",get:function(){return!0}}]);return k}(n.VisualVariablesMixin(g));b.__decorate([f.property({type:m.DictionaryLoader})],d.prototype,"_loader",null);b.__decorate([f.property({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],d.prototype,"config",void 0);b.__decorate([f.property({type:Object,json:{write:!0}})],d.prototype,"fieldMap",void 0);b.__decorate([f.property({type:String,
json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],d.prototype,"scaleExpression",void 0);b.__decorate([u.writer("scaleExpression")],d.prototype,"writeData",null);b.__decorate([f.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(q){return{enabled:!!q&&!!this.scaleExpression}}}}})],d.prototype,"scaleExpressionTitle",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"url",void 0);
b.__decorate([u.writer("visualVariables")],d.prototype,"writeVisualVariables",null);return d=r=b.__decorate([l.subclass("esri.renderers.DictionaryRenderer")],d)})},"esri/renderers/support/DictionaryLoader":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../Color ../../request ../../core/Error ../../core/Logger ../../core/LRUCache ../../core/maybe ../../core/promiseUtils ../../core/string ../../support/arcadeOnDemand ../../symbols/CIMSymbol".split(" "),function(a,b,c,f,d,l,u,t,
g,n,m,r){function q(e,h){if(e&&(e=e.symbolLayers))for(var v=e.length;v--;){var x=e[v];if(x&&!1!==x.enable)switch(x.type){case "CIMVectorMarker":var A=h;if(x=x.markerGraphics)for(const w of x)if(w&&(x=w.symbol))switch(x.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":q(x,A);break;case "CIMTextSymbol":x.fieldMap=A}}}}const k=l.getLogger("esri.renderers.support.DictionaryLoader"),p={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",
width:.5,color:[0,0,0,255]}]}};l=function(){function e(v,x,A){this.url=this.fieldMap=this.config=null;this._ongoingRequests=new Map;this._symbolCache=new u(100);this.url=v;this.config=x;this.fieldMap=A}var h=e.prototype;h.getSymbolFields=function(){return this._symbolFields};h.getSymbolAsync=function(){var v=b._asyncToGenerator(function*(x,A){this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(A));try{var w=yield this._dictionaryPromise}catch(G){if(g.isAbortError(G))return this._dictionaryPromise=
null}var y={};if(this.fieldMap)for(var z of this._symbolFields){var C=this.fieldMap[z];y[z]=C&&null!=x.attributes[C]?""+x.attributes[C]:""}w=w(y,A);if(!w||"string"!==typeof w)return null;const B=n.numericHash(w).toString();if(y=this._symbolCache.get(B))return y.catch(()=>{this._symbolCache.pop(B)}),y;z=w.split(";");w=[];y=[];for(const G of z)if(G)if(G.includes("po:")){var D=G.substr(3).split("|");3===D.length&&(z=D[0],C=D[1],D=D[2],"DashTemplate"===C?D=D.split(" ").map(K=>Number(K)):"Color"===C?(D=
(new c(D)).toRgba(),D=[D[0],D[1],D[2],255*D[3]]):D=Number(D),y.push({primitiveName:z,propertyName:C,value:D}))}else if(G.includes("|"))for(const K of G.split("|")){if(this._itemNames.has(K)){w.push(K);break}}else this._itemNames.has(G)&&w.push(G);x=t.isSome(x.geometry)&&(x.geometry.hasZ||"point"!==x.geometry.type)?!1:!0;A=this._cimPartsToCIMSymbol(w,y,x,A);this._symbolCache.put(B,A,1);return A});return function(x,A){return v.apply(this,arguments)}}();h.fetchResources=function(){var v=b._asyncToGenerator(function*(x){if(this._dictionaryPromise)return this._dictionaryPromise;
if(this.url){var A=t.isSome(x)?x.abortOptions:null;A=f(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},...A});var [{data:w}]=yield Promise.all([A,m.loadArcade()]);if(!w)throw this._dictionaryPromise=null,new d("esri.renderers.DictionaryRenderer","Bad dictionary data!");A=w.expression;var y=w.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+w.cimRefTemplateUrl;this._itemNames=new Set(w.itemsNames);this._symbolFields=y.symbol;w={};if(this.config){const B=
this.config;for(var z in B)w[z]=B[z]}if(y.configuration)for(var C of y.configuration)w.hasOwnProperty(C.name)||(w[C.name]=C.value);z=[];if(t.isSome(x)&&x.fields&&this.fieldMap)for(const B of this._symbolFields){const D=this.fieldMap[B];C=x.fields.filter(G=>G.name===D);0<C.length&&z.push({...C[0],name:B})}return this._dictionaryPromise=m.createDictionaryExpression(A,t.isSome(x)?x.spatialReference:null,z,w).then(B=>{const D={scale:0};return(G,K)=>{G=B.repurposeFeature({geometry:null,attributes:G});
D.scale=t.isSome(K)?K.scale:void 0;return B.evaluate({$feature:G,$view:D})}}).catch(B=>{k.error("Creating dictinoary expression failed:",B);return null})}k.error("no valid URL!")});return function(x){return v.apply(this,arguments)}}();h._cimPartsToCIMSymbol=function(){var v=b._asyncToGenerator(function*(x,A,w,y){const z=Array(x.length);for(let C=0;C<x.length;C++)z[C]=this._getSymbolPart(x[C],y);x=yield Promise.all(z);y=this.fieldMap;for(const C of x)q(C,y);return new r({data:this._combineSymbolParts(x,
A,w)})});return function(x,A,w,y){return v.apply(this,arguments)}}();h._getSymbolPart=function(){var v=b._asyncToGenerator(function*(x,A){if(this._ongoingRequests.has(x))return this._ongoingRequests.get(x).then(y=>y.data);const w=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,x);A=f(w,{responseType:"json",query:{f:"json"},...A});this._ongoingRequests.set(x,A);try{return(yield A).data}catch(y){return this._ongoingRequests.delete(x),Promise.reject(y)}});return function(x,A){return v.apply(this,
arguments)}}();h._combineSymbolParts=function(v,x,A){if(!v||0===v.length)return null;const w={...v[0]};if(1<v.length){w.symbolLayers=[];for(const y of v)w.symbolLayers.unshift(...y.symbolLayers)}A&&(w.callout=p);return{type:"CIMSymbolReference",symbol:w,primitiveOverrides:x}};return e}();a.DictionaryLoader=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/LRUCache":function(){define(["../chunks/_rollupPluginBabelHelpers","./MemCache"],function(a,b){return function(){function c(d,l){this._storage=
new b.MemCacheStorage;this._storage.maxSize=d;l&&this._storage.registerRemoveFunc("",l)}var f=c.prototype;f.put=function(d,l,u){this._storage.put(d,l,u,1)};f.pop=function(d){return this._storage.pop(d)};f.get=function(d){return this._storage.get(d)};f.clear=function(){this._storage.clearAll()};f.destroy=function(){this._storage.destroy()};a._createClass(c,[{key:"maxSize",get:function(){return this._storage.maxSize},set:function(d){this._storage.maxSize=d}}]);return c}()})},"esri/core/MemCache":function(){define(["exports",
"../chunks/_rollupPluginBabelHelpers","./maybe","./PooledArray"],function(a,b,c,f){a.RemoveMode=void 0;(function(u){u[u.ALL=0]="ALL";u[u.SOME=1]="SOME"})(a.RemoveMode||(a.RemoveMode={}));let d=function(){function u(g,n,m){this._namespace=g;this._storage=n;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);this._namespace+=":";m&&(this._storage.registerRemoveFunc(this._namespace,m),this._removeFunc=!0)}var t=u.prototype;t.destroy=function(){this._storage.clear(this._namespace);
this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);this._storage.deregister(this);this._storage=null};t.resetHitRate=function(){this._hit=this._miss=0};t.put=function(g,n,m,r=0){this._storage.put(this._namespace+g,n,m,r)};t.get=function(g){g=this._storage.get(this._namespace+g);void 0===g?++this._miss:++this._hit;return g};t.pop=function(g){g=this._storage.pop(this._namespace+g);void 0===g?++this._miss:++this._hit;return g};t.updateSize=function(g,n,m){this._storage.updateSize(this._namespace+
g,n,m)};t.clear=function(){this._storage.clear(this._namespace)};t.clearAll=function(){this._storage.clearAll()};t.getStats=function(){return this._storage.getStats()};t.resetStats=function(){this._storage.resetStats()};b._createClass(u,[{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}}]);return u}(),
l=function(){function u(g=10485760){this._maxSize=g;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new f;this._users=new f}var t=u.prototype;t.destroy=function(){this.clearAll();this._removeFuncs.clear();this._users.clear();this._db=null};t.register=function(g){this._users.push(g)};t.deregister=function(g){this._users.removeUnordered(g)};t.registerRemoveFunc=function(g,n){this._removeFuncs.push([g,n])};t.deregisterRemoveFunc=function(g){this._removeFuncs.filterInPlace(n=>n[0]!==
g)};t.put=function(g,n,m,r){const q=this._db.get(g);q&&(this._size-=q.size,this._db.delete(g),q.entry!==n&&this._notifyRemove(g,q.entry,a.RemoveMode.ALL));m>this._maxSize?this._notifyRemove(g,n,a.RemoveMode.ALL):void 0===n?console.warn("Refusing to cache undefined entry "):!m||0>m?console.warn("Refusing to cache entry with invalid size "+m):(r=1+Math.max(r,-3)- -3,this._db.set(g,{entry:n,size:m,lifetime:r,lives:r}),this._size+=m,this._checkSizeLimit())};t.updateSize=function(g,n,m){const r=this._db.get(g);
if(r&&r.entry===n){for(this._size-=r.size;m>this._maxSize;)if(m=this._notifyRemove(g,n,a.RemoveMode.SOME),!(c.isSome(m)&&0<m)){this._db.delete(g);return}r.size=m;this._size+=m;this._checkSizeLimit()}};t.pop=function(g){const n=this._db.get(g);if(n)return this._size-=n.size,this._db.delete(g),++this._hit,n.entry;++this._miss};t.get=function(g){const n=this._db.get(g);if(void 0===n)++this._miss;else return this._db.delete(g),n.lives=n.lifetime,this._db.set(g,n),++this._hit,n.entry};t.getStats=function(){const g=
{Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},n={},m=[];this._db.forEach((k,p)=>{const e=k.lifetime;m[e]=(m[e]||0)+k.size;this._users.forAll(h=>{h=h.namespace;p.startsWith(h)&&(n[h]=(n[h]||0)+k.size)})});const r={};this._users.forAll(k=>{const p=k.namespace;!isNaN(k.hitRate)&&0<k.hitRate?(n[p]=n[p]||0,r[p]=Math.round(100*k.hitRate)+"%"):r[p]="0%"});var q=Object.keys(n);q.sort((k,p)=>
n[p]-n[k]);q.forEach(k=>g[k]=Math.round(n[k]/2**20)+"MB / "+r[k]);for(q=m.length-1;0<=q;--q){const k=m[q];k&&(g["Priority "+(q+-3-1)]=Math.round(k/this.size*100)+"%")}return g};t.resetStats=function(){this._hit=this._miss=0;this._users.forAll(g=>g.resetHitRate())};t.clear=function(g){this._db.forEach((n,m)=>{m.startsWith(g)&&(this._size-=n.size,this._db.delete(m),this._notifyRemove(m,n.entry,a.RemoveMode.ALL))})};t.clearAll=function(){this._db.forEach((g,n)=>this._notifyRemove(n,g.entry,a.RemoveMode.ALL));
this._size=0;this._db.clear()};t._getHitRate=function(){return this._hit/(this._hit+this._miss)};t._notifyRemove=function(g,n,m){let r;this._removeFuncs.some(q=>g.startsWith(q[0])?(q=q[1](n,m),"number"===typeof q&&(r=q),!0):!1);return r};t._checkSizeLimit=function(){if(!(this._size<=this._maxSize))for(const [g,n]of this._db){this._db.delete(g);if(1>=n.lives){this._size-=n.size;const m=this._notifyRemove(g,n.entry,a.RemoveMode.SOME);c.isSome(m)&&0<m&&(this._size+=m,n.lives=n.lifetime,n.size=m,this._db.set(g,
n))}else--n.lives,this._db.set(g,n);if(this._size<=.9*this.maxSize)break}};b._createClass(u,[{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(g){this._maxSize=Math.max(g,0);this._checkSizeLimit()}}]);return u}();a.MIN_PRIORITY=-3;a.MemCache=d;a.MemCacheStorage=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/DotDensityRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/aliasOf ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e){var h;l=h=function(v){function x(w){w=v.call(this,w)||this;w.attributes=null;w.backgroundColor=new c([0,0,0,0]);w.blendDots=!0;w.dotBlendingEnabled=!0;w.dotShape="square";w.dotSize=1;w.legendOptions=null;w.outline=new e;w.dotValue=null;w.referenceDotValue=null;w.referenceScale=null;w.seed=1;w.type="dot-density";return w}a._inheritsLoose(x,v);var A=x.prototype;A.calculateDotValue=function(w){if(null==this.referenceScale)return this.dotValue;w=w/this.referenceScale*
this.dotValue;return 1>w?1:w};A.getSymbol=function(){return new p({outline:this.outline})};A.getSymbolAsync=function(){var w=a._asyncToGenerator(function*(){return this.getSymbol()});return function(){return w.apply(this,arguments)}}();A.getSymbols=function(){return[this.getSymbol()]};A.getAttributeHash=function(){return this.attributes&&this.attributes.reduce((w,y)=>w+y.getAttributeHash(),"")};A.getMeshHash=function(){return JSON.stringify(this.outline)};A.clone=function(){return new h({attributes:f.clone(this.attributes),
backgroundColor:f.clone(this.backgroundColor),dotBlendingEnabled:f.clone(this.dotBlendingEnabled),dotShape:f.clone(this.dotShape),dotSize:f.clone(this.dotSize),dotValue:f.clone(this.dotValue),legendOptions:f.clone(this.legendOptions),outline:f.clone(this.outline),referenceScale:f.clone(this.referenceScale),visualVariables:f.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};A.getControllerHash=function(){const w=this.attributes.map(z=>z.field||z.valueExpression||
""),y=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${w}-${y}`};A.collectRequiredFields=function(){var w=a._asyncToGenerator(function*(y,z){yield this.collectVVRequiredFields(y,z);for(const C of this.attributes)C.valueExpression&&(yield n.collectArcadeFieldNames(y,z,C.valueExpression)),C.field&&y.add(C.field)});return function(y,z){return w.apply(this,arguments)}}();return x}(r.VisualVariablesMixin(m));b.__decorate([t.property({type:[q],json:{write:!0}})],l.prototype,"attributes",
void 0);b.__decorate([t.property({type:c,json:{write:!0}})],l.prototype,"backgroundColor",void 0);b.__decorate([t.property({type:Boolean}),d.aliasOf("dotBlendingEnabled")],l.prototype,"blendDots",void 0);b.__decorate([t.property({type:Boolean,json:{write:!0}})],l.prototype,"dotBlendingEnabled",void 0);b.__decorate([t.property({type:String,json:{write:!1}})],l.prototype,"dotShape",void 0);b.__decorate([t.property({type:Number,json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1}}}})],
l.prototype,"dotSize",void 0);b.__decorate([t.property({type:k,json:{write:!0}})],l.prototype,"legendOptions",void 0);b.__decorate([t.property({type:e,json:{default:null,write:!0}})],l.prototype,"outline",void 0);b.__decorate([t.property({type:Number,json:{write:!0}})],l.prototype,"dotValue",void 0);b.__decorate([t.property({type:Number}),d.aliasOf("dotValue")],l.prototype,"referenceDotValue",void 0);b.__decorate([t.property({type:Number,json:{write:!0}})],l.prototype,"referenceScale",void 0);b.__decorate([t.property({type:Number,
json:{write:!0}})],l.prototype,"seed",void 0);b.__decorate([u.enumeration({dotDensity:"dot-density"})],l.prototype,"type",void 0);return l=h=b.__decorate([g.subclass("esri.renderers.DotDensityRenderer")],l)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["exports","./property"],function(a,b){a.aliasOf=function(c,f){return b.property({aliasOf:f?{...f,source:c}:c})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/AttributeColorInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){var r;const q=d.getLogger("esri.renderers.support.AttributeColorInfo");f=r=function(k){function p(h){h=k.call(this,h)||this;h.color=null;h.field=null;h.label=null;h.valueExpression=null;h.valueExpressionTitle=null;return h}a._inheritsLoose(p,k);var e=p.prototype;e.castField=function(h){return null==h?h:"function"===typeof h?(q.error(".field: field must be a string value"),null):m.ensureString(h)};e.getAttributeHash=function(){return`${this.field}-${this.valueExpression}`};
e.clone=function(){return new r({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})};return p}(f.JSONSupport);b.__decorate([l.property({type:c,json:{type:[Number],write:!0}})],f.prototype,"color",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"field",void 0);b.__decorate([g.cast("field")],f.prototype,"castField",null);b.__decorate([l.property({type:String,json:{write:!0}})],
f.prototype,"label",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"valueExpression",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"valueExpressionTitle",void 0);return f=r=b.__decorate([n.subclass("esri.renderers.support.AttributeColorInfo")],f)})},"esri/renderers/support/DotDensityLegendOptions":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){var g;c=g=function(n){function m(){var r=n.apply(this,arguments)||this;r.unit=null;return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({unit:this.unit})};return m}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"unit",void 0);return c=g=b.__decorate([t.subclass("esri.renderers.support.DotDensityLegendOptions")],c)})},"esri/renderers/HeatmapRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./support/HeatmapColorStop".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){var r;l=r=function(q){function k(e){e=q.call(this,e)||this;e.blurRadius=10;e.referenceScale=0;e.colorStops=[new m({ratio:0,color:new c("rgba(255, 140, 0, 0)")}),new m({ratio:.75,color:new c("rgba(255, 140, 0, 1)")}),new m({ratio:.9,color:new c("rgba(255, 0,   0, 1)")})];e.field=null;e.fieldOffset=0;e.maxPixelIntensity=100;e.minPixelIntensity=0;e.type="heatmap";return e}a._inheritsLoose(k,q);var p=k.prototype;p.collectRequiredFields=function(){var e=a._asyncToGenerator(function*(h,
v){const x=this.field;x&&"string"===typeof x&&g.collectField(h,v,x)});return function(h,v){return e.apply(this,arguments)}}();p.getAttributeHash=function(){return null};p.getMeshHash=function(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`};p.clone=function(){return new r({blurRadius:this.blurRadius,referenceScale:this.referenceScale,colorStops:f.clone(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})};
return k}(n);b.__decorate([d.property({type:Number,json:{write:!0}})],l.prototype,"blurRadius",void 0);b.__decorate([d.property({type:Number})],l.prototype,"referenceScale",void 0);b.__decorate([d.property({type:[m],json:{write:!0}})],l.prototype,"colorStops",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],l.prototype,"field",void 0);b.__decorate([d.property({type:Number,json:{write:{overridePolicy:(q,k,p)=>({enabled:null==p})}}})],l.prototype,"fieldOffset",void 0);b.__decorate([d.property({type:Number,
json:{write:!0}})],l.prototype,"maxPixelIntensity",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],l.prototype,"minPixelIntensity",void 0);b.__decorate([u.enumeration({heatmap:"heatmap"})],l.prototype,"type",void 0);return l=r=b.__decorate([t.subclass("esri.renderers.HeatmapRenderer")],l)})},"esri/renderers/support/HeatmapColorStop":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;f=n=function(m){function r(q){q=m.call(this,q)||this;q.color=null;q.ratio=null;return q}a._inheritsLoose(r,m);r.prototype.clone=function(){return new n({color:this.color,ratio:this.ratio})};return r}(f.JSONSupport);b.__decorate([d.property({type:c,json:{write:!0}})],f.prototype,"color",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],f.prototype,"ratio",void 0);return f=n=b.__decorate([g.subclass("esri.renderers.support.HeatmapColorStop")],f)})},"esri/renderers/SimpleRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties".split(" "),
function(a,b,c,f,d,l,u,t,g,n){var m;d=m=function(r){function q(p){p=r.call(this,p)||this;p.description=null;p.label=null;p.symbol=null;p.type="simple";return p}a._inheritsLoose(q,r);var k=q.prototype;k.collectRequiredFields=function(){var p=a._asyncToGenerator(function*(e,h){yield Promise.all([this.collectSymbolFields(e,h),this.collectVVRequiredFields(e,h)])});return function(e,h){return p.apply(this,arguments)}}();k.collectSymbolFields=function(){var p=a._asyncToGenerator(function*(e,h){yield Promise.all(this.getSymbols().map(v=>
v.collectRequiredFields(e,h)))});return function(e,h){return p.apply(this,arguments)}}();k.getSymbol=function(p,e){return this.symbol};k.getSymbolAsync=function(){var p=a._asyncToGenerator(function*(e,h){return this.symbol});return function(e,h){return p.apply(this,arguments)}}();k.getSymbols=function(){return this.symbol?[this.symbol]:[]};k.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((p,e)=>p+e.getAttributeHash(),"")};k.getMeshHash=function(){return this.getSymbols().reduce((p,
e)=>p+=JSON.stringify(e),"")};k.clone=function(){return new m({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:c.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};a._createClass(q,[{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables}}]);return q}(g.VisualVariablesMixin(t));b.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"description",void 0);b.__decorate([f.property({type:String,
json:{write:!0}})],d.prototype,"label",void 0);b.__decorate([f.property(n.rendererSymbolProperty)],d.prototype,"symbol",void 0);b.__decorate([l.enumeration({simple:"simple"})],d.prototype,"type",void 0);return d=m=b.__decorate([u.subclass("esri.renderers.SimpleRenderer")],d)})},"esri/renderers/UniqueValueRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../symbols ../core/Error ../core/lang ../core/Logger ../core/maybe ../core/object ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties ./support/LegendOptions ./support/UniqueValueInfo ../support/arcadeOnDemand ../chunks/persistableUrlUtils ../symbols/support/styleUtils ../symbols/WebStyleSymbol".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A,w,y,z,C,B,D,G){var K;const M=l.getLogger("esri.renderers.UniqueValueRenderer"),N=e.ensureType(z);l=K=function(I){function F(J){J=I.call(this,J)||this;J._valueInfoMap={};J._isDefaultSymbolDerived=!1;J.type="unique-value";J.backgroundFillSymbol=null;J.field=null;J.field2=null;J.field3=null;J.valueExpression=null;J.valueExpressionTitle=null;J.legendOptions=null;J.defaultLabel=null;J.fieldDelimiter=null;J.portal=null;J.styleOrigin=null;J.diff={uniqueValueInfos(P,
W){if(P||W){if(!P||!W)return{type:"complete",oldValue:P,newValue:W};var Z=!1,Y={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let S=0;S<W.length;S++){const qa=P.find(xa=>xa.value===W[S].value);qa?p.diff(qa,W[S])?(Y.changed.push({type:"complete",oldValue:qa,newValue:W[S]}),Z=!0):Y.unchanged.push({oldValue:qa,newValue:W[S]}):(Y.added.push(W[S]),Z=!0)}for(let S=0;S<P.length;S++)W.find(qa=>qa.value===P[S].value)||(Y.removed.push(P[S]),Z=!0);return Z?Y:void 0}}};J._set("uniqueValueInfos",
[]);return J}a._inheritsLoose(F,I);var E=F.prototype;E.castField=function(J){return null==J||"function"===typeof J?J:e.ensureString(J)};E.writeField=function(J,P,W,Z){"string"===typeof J?P[W]=J:Z&&Z.messages?Z.messages.push(new f("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):M.error(".field: cannot write field to JSON since it's not a string value")};E.readPortal=function(J,P,W){return W.portal||v.getDefault()};E.readStyleOrigin=function(J,P,W){if(P.styleName)return Object.freeze({styleName:P.styleName});
if(P.styleUrl)return J=B.fromJSON(P.styleUrl,W),Object.freeze({styleUrl:J})};E.writeStyleOrigin=function(J,P,W,Z){J.styleName?P.styleName=J.styleName:J.styleUrl&&(P.styleUrl=B.toJSON(J.styleUrl,Z))};E.addUniqueValueInfo=function(J,P){this.styleOrigin?M.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(J="object"===typeof J?N(J):new z({value:J,symbol:c.ensureType(P)}),this.uniqueValueInfos.push(J),this._valueInfoMap[J.value]=J)};E.removeUniqueValueInfo=
function(J){if(this.styleOrigin)M.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let P=0;P<this.uniqueValueInfos.length;P++)if(this.uniqueValueInfos[P].value===J+""){delete this._valueInfoMap[J];this.uniqueValueInfos.splice(P,1);break}};E.getUniqueValueInfo=function(){var J=a._asyncToGenerator(function*(P,W){let Z=W;this.valueExpression&&(u.isNone(W)||u.isNone(W.arcade))&&(Z={...Z,arcade:yield C.loadArcade()});return this._getUniqueValueInfo(P,
Z)});return function(P,W){return J.apply(this,arguments)}}();E.getSymbol=function(J,P){if(this.valueExpression&&(u.isNone(P)||u.isNone(P.arcade)))M.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return(J=this._getUniqueValueInfo(J,P))&&J.symbol||this.defaultSymbol};E.getSymbolAsync=function(){var J=a._asyncToGenerator(function*(P,W){if(this.valueExpression&&(u.isNone(W)||u.isNone(W.arcade))){const Z=yield C.loadArcade(),{arcadeUtils:Y}=Z;Y.hasGeometryOperations(this.valueExpression)&&
(yield Y.enableGeometryOperations());W={...W,arcade:Z}}return(P=this._getUniqueValueInfo(P,W))&&P.symbol||this.defaultSymbol});return function(P,W){return J.apply(this,arguments)}}();E.getSymbols=function(){const J=[];for(const P of this.uniqueValueInfos)P.symbol&&J.push(P.symbol);this.defaultSymbol&&J.push(this.defaultSymbol);return J};E.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((J,P)=>J+P.getAttributeHash(),"")};E.getMeshHash=function(){const J=JSON.stringify(this.backgroundFillSymbol),
P=JSON.stringify(this.defaultSymbol),W=this.uniqueValueInfos.reduce((Z,Y)=>Z+Y.getMeshHash(),"");return`${J}.${P}.${W}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`};E.clone=function(){const J=new K({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:d.clone(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:d.clone(this.visualVariables),
legendOptions:d.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:d.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(J._isDefaultSymbolDerived=!0);J._set("portal",this.portal);const P=d.clone(this.uniqueValueInfos);this.styleOrigin&&(J._set("styleOrigin",Object.freeze(d.clone(this.styleOrigin))),Object.freeze(P));J._set("uniqueValueInfos",P);J._updateValueInfoMap();return J};E.collectRequiredFields=function(){var J=a._asyncToGenerator(function*(P,
W){P=[this.collectVVRequiredFields(P,W),this.collectSymbolFields(P,W)];yield Promise.all(P)});return function(P,W){return J.apply(this,arguments)}}();E.collectSymbolFields=function(){var J=a._asyncToGenerator(function*(P,W){const Z=[...this.getSymbols().map(Y=>Y.collectRequiredFields(P,W)),h.collectArcadeFieldNames(P,W,this.valueExpression)];h.collectField(P,W,this.field);h.collectField(P,W,this.field2);h.collectField(P,W,this.field3);yield Promise.all(Z)});return function(P,W){return J.apply(this,
arguments)}}();E.populateFromStyle=function(){return D.fetchStyle(this.styleOrigin,{portal:this.portal}).then(J=>{const P=[];this._valueInfoMap={};J&&J.data&&Array.isArray(J.data.items)&&J.data.items.forEach(W=>{var Z=new G({styleUrl:J.styleUrl,styleName:J.styleName,portal:this.portal,name:W.name});this.defaultSymbol||W.name!==J.data.defaultItem||(this.defaultSymbol=Z,this._isDefaultSymbolDerived=!0);Z=new z({value:W.name,symbol:Z});P.push(Z);this._valueInfoMap[W.name]=Z});this._set("uniqueValueInfos",
Object.freeze(P));!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0);return this})};E._updateValueInfoMap=function(){this._valueInfoMap={};this.uniqueValueInfos.forEach(J=>this._valueInfoMap[J.value+""]=J)};E._getUniqueValueInfo=function(J,P){return this.valueExpression?this._getUnqiueValueInfoForExpression(J,P):this._getUnqiueValueInfoForFields(J)};E._getUnqiueValueInfoForExpression=function(J,P){const {viewingMode:W,
scale:Z,spatialReference:Y,arcade:S}=u.unwrapOr(P,{});var qa=this._cache.compiledFunc;P=u.unwrap(S).arcadeUtils;qa||(qa=P.createSyntaxTree(this.valueExpression),qa=P.createFunction(qa),this._cache.compiledFunc=qa);J=P.executeFunction(qa,P.createExecContext(J,P.getViewInfo({viewingMode:W,scale:Z,spatialReference:Y})));return this._valueInfoMap[J+""]};E._getUnqiueValueInfoForFields=function(J){const P=this.field,W=J.attributes;if("function"!==typeof P&&this.field2){J=this.field2;var Z=this.field3;const Y=
[];P&&Y.push(W[P]);J&&Y.push(W[J]);Z&&Y.push(W[Z]);Z=Y.join(this.fieldDelimiter||"")}else"function"===typeof P?Z=P(J):P&&(Z=W[P]);return this._valueInfoMap[Z+""]};F.fromPortalStyle=function(J,P){const W=new K(P&&P.properties);W._set("styleOrigin",Object.freeze({styleName:J}));W._set("portal",P&&P.portal||v.getDefault());P=W.populateFromStyle();P.catch(Z=>{M.error(`#fromPortalStyle('${J}'[, ...])`,"Failed to create unique value renderer from style name",Z)});return P};F.fromStyleUrl=function(J,P){P=
new K(P&&P.properties);P._set("styleOrigin",Object.freeze({styleUrl:J}));P=P.populateFromStyle();P.catch(W=>{M.error(`#fromStyleUrl('${J}'[, ...])`,"Failed to create unique value renderer from style URL",W)});return P};a._createClass(F,[{key:"_cache",get:function(){return{compiledFunc:null}}},{key:"defaultSymbol",set:function(J){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",J)}},{key:"uniqueValueInfos",set:function(J){this.styleOrigin?M.error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):
(this._set("uniqueValueInfos",J),this._updateValueInfoMap())}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}}]);return F}(A.VisualVariablesMixin(x));b.__decorate([g.property({readOnly:!0})],l.prototype,"_cache",null);b.__decorate([m.enumeration({uniqueValue:"unique-value"})],l.prototype,"type",void 0);b.__decorate([g.property(w.rendererBackgroundFillSymbolProperty)],l.prototype,"backgroundFillSymbol",void 0);b.__decorate([g.property({json:{type:String,
read:{source:"field1"},write:{target:"field1"}}})],l.prototype,"field",void 0);b.__decorate([n.cast("field")],l.prototype,"castField",null);b.__decorate([k.writer("field")],l.prototype,"writeField",null);b.__decorate([g.property({type:String,json:{write:!0}})],l.prototype,"field2",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],l.prototype,"field3",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],l.prototype,"valueExpression",void 0);b.__decorate([g.property({type:String,
json:{write:!0}})],l.prototype,"valueExpressionTitle",void 0);b.__decorate([g.property({type:y.default,json:{write:!0}})],l.prototype,"legendOptions",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],l.prototype,"defaultLabel",void 0);b.__decorate([g.property(t.deepMerge({...w.rendererSymbolProperty},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],l.prototype,
"defaultSymbol",null);b.__decorate([g.property({type:String,json:{write:!0}})],l.prototype,"fieldDelimiter",void 0);b.__decorate([g.property({type:v,readOnly:!0})],l.prototype,"portal",void 0);b.__decorate([r.reader("portal",["styleName"])],l.prototype,"readPortal",null);b.__decorate([g.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],l.prototype,"styleOrigin",void 0);b.__decorate([r.reader("styleOrigin",["styleName","styleUrl"])],l.prototype,"readStyleOrigin",
null);b.__decorate([k.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],l.prototype,"writeStyleOrigin",null);b.__decorate([g.property({type:[z],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],l.prototype,"uniqueValueInfos",null);return l=K=b.__decorate([q.subclass("esri.renderers.UniqueValueRenderer")],l)})},"esri/core/accessorSupport/diffUtils":function(){define(["exports","../Accessor","../Collection","../maybe","./utils"],function(a,b,
c,f,d){function l(k){return k instanceof c?Object.keys(k.items):k instanceof b?d.getProperties(k).keys():k?Object.keys(k):[]}function u(k,p){return k instanceof c?k.items[p]:k[p]}function t(k,p){return Array.isArray(k)&&Array.isArray(p)?k.length!==p.length:!1}function g(k){return k?k.declaredClass:null}function n(k,p){const e=k.diff;if(e&&"function"===typeof e)return e(k,p);const h=l(k),v=l(p);if(0!==h.length||0!==v.length){if(!h.length||!v.length||t(k,p))return{type:"complete",oldValue:k,newValue:p};
var x=v.filter(y=>-1===h.indexOf(y)),A=h.filter(y=>-1===v.indexOf(y));A=h.filter(y=>-1<v.indexOf(y)&&u(k,y)!==u(p,y)).concat(x,A).sort();if((x=g(k))&&-1<q.indexOf(x)&&A.length)return{type:"complete",oldValue:k,newValue:p};var w;x=k instanceof b&&p instanceof b;for(const y of A){A=u(k,y);const z=u(p,y);!(x||"function"!==typeof A&&"function"!==typeof z)||A===z||null==A&&null==z||(A=e&&e[y]&&"function"===typeof e[y]?e[y](A,z):"object"===typeof A&&"object"===typeof z&&g(A)===g(z)?n(A,z):{type:"complete",
oldValue:A,newValue:z},f.isSome(A)&&(f.isSome(w)?w.diff[y]=A:w={type:"partial",diff:{[y]:A}}))}return w}}function m(k,p){if(f.isNone(k))return!1;p=p.split(".");for(const e of p){if("complete"===k.type)break;if("partial"===k.type){if(k=k.diff[e],!k)return!1}else return!1}return!0}function r(k){if(f.isNone(k))return!0;switch(k.type){case "complete":return!1;case "collection":for(const p of k.added)if(!r(p))return!1;for(const p of k.removed)if(!r(p))return!1;for(const p of k.changed)if(!r(p))return!1;
return!0;case "partial":for(const p in k.diff)if(!r(k.diff[p]))return!1;return!0}}const q=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];a.diff=function(k,p){if(!("function"===typeof k||"function"===typeof p||f.isNone(k)&&f.isNone(p)))return f.isNone(k)||f.isNone(p)||"object"===typeof k&&"object"===typeof p&&g(k)!==g(p)?{type:"complete",oldValue:k,newValue:p}:n(k,p)};a.hasDiff=m;a.hasDiffAny=function(k,p){for(const e of p)if(m(k,
e))return!0;return!1};a.isEmpty=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/UniqueValueInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,c,f,d,l,u,t,g){var n;c=n=function(m){function r(k){k=
m.call(this,k)||this;k.description=null;k.label=null;k.symbol=null;k.value=null;return k}a._inheritsLoose(r,m);var q=r.prototype;q.castValue=function(k){return null==k||"string"===typeof k||"number"===typeof k?k:`${k}`};q.clone=function(){return new n({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})};q.getMeshHash=function(){const k=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${k}`};return r}(c.JSONSupport);b.__decorate([f.property({type:String,
json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([f.property(g.rendererSymbolProperty)],c.prototype,"symbol",void 0);b.__decorate([f.property({json:{type:String,write:{writer:(m,r)=>{r.value=null==m?void 0:m.toString()}}}})],c.prototype,"value",void 0);b.__decorate([u.cast("value")],c.prototype,"castValue",null);return c=n=b.__decorate([t.subclass("esri.renderers.support.UniqueValueInfo")],c)})},
"esri/symbols/support/styleUtils":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../request ../../core/Error ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ../../support/featureFlags".split(" "),function(a,b,c,f,d,l,u,t,g){function n(e,h){return m.apply(this,arguments)}function m(){m=b._asyncToGenerator(function*(e,h){try{return{data:(yield k(e,h)).data,baseUrl:l.removeFile(e),styleUrl:e}}catch(v){return d.throwIfAbortError(v),
null}});return m.apply(this,arguments)}function r(e,h,v){h=h&&h.portal||u.getDefault();let x;const A=`${h.url} - ${h.user&&h.user.username} - ${e}`;p[A]||(p[A]=q(e,h,v).then(w=>{x=w;return w.fetchData()}).then(w=>({data:w,baseUrl:x.itemUrl,styleName:e})));return p[A]}function q(e,h,v){return h.load(v).then(()=>{const x=new t({disableExtraQuery:!0,query:`owner:${"esri_en"} AND type:${"Style"} AND typekeywords:"${e}"`});return h.queryItems(x,v)}).then(({results:x})=>{let A=null;const w=e.toLowerCase();
if(x&&Array.isArray(x))for(const y of x)if(y.typeKeywords.some(z=>z.toLowerCase()===w)&&"Style"===y.type&&"esri_en"===y.owner){A=y;break}if(!A)throw new f("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return A.load(v)})}function k(e,h){h={responseType:"json",query:{f:"json"},...h};return c(l.normalize(e),h)}const p={};a.Style2DUrlTemplate="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson";
a.fetchStyle=function(e,h,v){return e.styleUrl?n(e.styleUrl,v):e.styleName?r(e.styleName,h,v):Promise.reject(new f("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))};a.makeCIMSymbolRef=function(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}};a.requestJSON=k;a.styleNameFromItem=function(e){for(const h of e.typeKeywords)if(/^Esri.*Style$/.test(h)&&"Esri Style"!==h)return h};a.symbolUrlFromStyleItem=
function(e,h){if("cimRef"===h)return e.cimRef;if(e.formatInfos&&!g.enableWebStyleForceWOSR())for(const v of e.formatInfos)if("gltf"===v.type)return v.href;return e.webRef};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/featureFlags":function(){define(["exports","../core/has"],function(a,b){a.enableDirect3DObjectFeatureLayerDisplay=()=>!!b("enable-feature:direct-3d-object-feature-layer-display");a.enablePrecipitation=()=>!!b("enable-feature:precipitation");a.enableWebStyleForceWOSR=
()=>!!b("enable-feature:force-wosr");Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/jsonUtils":function(){define(["exports","../../core/Warning","../../core/accessorSupport/extensions/serializableProperty/reader","./types"],function(a,b,c,f){function d(u,t,g){return u?u&&(u.styleName||u.styleUrl)&&"uniqueValue"!==u.type?(g&&g.messages&&g.messages.push(new b("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+u.type+"'",{definition:u,
context:g})),null):l(u,t,g):null}const l=c.createTypeReader({types:f.rendererTypes});a.fromJSON=function(u,t){return d(u,null,t)};a.read=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/types":function(){define("exports ../ClassBreaksRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../Renderer ../SimpleRenderer ../UniqueValueRenderer".split(" "),function(a,b,c,f,d,l,u,t){const g={key:"type",base:l,typeMap:{simple:u,"unique-value":t,"class-breaks":b},
errorContext:"renderer"};a.rendererTypes={key:"type",base:l,typeMap:{heatmap:d,simple:u,"unique-value":t,"class-breaks":b,"dot-density":f,dictionary:c},errorContext:"renderer"};a.webSceneRendererTypes=g;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/MultiOriginJSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./ReadOnlyMultiOriginJSONSupport ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g){const n=r=>{r=function(q){function k(...e){return q.call(this,...e)||this}b._inheritsLoose(k,q);var p=k.prototype;p.clear=function(e,h="user"){return u.getProperties(this).store.delete(e,l.nameToId(h))};p.write=function(e={},h){e=e||{};t.write(this,e,h);return e};p.setAtOrigin=function(e,h,v){u.getProperties(this).setAtOrigin(e,h,l.nameToId(v))};p.removeOrigin=function(e){const h=u.getProperties(this).store;e=l.nameToId(e);const v=h.keys(e);for(const x of v)h.originOf(x)===
e&&h.set(x,h.get(x,e),l.OriginId.USER)};p.updateOrigin=function(e,h){const v=u.getProperties(this).store;h=l.nameToId(h);const x=this.get(e);for(let A=h+1;A<l.OriginIdNum;++A)v.delete(e,A);v.set(e,x,h)};p.toJSON=function(e){return this.write({},e)};return k}(r);r=c.__decorate([g.subclass("esri.core.WriteableMultiOriginJSONSupport")],r);r.prototype.toJSON.isDefaultToJSON=!0;return r},m=r=>{r=function(q){function k(...p){return q.call(this,...p)||this}b._inheritsLoose(k,q);return k}(n(d.ReadOnlyMultiOriginJSONMixin(r)));
return r=c.__decorate([g.subclass("esri.core.MultiOriginJSONSupport")],r)};a.MultiOriginJSONSupport=function(r){function q(){return r.apply(this,arguments)||this}b._inheritsLoose(q,r);return q}(m(f));a.MultiOriginJSONSupport=c.__decorate([g.subclass("esri.core.MultiOriginJSONSupport")],a.MultiOriginJSONSupport);a.MultiOriginJSONMixin=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/ReadOnlyMultiOriginJSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./accessorSupport/defaultsStoreUtils ./accessorSupport/MultiOriginStore ./accessorSupport/PropertyOrigin ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){const r=q=>{q=function(k){function p(...h){h=k.call(this,...h)||this;const v=d.assumeNonNull(n.getProperties(b._assertThisInitialized(h))),x=v.store,A=new u;v.store=A;l.setupConstructedDefaults(v,x,A);return h}b._inheritsLoose(p,k);var e=p.prototype;e.read=function(h,v){g.read(this,h,v)};e.getAtOrigin=function(h,v){const x=n.getProperties(this).store,A=t.nameToId(v);if("string"===typeof h)return x.get(h,A);const w={};h.forEach(y=>{w[y]=x.get(y,A)});return w};e.originOf=
function(h){return t.idToName(this.originIdOf(h))};e.originIdOf=function(h){return n.getProperties(this).store.originOf(h)};e.revert=function(h,v){const x=n.getProperties(this).store,A=t.nameToId(v),w=n.getProperties(this);("string"===typeof h?"*"===h?x.keys(A):[h]:h).forEach(y=>{w.invalidate(y);x.revert(y,A);w.commit(y)})};return p}(q);return q=c.__decorate([m.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],q)};a.ReadOnlyMultiOriginJSONSupport=function(q){function k(){return q.apply(this,arguments)||
this}b._inheritsLoose(k,q);return k}(r(f));a.ReadOnlyMultiOriginJSONSupport=c.__decorate([m.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],a.ReadOnlyMultiOriginJSONSupport);a.ReadOnlyMultiOriginJSONMixin=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/MultiOriginStore":function(){define(["../lang","../maybe","./PropertyOrigin"],function(a,b,c){return function(){function f(){this._propertyOriginMap=new Map;this._originStores=Array(c.OriginIdNum);this._values=
new Map;this.multipleOriginsSupported=!0}var d=f.prototype;d.clone=function(l){const u=new f;var t=this._originStores[c.OriginId.DEFAULTS];t&&t.forEach((g,n)=>{u.set(n,a.clone(g),c.OriginId.DEFAULTS)});for(let g=c.OriginId.SERVICE;g<c.OriginIdNum;g++)(t=this._originStores[g])&&t.forEach((n,m)=>{l&&l.has(m)||u.set(m,a.clone(n),g)});return u};d.get=function(l,u){return(u=void 0===u?this._values:this._originStores[u])?u.get(l):void 0};d.keys=function(l){return(l=null==l?this._values:this._originStores[l])?
[...l.keys()]:[]};d.set=function(l,u,t=c.OriginId.USER){var g=this._originStores[t];g||(g=new Map,this._originStores[t]=g);g.set(l,u);return!this._values.has(l)||b.assumeNonNull(this._propertyOriginMap.get(l))<=t?(g=this._values.get(l),this._values.set(l,u),this._propertyOriginMap.set(l,t),g!==u):!1};d.delete=function(l,u=c.OriginId.USER){var t=this._originStores[u];if(t){var g=t.get(l);t.delete(l);if(this._values.has(l)&&this._propertyOriginMap.get(l)===u)for(this._values.delete(l),--u;0<=u;u--)if((t=
this._originStores[u])&&t.has(l)){this._values.set(l,t.get(l));this._propertyOriginMap.set(l,u);break}return g}};d.has=function(l,u){return(u=void 0===u?this._values:this._originStores[u])?u.has(l):!1};d.revert=function(l,u){for(;0<u&&!this.has(l,u);)--u;var t=this._originStores[u];t=t&&t.get(l);const g=this._values.get(l);this._values.set(l,t);this._propertyOriginMap.set(l,u);return g!==t};d.originOf=function(l){return this._propertyOriginMap.get(l)||c.OriginId.DEFAULTS};d.forEach=function(l){this._values.forEach(l)};
return f}()})},"esri/core/sql":function(){define(["require","exports","../chunks/_rollupPluginBabelHelpers"],function(a,b,c){function f(){f=c._asyncToGenerator(function*(d,l){const {WhereClause:u}=yield new Promise((t,g)=>a(["./sql/WhereClause"],t,g));return u.create(d,l)});return f.apply(this,arguments)}b.parseWhereClause=function(d,l){return f.apply(this,arguments)};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/form/FormTemplate":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./ExpressionInfo ./elements/GroupElement ./support/elements".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r){var q;const k=r.buildTypeMaps(m);c=q=function(p){function e(v){v=p.call(this,v)||this;v.description=null;v.elements=null;v.expressionInfos=null;v.title=null;return v}a._inheritsLoose(e,p);var h=e.prototype;h.castElements=function(v){return r.ensureType(v,k)};h.readElements=function(v,x){return r.fromJSON(x.formElements,k)};h.writeElements=function(v,x){x.formElements=r.toJSON(v,k)};h.clone=function(){return new q({description:this.description,expressionInfos:f.clone(this.expressionInfos),
elements:f.clone(this.elements),title:this.title})};return e}(c.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"elements",void 0);b.__decorate([l.cast("elements")],c.prototype,"castElements",null);b.__decorate([u.reader("elements",["formElements"])],c.prototype,"readElements",null);b.__decorate([g.writer("elements")],c.prototype,"writeElements",null);b.__decorate([d.property({type:[n],
json:{write:!0}})],c.prototype,"expressionInfos",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=q=b.__decorate([t.subclass("esri.form.FormTemplate")],c)})},"esri/form/ExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),function(a,
b,c,f,d,l,u,t){var g;c=g=function(n){function m(r){r=n.call(this,r)||this;r.expression=null;r.name=null;r.returnType="boolean";r.title=null;return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};return m}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);
b.__decorate([f.property({type:["boolean","date","number","string"],json:{write:!0}})],c.prototype,"returnType",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=g=b.__decorate([t.subclass("esri.form.ExpressionInfo")],c)})},"esri/form/elements/GroupElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./Element ../support/elements".split(" "),
function(a,b,c,f,d,l,u,t,g,n){var m;g=m=function(q){function k(e){e=q.call(this,e)||this;e.elements=null;e.initialState="expanded";e.type="group";return e}a._inheritsLoose(k,q);var p=k.prototype;p.castElements=function(e){return n.ensureType(e,r,!1)};p.readElements=function(e,h){return n.fromJSON(h.formElements,r,!1)};p.writeElements=function(e,h){h.formElements=n.toJSON(e,r,!1)};p.clone=function(){return new m({description:this.description,elements:c.clone(this.elements),initialState:this.initialState,
label:this.label,visibilityExpression:this.visibilityExpression})};return k}(g);b.__decorate([f.property({json:{write:!0}})],g.prototype,"elements",void 0);b.__decorate([d.cast("elements")],g.prototype,"castElements",null);b.__decorate([l.reader("elements",["formElements"])],g.prototype,"readElements",null);b.__decorate([t.writer("elements")],g.prototype,"writeElements",null);b.__decorate([f.property({type:["collapsed","expanded"],json:{write:!0}})],g.prototype,"initialState",void 0);b.__decorate([f.property({type:String,
json:{read:!1,write:!0}})],g.prototype,"type",void 0);g=m=b.__decorate([u.subclass("esri.form.elements.GroupElement")],g);const r=n.buildTypeMaps(g);return g})},"esri/form/elements/Element":function(){define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass"],function(a,b,c,f,d){c=function(l){function u(t){t=l.call(this,t)||this;t.description=null;t.label=null;
t.type=null;t.visibilityExpression=null;return t}a._inheritsLoose(u,l);return u}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([f.property()],c.prototype,"type",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"visibilityExpression",void 0);return c=b.__decorate([d.subclass("esri.form.elements.Element")],c)})},"esri/form/support/elements":function(){define("exports ../../core/accessorSupport/ensureType ../elements/AttachmentElement ../elements/Element ../elements/FieldElement ../elements/RelationshipElement".split(" "),
function(a,b,c,f,d,l){a.buildTypeMaps=function(u){return{typesWithGroup:{base:f,key:"type",typeMap:{attachment:c,field:d,group:u,relationship:l}},typesWithoutGroup:{base:f,key:"type",typeMap:{attachment:c,field:d,relationship:l}}}};a.ensureType=function(u,t,g=!0){return u?u.map(n=>b.ensureOneOfType(g?t.typesWithGroup:t.typesWithoutGroup,n)):null};a.fromJSON=function(u,t,g=!0){if(!u)return null;const n=g?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return u.filter(m=>n[m.type]).map(m=>n[m.type].fromJSON(m))};
a.toJSON=function(u,t,g=!0){if(!u)return null;const n=g?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return u.filter(m=>n[m.type]).map(m=>m.toJSON())};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/form/elements/AttachmentElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Element ./inputs/AttachmentInput".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;f=n=function(m){function r(q){q=m.call(this,q)||this;q.attachmentKeyword=null;q.editable=!0;q.input=null;q.type="attachment";return q}a._inheritsLoose(r,m);r.prototype.clone=function(){return new n({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})};return r}(t);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"attachmentKeyword",
void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],f.prototype,"editable",void 0);b.__decorate([c.property({type:g,json:{read:{source:"inputType"},write:{target:"inputType"}}})],f.prototype,"input",void 0);b.__decorate([c.property({type:["attachment"],json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=n=b.__decorate([u.subclass("esri.form.elements.AttachmentElement")],f)})},"esri/form/elements/inputs/AttachmentInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){var g;c=g=function(n){function m(r){r=n.call(this,r)||this;r.type=null;return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({type:this.type})};return m}(c.JSONSupport);b.__decorate([f.property({type:"attachment audio document image signature video".split(" "),json:{write:!0}})],c.prototype,"type",void 0);return c=g=b.__decorate([t.subclass("esri.form.elements.inputs.AttachmentInput")],c)})},"esri/form/elements/FieldElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Element ./support/inputs ../../layers/support/domains".split(" "),
function(a,b,c,f,d,l,u,t,g,n){var m;f=m=function(r){function q(k){k=r.call(this,k)||this;k.domain=null;k.editable=!0;k.editableExpression=null;k.fieldName=null;k.hint=null;k.input=null;k.requiredExpression=null;k.type="field";k.valueExpression=null;return k}a._inheritsLoose(q,r);q.prototype.clone=function(){return new m({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,
requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})};return q}(t);b.__decorate([c.property({types:n.types,json:{read:{reader:n.fromJSON},write:!0}})],f.prototype,"domain",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],f.prototype,"editable",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"editableExpression",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,
"fieldName",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"hint",void 0);b.__decorate([c.property({types:g.types,json:{read:{source:"inputType"},write:{target:"inputType"}}})],f.prototype,"input",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"requiredExpression",void 0);b.__decorate([c.property({type:String,json:{read:!1,write:!0}})],f.prototype,"type",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"valueExpression",
void 0);return f=m=b.__decorate([u.subclass("esri.form.elements.FieldElement")],f)})},"esri/form/elements/support/inputs":function(){define("exports ../inputs/BarcodeScannerInput ../inputs/ComboBoxInput ../inputs/DateTimePickerInput ../inputs/Input ../inputs/RadioButtonsInput ../inputs/SwitchInput ../inputs/TextAreaInput ../inputs/TextBoxInput".split(" "),function(a,b,c,f,d,l,u,t,g){a.types={base:d,key:"type",typeMap:{"barcode-scanner":b,"combo-box":c,"datetime-picker":f,"radio-buttons":l,switch:u,
"text-area":t,"text-box":g}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/form/elements/inputs/BarcodeScannerInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),function(a,b,c,f,d,l,u,t){var g;f=g=function(n){function m(r){r=n.call(this,r)||
this;r.type="barcode-scanner";return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({maxLength:this.maxLength,minLength:this.minLength})};return m}(t);b.__decorate([c.property({type:["barcode-scanner"],json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=g=b.__decorate([u.subclass("esri.form.elements.inputs.BarcodeScannerInput")],f)})},"esri/form/elements/inputs/TextInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,f,d,l,u,t){f=function(g){function n(m){m=g.call(this,m)||this;m.maxLength=null;m.minLength=0;return m}a._inheritsLoose(n,g);return n}(t);b.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"maxLength",void 0);b.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"minLength",void 0);return f=b.__decorate([u.subclass("esri.form.elements.inputs.TextInput")],f)})},"esri/form/elements/inputs/Input":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){c=function(g){function n(m){m=g.call(this,m)||this;m.type=null;return m}a._inheritsLoose(n,g);return n}(c.JSONSupport);b.__decorate([f.property()],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.form.elements.inputs.Input")],c)})},"esri/form/elements/inputs/ComboBoxInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,f,d,l,u,t){var g;f=g=function(n){function m(r){r=n.call(this,r)||this;r.noValueOptionLabel=null;r.showNoValueOption=!1;r.type="combo-box";return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})};return m}(t);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"noValueOptionLabel",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],f.prototype,"showNoValueOption",
void 0);b.__decorate([c.property({type:["combo-box"],json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=g=b.__decorate([u.subclass("esri.form.elements.inputs.ComboBoxInput")],f)})},"esri/form/elements/inputs/DateTimePickerInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,c,f,d,l,u,t,g,n){function m(q){return null!=q?new Date(q):null}var r;f=r=function(q){function k(e){e=q.call(this,e)||this;e.includeTime=!1;e.max=null;e.min=null;e.type="datetime-picker";return e}a._inheritsLoose(k,q);var p=k.prototype;p.readMax=function(e,h){return m(h.max)};p.writeMax=function(e,h){h.max=e?e.getTime():null};p.readMin=function(e,h){return m(h.min)};p.writeMin=function(e,h){h.min=e?e.getTime():null};p.clone=function(){return new r({includeTime:this.includeTime,max:this.max,
min:this.min,type:this.type})};return k}(n);b.__decorate([c.property({type:Boolean,json:{write:!0}})],f.prototype,"includeTime",void 0);b.__decorate([c.property({type:Date,json:{type:Number,write:!0}})],f.prototype,"max",void 0);b.__decorate([u.reader("max")],f.prototype,"readMax",null);b.__decorate([g.writer("max")],f.prototype,"writeMax",null);b.__decorate([c.property({type:Date,json:{type:Number,write:!0}})],f.prototype,"min",void 0);b.__decorate([u.reader("min")],f.prototype,"readMin",null);b.__decorate([g.writer("min")],
f.prototype,"writeMin",null);b.__decorate([c.property({type:["datetime-picker"],json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=r=b.__decorate([t.subclass("esri.form.elements.inputs.DateTimePickerInput")],f)})},"esri/form/elements/inputs/RadioButtonsInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,f,d,l,u,t){var g;f=g=function(n){function m(r){r=n.call(this,r)||this;r.noValueOptionLabel=null;r.showNoValueOption=!1;r.type="radio-buttons";return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})};return m}(t);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"noValueOptionLabel",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],f.prototype,"showNoValueOption",
void 0);b.__decorate([c.property({type:["radio-buttons"],json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=g=b.__decorate([u.subclass("esri.form.elements.inputs.RadioButtonsInput")],f)})},"esri/form/elements/inputs/SwitchInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,f,d,l,u,t){var g;f=g=function(n){function m(r){r=n.call(this,r)||this;r.offValue=null;r.onValue=null;r.type="switch";return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({offValue:this.offValue,onValue:this.onValue})};return m}(t);b.__decorate([c.property({type:[String,Number],json:{write:!0}})],f.prototype,"offValue",void 0);b.__decorate([c.property({type:[String,Number],json:{write:!0}})],f.prototype,"onValue",void 0);b.__decorate([c.property({type:["switch"],
json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=g=b.__decorate([u.subclass("esri.form.elements.inputs.SwitchInput")],f)})},"esri/form/elements/inputs/TextAreaInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),function(a,b,c,f,d,l,u,t){var g;
f=g=function(n){function m(r){r=n.call(this,r)||this;r.type="text-area";return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({maxLength:this.maxLength,minLength:this.minLength})};return m}(t);b.__decorate([c.property({type:["text-area"],json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=g=b.__decorate([u.subclass("esri.form.elements.inputs.TextAreaInput")],f)})},"esri/form/elements/inputs/TextBoxInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,f,d,l,u,t){var g;f=g=function(n){function m(r){r=n.call(this,r)||this;r.type="text-box";return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({maxLength:this.maxLength,minLength:this.minLength})};return m}(t);b.__decorate([c.property({type:["text-box"],json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=g=b.__decorate([u.subclass("esri.form.elements.inputs.TextBoxInput")],f)})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(a,b,c,f,d,l){b={key:"type",base:f,typeMap:{range:l,"coded-value":c,inherited:d}};a.CodedValueDomain=c;a.DomainBase=f;a.InheritedDomain=d;a.RangeDomain=l;a.fromJSON=function(u){if(!u||!u.type)return null;switch(u.type){case "range":return l.fromJSON(u);case "codedValue":return c.fromJSON(u);case "inherited":return d.fromJSON(u)}return null};a.types=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;d=n=function(m){function r(k){k=m.call(this,k)||this;k.codedValues=null;k.type="coded-value";return k}a._inheritsLoose(r,m);var q=r.prototype;q.getName=function(k){let p=null;if(this.codedValues){const e=String(k);this.codedValues.some(h=>{String(h.code)===e&&(p=h.name);return!!p})}return p};q.clone=function(){return new n({codedValues:c.clone(this.codedValues),name:this.name})};return r}(g);b.__decorate([f.property({type:[t.default],json:{write:!0}})],d.prototype,
"codedValues",void 0);b.__decorate([l.enumeration({codedValue:"coded-value"})],d.prototype,"type",void 0);return d=n=b.__decorate([u.subclass("esri.layers.support.CodedValueDomain")],d)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;a.CodedValue=n=function(m){function r(q){q=m.call(this,q)||this;q.name=null;q.code=null;return q}b._inheritsLoose(r,m);r.prototype.clone=function(){return new n({name:this.name,code:this.code})};return r}(f.JSONSupport);c.__decorate([d.property({type:String,json:{write:!0}})],a.CodedValue.prototype,"name",void 0);c.__decorate([d.property({type:[String,Number],json:{write:!0}})],a.CodedValue.prototype,"code",void 0);a.CodedValue=n=c.__decorate([g.subclass("esri.layers.support.CodedValue")],
a.CodedValue);a.default=a.CodedValue;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t,g,n){c=
new c.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});f=function(m){function r(q){q=m.call(this,q)||this;q.name=null;q.type=null;return q}a._inheritsLoose(r,m);return r}(f.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"name",void 0);b.__decorate([g.enumeration(c)],f.prototype,"type",void 0);return f=b.__decorate([n.subclass("esri.layers.support.Domain")],f)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/set ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,f,d,l,u,t,g,n){var m;c=m=function(r){function q(k){k=r.call(this,k)||this;k.type="inherited";return k}a._inheritsLoose(q,r);q.prototype.clone=function(){return new m};return q}(n);b.__decorate([t.enumeration({inherited:"inherited"})],c.prototype,"type",void 0);return c=m=b.__decorate([g.subclass("esri.layers.support.InheritedDomain")],c)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;f=n=function(m){function r(q){q=m.call(this,q)||this;q.maxValue=null;q.minValue=null;q.type="range";return q}a._inheritsLoose(r,m);r.prototype.clone=function(){return new n({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return r}(g);b.__decorate([c.property({type:Number,json:{type:[Number],read:{source:"range",reader(m,r){return r.range&&r.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",
writer(m,r,q){r[q]=[this.minValue||0,m]}}}})],f.prototype,"maxValue",void 0);b.__decorate([c.property({type:Number,json:{type:[Number],read:{source:"range",reader(m,r){return r.range&&r.range[0]}},write:{target:"range",writer(m,r,q){r[q]=[m,this.maxValue||0]}}}})],f.prototype,"minValue",void 0);b.__decorate([u.enumeration({range:"range"})],f.prototype,"type",void 0);return f=n=b.__decorate([t.subclass("esri.layers.support.RangeDomain")],f)})},"esri/form/elements/RelationshipElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Element ../../popup/support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,f,d,l,u,t){var g;d=g=function(n){function m(r){r=n.call(this,r)||this;r.displayCount=null;r.displayType="list";r.editable=!0;r.orderByFields=null;r.relationshipId=null;r.type="relationship";return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:c.clone(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})};
return m}(u);b.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"displayCount",void 0);b.__decorate([f.property({type:["list"],json:{write:!0}})],d.prototype,"displayType",void 0);b.__decorate([f.property({type:Boolean,json:{write:!0}})],d.prototype,"editable",void 0);b.__decorate([f.property({type:[t],json:{write:!0}})],d.prototype,"orderByFields",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"relationshipId",void 0);b.__decorate([f.property({type:["relationship"],
json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=g=b.__decorate([l.subclass("esri.form.elements.RelationshipElement")],d)})},"esri/geometry/HeightModelInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/arrayUtils ../core/jsonMap ../core/JSONSupport ../core/unitUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q){function k(x,A){return new u("height-unit:unsupported",`Height unit of value '${x}' is not supported`,A)}function p(x,A){return new u("height-model:unsupported",`Height model of value '${x}' is not supported`,A)}var e;const h=f.strict()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"});g=h.jsonValues.slice();c.removeUnordered(g,"orthometric");const v=f.strict()({meter:"meters",foot:"feet","us-foot":"us-feet",
"clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});c=e=function(x){function A(y){y=x.call(this,y)||this;y.heightModel=
"gravity-related-height";y.heightUnit="meters";y.vertCRS=null;return y}a._inheritsLoose(A,x);var w=A.prototype;w.writeHeightModel=function(y,z,C){return h.write(y,z,C)};w.readHeightModel=function(y,z,C){if(z=h.read(y))return z;C&&C.messages&&C.messages.push(p(y,{context:C}));return null};w.readHeightUnit=function(y,z,C){if(z=v.read(y))return z;C&&C.messages&&C.messages.push(k(y,{context:C}));return null};w.readHeightUnitService=function(y,z,C){if(z=l.unitFromRESTJSON(y)||v.read(y))return z;C&&C.messages&&
C.messages.push(k(y,{context:C}));return null};w.readVertCRS=function(y,z){return z.vertCRS||z.ellipsoid||z.geoid};w.clone=function(){return new e({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})};w.equals=function(y){return y?this===y?!0:this.heightModel===y.heightModel&&this.heightUnit===y.heightUnit&&this.vertCRS===y.vertCRS:!1};A.deriveUnitFromSR=function(y,z){z=l.getVerticalUnitStringForSR(z);return new e({heightModel:y.heightModel,heightUnit:z,vertCRS:y.vertCRS})};
w.write=function(y,z){z={origin:"web-scene",...z};return x.prototype.write.call(this,y,z)};A.fromJSON=function(y){if(!y)return null;const z=new e;z.read(y,{origin:"web-scene"});return z};return A}(d.JSONSupport);b.__decorate([t.property({type:h.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:g,default:"ellipsoidal"}}}})],c.prototype,"heightModel",void 0);b.__decorate([q.writer("web-scene","heightModel")],c.prototype,"writeHeightModel",null);b.__decorate([m.reader(["web-scene","service"],
"heightModel")],c.prototype,"readHeightModel",null);b.__decorate([t.property({type:v.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:v.jsonValues,write:v.write}}}})],c.prototype,"heightUnit",void 0);b.__decorate([m.reader("web-scene","heightUnit")],c.prototype,"readHeightUnit",null);b.__decorate([m.reader("service","heightUnit")],c.prototype,"readHeightUnitService",null);b.__decorate([t.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],c.prototype,"vertCRS",
void 0);b.__decorate([m.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],c.prototype,"readVertCRS",null);return c=e=b.__decorate([r.subclass("esri.geometry.HeightModelInfo")],c)})},"esri/layers/graphics/sources/MemorySource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../core/Collection ../../../core/Error ../../../core/HandleOwner ../../../core/has ../../../core/Loadable ../../../core/Logger ../../../core/maybe ../../../core/Promise ../../../core/workers/workers ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/shared ../../../core/accessorSupport/decorators/subclass ../../../rest/query/operations/editsZScale ../../../rest/query/operations/queryZScale ../../../rest/support/FeatureSet ../../../geometry/Extent ../../../geometry/Polygon ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A,w,y,z,C,B){let D=0;const G=m.getLogger("esri.layers.graphics.sources.MemorySource");a.MemorySource=function(K){function M(I){I=K.call(this,I)||this;I._idToClientGraphic=null;I.type="memory";return I}b._inheritsLoose(M,K);var N=M.prototype;N.load=function(I){I=r.isSome(I)?I.signal:null;this.addResolvingPromise(this._startWorker(I));return Promise.resolve(this)};N.destroy=function(){var I;null==(I=this._connection)?void 0:I.close();this._connection=null};
N.applyEdits=function(I){return this.load().then(()=>this._applyEdits(I))};N.openPorts=function(){return this.load().then(()=>this._connection.openPorts())};N.queryFeatures=function(){var I=b._asyncToGenerator(function*(F,E={}){yield this.load(E);E=yield this._connection.invoke("queryFeatures",F?F.toJSON():null,E);w.applyFeatureSetZUnitScaling(F,this.layer.spatialReference,E);F=y.fromJSON(E);if(!this._requiresClientGraphicMapping())return F;E=this.layer.objectIdField;for(const J of F.features){const P=
this._idToClientGraphic.get(J.attributes[E]);P&&(J.geometry=P.geometry)}F.geometryType=this.layer.geometryType;return F});return function(F){return I.apply(this,arguments)}}();N.queryFeaturesJSON=function(){var I=b._asyncToGenerator(function*(F,E={}){if(this._requiresClientGraphicMapping())throw new u("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");yield this.load(E);E=yield this._connection.invoke("queryFeatures",F?F.toJSON():null,
E);w.applyFeatureSetZUnitScaling(F,this.layer.spatialReference,E);return E});return function(F){return I.apply(this,arguments)}}();N.queryFeatureCount=function(I,F={}){return this.load(F).then(()=>this._connection.invoke("queryFeatureCount",I?I.toJSON():null,F))};N.queryObjectIds=function(I,F={}){return this.load(F).then(()=>this._connection.invoke("queryObjectIds",I?I.toJSON():null,F))};N.queryExtent=function(I,F={}){return this.load(F).then(()=>this._connection.invoke("queryExtent",I?I.toJSON():
null,F)).then(E=>({count:E.count,extent:z.fromJSON(E.extent)}))};N.querySnapping=function(I,F={}){return this.load(F).then(()=>this._connection.invoke("querySnapping",I,F))};N._applyEdits=function(){var I=b._asyncToGenerator(function*(F){if(!this._connection)throw new u("feature-layer-source:edit-failure","Memory source not loaded");const E=this.layer.objectIdField;let J=null;const P=[],W=[];yield Promise.all([this._prepareClientMapping(F.addFeatures,null),this._prepareClientMapping(F.updateFeatures,
null)]);const Z=xa=>"objectId"in xa&&null!=xa.objectId?xa.objectId:"attributes"in xa&&null!=xa.attributes[E]?xa.attributes[E]:null;F.addFeatures&&(J=this._prepareAddFeatures(F.addFeatures));if(F.deleteFeatures)for(var Y of F.deleteFeatures){const xa=Z(Y);null!=xa&&P.push(xa)}Y=F.updateFeatures&&this._idToClientGraphic?new Map:null;if(F.updateFeatures)for(const xa of F.updateFeatures)W.push(this._serializeFeature(xa)),Y&&(F=Z(xa),null!=F&&Y.set(F,xa));A.unapplyEditsZUnitScaling(J?J.features:null,W,
this.layer.spatialReference);const {fullExtent:S,featureEditResults:qa}=yield this._connection.invoke("applyEdits",{adds:J?J.features:[],updates:W,deletes:P});this.fullExtent=S;J&&J.finish(qa.uidToObjectId);this._updateClientGraphicIds(Y,qa);return this._createEditsResult(qa)});return function(F){return I.apply(this,arguments)}}();N._prepareClientMapping=function(){var I=b._asyncToGenerator(function*(F,E){if("mesh"===this.layerOrSourceGeometryType&&!r.isNone(F)){var J=[];for(const {geometry:P}of F)!r.isSome(P)||
"mesh"!==P.type||P.hasExtent||P.loaded||J.push(P.load({signal:E}));J.length&&(yield Promise.all(J))}});return function(F,E){return I.apply(this,arguments)}}();N._updateClientGraphicIds=function(I,F){if(this._idToClientGraphic){if(I)for(const E of F.updateResults){if(!E.success)continue;const J=I.get(E.objectId);null!=J&&this._addIdToClientGraphic(J)}for(const E of F.deleteResults)E.success&&this._idToClientGraphic.delete(E.objectId)}};N._createEditsResult=function(I){return{addFeatureResults:I.addResults?
I.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:I.updateResults?I.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:I.deleteResults?I.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}};N._createFeatureEditResult=function(I){const F=!0===I.success?null:I.error||{code:void 0,description:void 0};return{objectId:I.objectId,globalId:I.globalId,error:F?new u("feature-layer-source:edit-failure",
F.description,{code:F.code}):null}};N._prepareAddFeatures=function(I){const F=new Map,E=Array(I.length);let J=null;for(let W=0;W<I.length;W++){const Z=I[W],Y=this._serializeFeature(Z);!J&&r.isSome(Z.geometry)&&(J=Z.geometry.type);E[W]=Y;F.set(`${Y.uid}`,Z)}const P=this;return{features:E,inferredGeometryType:J,finish(W){const Z=P.sourceJSON.objectIdField;for(const Y in W){const S=W[Y],qa=F.get(Y);qa&&(qa.attributes||(qa.attributes={}),-1===S?delete qa.attributes[Z]:qa.attributes[Z]=S,P._addIdToClientGraphic(qa))}}}};
N._addIdToClientGraphic=function(I){if(this._idToClientGraphic){var F=this.sourceJSON.objectIdField;F=I.attributes&&I.attributes[F];null!=F&&this._idToClientGraphic.set(F,I)}};N._requiresClientGraphicMapping=function(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)};N._geometryRequiresClientGraphicMapping=function(I){return this._geometryTypeRequiresClientGraphicMapping(I.type)};N._geometryTypeRequiresClientGraphicMapping=function(I){return"mesh"===I||"multipatch"===
I||"extent"===I};N._serializeFeature=function(I){const {attributes:F}=I;I=this._geometryForSerialization(I);const E=(D++).toString();return I?{uid:E,geometry:I.toJSON(),attributes:F}:{uid:E,attributes:F}};N._geometryForSerialization=function(I){({geometry:I}=I);return r.isNone(I)?null:this._geometryRequiresClientGraphicMapping(I)?I.extent?C.fromExtent(I.extent):null:I};N._startWorker=function(){var I=b._asyncToGenerator(function*(F){this._connection=yield k.open("MemorySourceWorker",{strategy:g("feature-layers-workers")?
"dedicated":"local",signal:F});const {fields:E,spatialReference:J,objectIdField:P,hasM:W,hasZ:Z,timeInfo:Y}=this.layer;var S="defaults"===this.layer.originOf("spatialReference");yield this._prepareClientMapping(this.items,F);const qa=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",Fa=>{G.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");Fa.preventDefault()}));S={features:qa.features,fields:E&&E.map(Fa=>Fa.toJSON()),
geometryType:B.typeKebabDictionary.toJSON(this.workerGeometryType),hasM:"mesh"===this.layerOrSourceGeometryType?!1:W,hasZ:"mesh"===this.layerOrSourceGeometryType?!0:Z,objectIdField:P,spatialReference:S?null:J&&J.toJSON(),timeInfo:Y?Y.toJSON():null};F=yield this._connection.invoke("load",S,{signal:F});for(var xa of F.warnings)G.warn(xa.message,{layer:this.layer,warning:xa});F.featureErrors.length&&G.warn(`Encountered ${F.featureErrors.length} validation errors while loading features`,F.featureErrors);
xa=F.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(qa.inferredGeometryType)&&(xa.geometryType=B.typeKebabDictionary.toJSON(qa.inferredGeometryType));this.sourceJSON=xa;this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map);qa.finish(F.assignedObjectIds)});return function(F){return I.apply(this,arguments)}}();b._createClass(M,[{key:"workerGeometryType",get:function(){var I;const F=null==(I=this.layer)?void 0:I.geometryType;return F?this._geometryTypeRequiresClientGraphicMapping(F)?
"polygon":F:null}},{key:"layerOrSourceGeometryType",get:function(){var I,F,E;return null!=(I=null==(F=this.layer)?void 0:F.geometryType)?I:null==(E=this.sourceJSON)?void 0:E.geometryType}}]);return M}(n.LoadableMixin(q.EsriPromiseMixin(t.HandleOwnerMixin(l))));c.__decorate([v.shared({Type:d,ensureType:h.ensureType(d)})],a.MemorySource.prototype,"itemType",void 0);c.__decorate([p.property()],a.MemorySource.prototype,"type",void 0);c.__decorate([p.property({constructOnly:!0})],a.MemorySource.prototype,
"layer",void 0);c.__decorate([p.property({readOnly:!0})],a.MemorySource.prototype,"workerGeometryType",null);c.__decorate([p.property()],a.MemorySource.prototype,"sourceJSON",void 0);a.MemorySource=c.__decorate([x.subclass("esri.layers.graphics.sources.MemorySource")],a.MemorySource);a.default=a.MemorySource;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/workers":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../Error ../has ../promiseUtils ./Connection ./RemoteClient ./WorkerOwner".split(" "),
function(a,b,c,f,d,l,u,t,g){function n(w){if(w&&w.__esModule)return w;const y=Object.create(null);if(w)for(const z in w)if("default"!==z){const C=Object.getOwnPropertyDescriptor(w,z);Object.defineProperty(y,z,C.get?C:{enumerable:!0,get:()=>w[z]})}y.default=w;return Object.freeze(y)}function m(w,y){return r.apply(this,arguments)}function r(){r=c._asyncToGenerator(function*(w,y){const z=new u;yield z.open(w,y);return z});return r.apply(this,arguments)}function q(){q=c._asyncToGenerator(function*(w,
y={}){if("string"!==typeof w)throw new f("workers:undefined-module","modulePath is missing");var z=y.strategy||"distributed";d("host-webworker")&&!d("esri-workers")&&(z="local");if("local"===z){var C=yield t.loadWorker(w);C||(C=yield new Promise((B,D)=>a([w],G=>B(n(G)),D)));l.throwIfAborted(y.signal);z=y.client||C;C=t.connect(C);return m([C],{...y,client:z})}yield k();l.throwIfAborted(y.signal);if("dedicated"===z)return z=h++%e,z=yield v[z].open(w,y),m([z],y);if(y.maxNumWorkers&&0<y.maxNumWorkers&&
(z=Math.min(y.maxNumWorkers,e),z<e)){C=Array(z);for(let B=0;B<z;++B){const D=h++%e;C[B]=v[D].open(w,y)}return m(C,y)}z=v.map(B=>B.open(w,y));return m(z,y)});return q.apply(this,arguments)}function k(){return p.apply(this,arguments)}function p(){p=c._asyncToGenerator(function*(){if(x)return x;A=new AbortController;const w=[];for(let y=0;y<e;y++){const z=g.create(y).then(C=>v[y]=C);w.push(z)}return x=Promise.all(w)});return p.apply(this,arguments)}let e=d("esri-workers-debug")?1:d("host-browser")?navigator.hardwareConcurrency-
1:0;e||(e=d("safari")&&d("mac")||d("trident")?7:2);let h=0;const v=[];let x=null,A;b.Connection=u;b.RemoteClient=t;b.initialize=function(){k()};b.open=function(w){return q.apply(this,arguments)};b.openWithPorts=function(w,y){return m(w,{client:y})};b.terminate=function(){x&&(A.abort(),x=null);for(let w=0;w<v.length;w++)v[w]&&v[w].terminate();v.length=0};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/core/workers/Connection":function(){define(["../../chunks/_rollupPluginBabelHelpers","../handleUtils",
"../Logger","../promiseUtils","./RemoteClient"],function(a,b,c,f,d){const l=c.getLogger("esri.core.workers.Connection");return function(){function u(){this._clients=[];this._clientPromises=[];this._clientIdx=0}var t=u.prototype;t.destroy=function(){this.close()};t.open=function(g,n){return new Promise((m,r)=>{let q=!0;const k=p=>{f.throwIfAborted(n.signal);q&&(q=!1,p())};this._clients.length=g.length;this._clientPromises.length=g.length;for(let p=0;p<g.length;++p){const e=g[p];f.isPromiseLike(e)?
this._clientPromises[p]=e.then(h=>{this._clients[p]=new d(h,n);k(m);return this._clients[p]},()=>{k(r);return null}):(this._clients[p]=new d(e,n),this._clientPromises[p]=Promise.resolve(this._clients[p]),k(m))}})};t.broadcast=function(g,n,m){const r=Array(this._clientPromises.length);for(let q=0;q<this._clientPromises.length;++q)r[q]=this._clientPromises[q].then(k=>k.invoke(g,n,m));return r};t.close=function(){for(const g of this._clientPromises)g.then(n=>n.close());this._clients.length=0;this._clientPromises.length=
0};t.getAvailableClient=function(){let g;for(let n=0;n<this._clients.length;++n){const m=this._clients[n];if(!m)g=g||[],g.push(this._clientPromises[n]);else if(!m.isBusy())return Promise.resolve(m)}return g?Promise.race(g):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))};t.invoke=function(g,n,m){let r=null;Array.isArray(m)?(l.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),r={transferList:m}):r=
m;return this.closed?Promise.reject(Error("Connection closed")):this.getAvailableClient().then(q=>q.invoke(g,n,r))};t.on=function(g,n){return Promise.all(this._clientPromises).then(()=>b.handlesGroup(this._clients.map(m=>m.on(g,n))))};t.openPorts=function(){return new Promise(g=>{const n=Array(this._clientPromises.length);let m=n.length;for(let r=0;r<this._clientPromises.length;++r)this._clientPromises[r].then(q=>{n[r]=q.openPort();0===--m&&g(n)})})};a._createClass(u,[{key:"closed",get:function(){return!this._clients||
!this._clients.length}},{key:"test",get:function(){return{numClients:this._clients.length}}}]);return u}()})},"esri/core/workers/RemoteClient":function(){define("require ../../kernel ../Error ../events ../maybe ../promiseUtils ./utils ../../support/revision".split(" "),function(a,b,c,f,d,l,u,t){const g=x=>Object.freeze({__proto__:null,default:x}),n={statsWorker:()=>new Promise((x,A)=>a(["../../smartMapping/statistics/support/statsWorker"],x,A)),geometryEngineWorker:()=>new Promise((x,A)=>a(["../../geometry/geometryEngineWorker"],
x,A)),CSVSourceWorker:()=>new Promise((x,A)=>a(["../../layers/graphics/sources/support/CSVSourceWorker"],x,A)),EdgeProcessingWorker:()=>new Promise((x,A)=>a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],x,A)),ElevationSamplerWorker:()=>new Promise((x,A)=>a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],w=>x(g(w)),A)),FeatureServiceSnappingSourceWorker:()=>new Promise((x,A)=>a(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],
x,A)),GeoJSONSourceWorker:()=>new Promise((x,A)=>a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],w=>x(g(w)),A)),LercWorker:()=>new Promise((x,A)=>a(["../../layers/support/LercWorker"],w=>x(g(w)),A)),MemorySourceWorker:()=>new Promise((x,A)=>a(["../../layers/graphics/sources/support/MemorySourceWorker"],w=>x(g(w)),A)),PBFDecoderWorker:()=>new Promise((x,A)=>a(["../../views/3d/support/PBFDecoderWorker"],w=>x(g(w)),A)),Pipeline:()=>new Promise((x,A)=>a(["../../views/2d/layers/features/Pipeline"],
x,A)),PointCloudWorker:()=>new Promise((x,A)=>a(["../../views/3d/layers/PointCloudWorker"],w=>x(g(w)),A)),RasterWorker:()=>new Promise((x,A)=>a(["../../layers/support/RasterWorker"],w=>x(g(w)),A)),SceneLayerWorker:()=>new Promise((x,A)=>a(["../../views/3d/layers/SceneLayerWorker"],x,A)),WFSSourceWorker:()=>new Promise((x,A)=>a(["../../layers/graphics/sources/WFSSourceWorker"],w=>x(g(w)),A)),WorkerTileHandler:()=>new Promise((x,A)=>a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],w=>x(g(w)),
A))},{CLOSE:m,ABORT:r,INVOKE:q,RESPONSE:k,OPEN_PORT:p,ON:e}=u.MessageType;let h=function(){function x(w){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=w;this._timer=null;this._process=this._process.bind(this)}var A=x.prototype;A.push=function(w){w.type===u.MessageType.ABORT?this._cancelledJobIds.add(w.jobId):(this._invokeMessages.push(w),null===this._timer&&(this._timer=setTimeout(this._process,0)))};A.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();
this._timer=null};A._process=function(){this._timer=null;for(const w of this._invokeMessages)this._cancelledJobIds.has(w.jobId)||this._invoke(w);this._cancelledJobIds.clear();this._invokeMessages.length=0};return x}(),v=function(){function x(w,y){this._port=w;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new h(z=>this._onInvokeMessage(z));this._client=y.client;this._onMessage=this._onMessage.bind(this);this._channel=y.channel;this._schedule=y.schedule;this._port.addEventListener("message",
this._onMessage);this._port.start()}x.connect=function(w){const y=new MessageChannel;w="function"===typeof w?new w:"default"in w&&"function"===typeof w.default?new w.default:w;const z=new x(y.port1,{channel:y,client:w});"object"===typeof w&&"remoteClient"in w&&(w.remoteClient=z);x.clients.set(z,w);return y.port2};x.loadWorker=function(w){return(w=n[w])?w():Promise.resolve(null)};var A=x.prototype;A.close=function(){this._post({type:m});this._close()};A.isBusy=function(){return 0<this._outJobs.size};
A.invoke=function(w,y,z){const C=z&&z.signal,B=z&&z.transferList;if(!this._port)return Promise.reject(new c("worker:port-closed",`Cannot call invoke('${w}'), port is closed`,{methodName:w,data:y}));const D=u.newJobId();return new Promise((G,K)=>{const M=l.onAbortOrThrow(C,()=>{var N;const I=this._outJobs.get(D);I&&(this._outJobs.delete(D),null==(N=I.abortHandle)?void 0:N.remove(),this._post({type:r,jobId:D}),K(l.createAbortError()))});this._outJobs.set(D,{resolve:G,reject:K,abortHandle:M,debugInfo:w});
this._post({type:q,jobId:D,methodName:w,abortable:null!=C},y,B)})};A.on=function(w,y){function z(B){y(B.data)}const C=new MessageChannel;this._port.postMessage({type:u.MessageType.ON,eventType:w,port:C.port2},[C.port2]);C.port1.addEventListener("message",z);C.port1.start();return{remove(){C.port1.postMessage({type:u.MessageType.CLOSE});C.port1.close();C.port1.removeEventListener("message",z)}}};A.openPort=function(){const w=new MessageChannel;this._post({type:p,port:w.port2});return w.port1};A._close=
function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(w=>{var y;null==(y=w.abortHandle)?void 0:y.remove();w.reject(l.createAbortError(`Worker closing, aborting job calling '${w.debugInfo}'`))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._port=this._client=this._schedule=null};A._onMessage=function(w){d.isSome(this._schedule)?this._schedule(()=>this._processMessage(w)):this._processMessage(w)};
A._processMessage=function(w){if(w=u.receiveMessage(w))switch(w.type){case k:this._onResponseMessage(w);break;case q:this._invokeQueue.push(w);break;case r:this._onAbortMessage(w);break;case m:this._onCloseMessage();break;case p:this._onOpenPortMessage(w);break;case e:this._onOnMessage(w)}};A._onAbortMessage=function(w){const y=this._inJobs,z=w.jobId,C=y.get(z);this._invokeQueue.push(w);C&&(C.controller&&C.controller.abort(),y.delete(z))};A._onCloseMessage=function(){const w=this._client;this._close();
w&&"destroy"in w&&x.clients.get(this)===w&&w.destroy();x.clients.delete(this);w&&w.remoteClient&&(w.remoteClient=null)};A._onInvokeMessage=function(w){const {methodName:y,jobId:z,data:C,abortable:B}=w;w=B?new AbortController:null;const D=this._inJobs;let G=this._client,K=G[y],M;try{if(!K&&y&&-1!==y.indexOf(".")){const N=y.split(".");for(let I=0;I<N.length-1;I++)G=G[N[I]],K=G[N[I+1]]}if("function"!==typeof K)throw new TypeError(`${y} is not a function`);M=K.call(G,C,{client:this,signal:w?w.signal:
null})}catch(N){this._post({type:k,jobId:z,error:u.toInvokeError(N)});return}l.isPromiseLike(M)?(D.set(z,{controller:w,promise:M}),M.then(N=>{D.has(z)&&(D.delete(z),this._post({type:k,jobId:z},N))},N=>{D.has(z)&&(D.delete(z),l.isAbortError(N)||this._post({type:k,jobId:z,error:u.toInvokeError(N||{message:`Error encountered at method ${y}`})}))})):this._post({type:k,jobId:z},M)};A._onOpenPortMessage=function(w){new x(w.port,{client:this._client})};A._onOnMessage=function(w){const {port:y}=w,z=this._client.on(w.eventType,
B=>{y.postMessage(B)}),C=f.on(w.port,"message",B=>{u.receiveMessage(B).type===u.MessageType.CLOSE&&(C.remove(),z.remove(),y.close())})};A._onResponseMessage=function(w){var y;const {jobId:z,error:C,data:B}=w;w=this._outJobs;if(w.has(z)){var D=w.get(z);w.delete(z);null==(y=D.abortHandle)?void 0:y.remove();C?D.reject(c.fromJSON(JSON.parse(C))):D.resolve(B)}};A._post=function(w,y,z){return u.postMessage(this._port,w,y,z)};return x}();v.kernelInfo={revision:t.commitHash,version:b.version,buildDate:t.buildDate};
v.clients=new Map;return v})},"esri/core/workers/utils":function(){define(["exports","../has"],function(a,b){function c(l){return l&&"object"===typeof l&&("result"in l||"transferList"in l)}function f(l){if(!l||!l.length)return null;if(b("esri-workers-arraybuffer-transfer"))return l;l=l.filter(u=>!(u instanceof ArrayBuffer||u&&u.constructor&&"ArrayBuffer"===u.constructor.name));return l.length?l:null}a.MessageType=void 0;(function(l){l[l.HANDSHAKE=0]="HANDSHAKE";l[l.OPEN=1]="OPEN";l[l.OPENED=2]="OPENED";
l[l.RESPONSE=3]="RESPONSE";l[l.INVOKE=4]="INVOKE";l[l.ABORT=5]="ABORT";l[l.CLOSE=6]="CLOSE";l[l.OPEN_PORT=7]="OPEN_PORT";l[l.ON=8]="ON"})(a.MessageType||(a.MessageType={}));let d=0;a.isTranferableResult=c;a.newJobId=function(){return d++};a.postMessage=function(l,u,t,g){u.type===a.MessageType.OPEN_PORT?l.postMessage(u,[u.port]):u.type!==a.MessageType.INVOKE&&u.type!==a.MessageType.RESPONSE?l.postMessage(u):(c(t)?(g=f(t.transferList),u.data=t.result):(g=f(g),u.data=t),g?l.postMessage(u,g):l.postMessage(u))};
a.receiveMessage=function(l){return l?(l=l.data)?"string"===typeof l?JSON.parse(l):l:null:null};a.toInvokeError=function(l){return l?"string"===typeof l?JSON.stringify({name:"message",message:l}):l.toJSON?JSON.stringify(l):JSON.stringify({name:l.name,message:l.message,details:l.details||{stack:l.stack}}):null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/WorkerOwner":function(){define("../../chunks/_rollupPluginBabelHelpers ../../kernel ../Error ../Logger ../promiseUtils ./utils ./workerFactory".split(" "),
function(a,b,c,f,d,l,u){const t=f.getLogger("esri.core.workers"),{ABORT:g,INVOKE:n,OPEN:m,OPENED:r,RESPONSE:q}=l.MessageType;return function(){function k(e,h){this._outJobs=new Map;this._inJobs=new Map;this.worker=e;this.id=h;e.addEventListener("message",this._onMessage.bind(this));e.addEventListener("error",v=>{v.preventDefault();t.error(v)})}k.create=function(){var e=a._asyncToGenerator(function*(h){const v=yield u.createWorker();return new k(v,h)});return function(h){return e.apply(this,arguments)}}();
var p=k.prototype;p.terminate=function(){this.worker.terminate()};p.open=function(){var e=a._asyncToGenerator(function*(h,v={}){const {signal:x}=v,A=l.newJobId();return new Promise((w,y)=>{const z=d.onAbortOrThrow(x,()=>{this._outJobs.delete(A);this._post({type:g,jobId:A})});this._outJobs.set(A,{resolve:w,reject:y,abortHandle:z});this._post({type:m,jobId:A,modulePath:h})})});return function(h){return e.apply(this,arguments)}}();p._onMessage=function(e){if(e=l.receiveMessage(e))switch(e.type){case r:this._onOpenedMessage(e);
break;case q:this._onResponseMessage(e);break;case g:this._onAbortMessage(e);break;case n:this._onInvokeMessage(e)}};p._onAbortMessage=function(e){const h=this._inJobs;e=e.jobId;const v=h.get(e);v&&(v.controller&&v.controller.abort(),h.delete(e))};p._onInvokeMessage=function(e){const {methodName:h,jobId:v,data:x,abortable:A}=e;e=A?new AbortController:null;const w=this._inJobs,y=b.workerMessages[h];let z;try{if("function"!==typeof y)throw new TypeError(`${h} is not a function`);z=y.call(null,x,{signal:e?
e.signal:null})}catch(C){this._post({type:q,jobId:v,error:l.toInvokeError(C)});return}d.isPromiseLike(z)?(w.set(v,{controller:e,promise:z}),z.then(C=>{w.has(v)&&(w.delete(v),this._post({type:q,jobId:v},C))},C=>{w.has(v)&&(w.delete(v),C||(C={message:"Error encountered at method"+h}),d.isAbortError(C)||this._post({type:q,jobId:v,error:l.toInvokeError(C||{message:`Error encountered at method ${h}`})}))})):this._post({type:q,jobId:v},z)};p._onOpenedMessage=function(e){var h;const {jobId:v,data:x}=e;if(e=
this._outJobs.get(v))this._outJobs.delete(v),null==(h=e.abortHandle)?void 0:h.remove(),e.resolve(x)};p._onResponseMessage=function(e){var h;const {jobId:v,error:x,data:A}=e;if(e=this._outJobs.get(v))this._outJobs.delete(v),null==(h=e.abortHandle)?void 0:h.remove(),x?e.reject(c.fromJSON(JSON.parse(x))):e.resolve(A)};p._post=function(e,h,v){return l.postMessage(this.worker,e,h,v)};return k}()})},"esri/core/workers/workerFactory":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../assets ../../config ../../intl ../../kernel ../has ../Logger ../urlUtils ./loaderConfig ./utils ./WorkerFallback ../../intl/locale ../../support/revision".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k){function p(){p=b._asyncToGenerator(function*(){if(!u("esri-workers")||(u("mozilla"),0))return e(new r);if(!w&&!y)try{const B='let globalId\x3d0;const outgoing\x3dnew Map,configuration\x3dJSON.parse("{CONFIGURATION}");self.esriConfig\x3dconfiguration.esriConfig;const workerPath\x3dself.esriConfig.workers.workerPath,HANDSHAKE\x3d0,OPEN\x3d1,OPENED\x3d2,RESPONSE\x3d3,INVOKE\x3d4,ABORT\x3d5;function createAbortError(){const e\x3dnew Error("Aborted");return e.name\x3d"AbortError",e}function receiveMessage(e){return e\x26\x26e.data?"string"\x3d\x3dtypeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t\x3dr\x26\x26r.signal,n\x3dglobalId++;return new Promise(((r,i)\x3d\x3e{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()\x3d\x3e{outgoing.get(n)\x26\x26(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!\x3dt,data:o})}))}let workerRevisionChecked\x3d!1;function checkWorkerRevision(e){if(!workerRevisionChecked\x26\x26e.kernelInfo){workerRevisionChecked\x3d!0;const{revision:o,buildDate:r,version:t}\x3dconfiguration.kernelInfo,{revision:n,buildDate:i,version:s}\x3de.kernelInfo;o!\x3d\x3dn\x26\x26console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o\x3dreceiveMessage(e);if(!o)return;const r\x3do.jobId;switch(o.type){case 1:let e;function t(o){const t\x3de.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"\x3d\x3dtypeof define\x26\x26define.amd?require([workerPath],(r\x3d\x3e{e\x3dr.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e\x3d\x3ee||new Promise((e\x3d\x3e{require([o.modulePath],e)})))).then(t)})):"System"in self\x26\x26"function"\x3d\x3dtypeof System.import?System.import(workerPath).then((r\x3d\x3e(e\x3dr.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e\x3d\x3ee||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r\x3d\x3e{e\x3dr.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e\x3d\x3ee||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e\x3dself.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e\x3doutgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig\x3dconfiguration.loaderConfig,esriConfig.workers.loaderUrl\x26\x26(self.importScripts(esriConfig.workers.loaderUrl),"function"\x3d\x3dtypeof require\x26\x26"function"\x3d\x3dtypeof require.config\x26\x26require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'.replace('"{CONFIGURATION}"',
`'${v()}'`);w=URL.createObjectURL(new Blob([B],{type:"text/javascript"}))}catch(B){y=B||{}}let C;if(w)try{C=new Worker(w,{name:`esri-worker-${z++}`})}catch(B){x.warn("Failed to create Worker. Fallback to execute module in main thread",y),C=new r}else x.warn("Failed to create Worker. Fallback to execute module in main thread",y),C=new r;return e(C)});return p.apply(this,arguments)}function e(C){return h.apply(this,arguments)}function h(){h=b._asyncToGenerator(function*(C){return new Promise(B=>{function D(K){(K=
m.receiveMessage(K))&&K.type===A&&(C.removeEventListener("message",D),C.removeEventListener("error",G),B(C))}function G(K){K.preventDefault();C.removeEventListener("message",D);C.removeEventListener("error",G);x.warn("Failed to create Worker. Fallback to execute module in main thread",K);C=new r;C.addEventListener("message",D);C.addEventListener("error",G)}C.addEventListener("message",D);C.addEventListener("error",G)})});return h.apply(this,arguments)}function v(){if(null!=f["default"]){var C={...f};
delete C["default"];C=JSON.parse(JSON.stringify(C))}else C=JSON.parse(JSON.stringify(f));C.assetsPath=g.makeAbsolute(C.assetsPath);C.request.interceptors=[];C.log.interceptors=[];C.locale=q.getLocale();C.has={"esri-csp-restrictions":u("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":u("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":u("esri-2d-query-centroid-enabled"),"featurelayer-pbf":u("featurelayer-pbf"),"featurelayer-simplify-thresholds":u("featurelayer-simplify-thresholds"),
"featurelayer-simplify-payload-size-factors":u("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":u("featurelayer-simplify-mobile-factor"),"esri-atomics":u("esri-atomics"),"esri-shared-array-buffer":u("esri-shared-array-buffer"),"esri-tiles-debug":u("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":u("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":u("feature-polyline-generalization-factor"),"host-webworker":1};C.workers.loaderUrl?
C.workers.loaderUrl=g.makeAbsolute(C.workers.loaderUrl):n.DEFAULT_LOADER_URL&&(C.workers.loaderUrl=n.DEFAULT_LOADER_URL);C.workers.workerPath=C.workers.workerPath?g.makeAbsolute(C.workers.workerPath):"esri/core/workers/RemoteClient";C.workers.useDynamicImport=!1;var B=f.workers.loaderConfig;B=n.loaderConfig({baseUrl:null==B?void 0:B.baseUrl,locale:q.getLocale(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...null==B?void 0:B.has},map:{...null==B?void 0:B.map},paths:{...null==B?
void 0:B.paths},packages:(null==B?void 0:B.packages)||[]});return JSON.stringify({esriConfig:C,loaderConfig:B,kernelInfo:{version:l.version,buildDate:k.buildDate,revision:k.commitHash}})}const x=t.getLogger("esri.core.workers"),{HANDSHAKE:A}=m.MessageType;let w,y,z=0;a.createWorker=function(){return p.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl":function(){define("exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages ./intl/t9n ./assets".split(" "),
function(a,b,c,f,d,l,u,t){l.registerMessageBundleLoader(u.createJSONLoader({pattern:"esri/",location:t.getAssetUrl}));a.convertDateFormatToIntlOptions=b.convertDateFormatToIntlOptions;a.formatDate=b.formatDate;a.convertNumberFormatToIntlOptions=c.convertNumberFormatToIntlOptions;a.formatNumber=c.formatNumber;a.substitute=f.substitute;a.getLocale=d.getLocale;a.onLocaleChange=d.onLocaleChange;a.prefersRTL=d.prefersRTL;a.setLocale=d.setLocale;a.fetchMessageBundle=l.fetchMessageBundle;a.normalizeMessageBundleLocale=
l.normalizeMessageBundleLocale;a.registerMessageBundleLoader=l.registerMessageBundleLoader;a.createJSONLoader=u.createJSONLoader;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/substitute":function(){define("exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),function(a,b,c,f,d,l){function u(g){switch(typeof g){case "string":return g;case "number":return l.formatNumber(g);case "boolean":return""+g;default:return g instanceof Date?d.formatDate(g):""}}const t=
b.getLogger("esri.intl");a.substitute=function(g,n,m={}){const {format:r={}}=m;return f.replace(g,q=>{{const e=q.indexOf(":");if(-1===e)var k=q.trim();else{k=q.slice(0,e).trim();var p=q.slice(e+1).trim()}if(k)if(q=c.getDeepValue(k,n),null==q)p="";else if(k=r[p]||r[k])b:switch(k.type){case "date":p=d.formatDate(q,k.intlOptions);break b;case "number":p=l.formatNumber(q,k.intlOptions);break b;default:t.warn("missing format descriptor for key {key}"),p=u(q)}else if(p)b:switch(p.toLowerCase()){case "dateformat":p=
d.formatDate(q);break b;case "numberformat":p=l.formatNumber(q);break b;default:t.warn(`inline format is unsupported since 4.12: ${p}`),p=/^(dateformat|datestring)/i.test(p)?d.formatDate(q):/^numberformat/i.test(p)?l.formatNumber(q):u(q)}else p=u(q);else p=""}return p})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/t9n":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../request ../core/Error ../core/maybe ./messages".split(" "),function(a,b,c,f,d,l){function u(q,k,
p,e){return t.apply(this,arguments)}function t(){t=b._asyncToGenerator(function*(q,k,p,e){var h=k.exec(p);if(!h)throw new f("esri-intl:invalid-bundle",`Bundle id "${p}" is not compatible with the pattern "${k}"`);k=h[1]?`${h[1]}/`:"";h=h[2];const v=l.normalizeMessageBundleLocale(e);e=`${k}${h}.json`;k=v?`${k}${h}_${v}.json`:e;let x;try{x=yield g(q(k))}catch(A){if(k===e)throw new f("intl:unknown-bundle",`Bundle "${p}" cannot be loaded`,{error:A});try{x=yield g(q(e))}catch(w){throw new f("intl:unknown-bundle",
`Bundle "${p}" cannot be loaded`,{error:w});}}return x});return t.apply(this,arguments)}function g(q){return n.apply(this,arguments)}function n(){n=b._asyncToGenerator(function*(q){if(d.isSome(r.fetchBundleAsset))return r.fetchBundleAsset(q);q=yield c(q,{responseType:"text"});return JSON.parse(q.data)});return n.apply(this,arguments)}let m=function(){function q({base:k="",pattern:p,location:e=new URL(window.location.href)}){let h;h="string"===typeof e?v=>(new URL(v,new URL(e,window.location.href))).href:
e instanceof URL?v=>(new URL(v,e)).href:e;this.pattern="string"===typeof p?new RegExp(`^${p}`):p;this.getAssetUrl=h;k=k?k.endsWith("/")?k:k+"/":"";this.matcher=new RegExp(`^${k}(?:(.*)/)?(.*)$`)}q.prototype.fetchMessageBundle=function(k,p){return u(this.getAssetUrl,this.matcher,k,p)};return q}();const r={};a.JSONLoader=m;a.createJSONLoader=function(q){return new m(q)};a.test=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/loaderConfig":function(){define(["exports","../../assets",
"../has","../urlUtils"],function(a,b,c,f){a.DEFAULT_LOADER_URL=null;a.DEFAULT_LOADER_URL=f.makeAbsolute(b.getAssetUrl("esri/core/workers/init.js"));var d=f.makeAbsolute(b.getAssetUrl("dojo/"));var l=[{name:"esri",location:"../esri"}];a.loaderConfig=function(u){const t={async:u.async,isDebug:u.isDebug,locale:u.locale,baseUrl:u.baseUrl,has:{...u.has},map:{...u.map},packages:u.packages&&u.packages.concat()||[],paths:{...u.paths}};u.hasOwnProperty("async")||(t.async=!0);u.hasOwnProperty("isDebug")||(t.isDebug=
!1);u.baseUrl||(t.baseUrl=d);null==l?void 0:l.forEach(g=>{a:{var n=t.packages;for(const m of n)if(m.name===g.name)break a;n.push(g)}});return t};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/WorkerFallback":function(){define(["require","../../chunks/_rollupPluginBabelHelpers","../nextTick","./RemoteClient","./utils"],function(a,b,c,f,d){function l(t){if(t&&t.__esModule)return t;const g=Object.create(null);if(t)for(const n in t)if("default"!==n){const m=Object.getOwnPropertyDescriptor(t,
n);Object.defineProperty(g,n,m.get?m:{enumerable:!0,get:()=>t[n]})}g.default=t;return Object.freeze(g)}let u=function(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(g=>{this[g]=(...n)=>t[g](...n)})};return function(){function t(){this._dispatcher=new u;this._workerPostMessage({type:d.MessageType.HANDSHAKE})}var g=t.prototype;g.terminate=function(){};g.postMessage=function(n){c.nextTick(()=>{this._workerMessageHandler(new MessageEvent("message",
{data:n}))})};g.dispatchEvent=function(n){return this._dispatcher.dispatchEvent(n)};g.addEventListener=function(n,m,r){this._dispatcher.addEventListener(n,m,r)};g.removeEventListener=function(n,m,r){this._dispatcher.removeEventListener(n,m,r)};g._workerPostMessage=function(n){c.nextTick(()=>{this.dispatchEvent(new MessageEvent("message",{data:n}))})};g._workerMessageHandler=function(){var n=b._asyncToGenerator(function*(m){if((m=d.receiveMessage(m))&&m.type===d.MessageType.OPEN){const {modulePath:r,
jobId:q}=m;(m=yield f.loadWorker(r))||(m=yield new Promise((k,p)=>a([r],e=>k(l(e)),p)));m=f.connect(m);this._workerPostMessage({type:d.MessageType.OPENED,jobId:q,data:m})}});return function(m){return n.apply(this,arguments)}}();b._createClass(t,[{key:"onmessage",get:function(){return this._onmessageHandler},set:function(n){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=n)&&this.addEventListener("message",n)}},{key:"onmessageerror",get:function(){return this._onmessageerrorHandler},
set:function(n){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler);(this._onmessageerrorHandler=n)&&this.addEventListener("messageerror",n)}},{key:"onerror",get:function(){return this._onerrorHandler},set:function(n){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=n)&&this.addEventListener("error",n)}}]);return t}()})},"esri/rest/query/operations/editsZScale":function(){define(["exports","../../../core/maybe",
"../../../core/unitUtils","../../../geometry/support/spatialReferenceUtils"],function(a,b,c,f){function d(u,t,g){if(null==u.hasM||u.hasZ)for(const n of t)for(const m of n)2<m.length&&(m[2]*=g)}function l(u,t,g){if(u)for(const r of u){u=r.geometry;var n=t,m=g;if(!b.isNone(u)&&u.spatialReference&&!f.equals(u.spatialReference,n)&&(n=c.getMetersPerVerticalUnitForSR(u.spatialReference)/m,1!==n))if("x"in u)null!=u.z&&(u.z*=n);else if("rings"in u)d(u,u.rings,n);else if("paths"in u)d(u,u.paths,n);else if("points"in
u&&(null==u.hasM||u.hasZ))for(const q of u.points)2<q.length&&(q[2]*=n)}}a.unapplyEditsZUnitScaling=function(u,t,g){if((u||t)&&g){var n=c.getMetersPerVerticalUnitForSR(g);l(u,g,n);l(t,g,n)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/queryZScale":function(){define(["exports","../../../core/maybe","../../../geometry/support/zscale"],function(a,b,c){a.applyFeatureSetZUnitScaling=function(f,d,l){if(l&&l.features&&l.hasZ&&(f=c.getGeometryZScaler(l.geometryType,d,f.outSpatialReference),
!b.isNone(f)))for(const u of l.features)f(u.geometry)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/zscale":function(){define(["exports","../../core/maybe","../../core/unitUtils","./spatialReferenceUtils"],function(a,b,c,f){a.getGeometryZScaler=function(d,l,u){if(b.isNone(l)||b.isNone(u)||u.vcsWkid||f.equals(l,u))return null;l=c.getMetersPerVerticalUnitForSR(l);u=c.getMetersPerVerticalUnitForSR(u);const t=l/u;if(1===t)return null;switch(d){case "point":case "esriGeometryPoint":return g=>
{g&&null!=g.z&&(g.z*=t)};case "polyline":case "esriGeometryPolyline":return g=>{if(g)for(const n of g.paths)for(const m of n)2<m.length&&(m[2]*=t)};case "polygon":case "esriGeometryPolygon":return g=>{if(g)for(const n of g.rings)for(const m of n)2<m.length&&(m[2]*=t)};case "multipoint":case "esriGeometryMultipoint":return g=>{if(g)for(const n of g.points)2<n.length&&(n[2]*=t)};case "extent":case "esriGeometryExtent":return g=>{g&&null!=g.zmin&&null!=g.zmax&&(g.zmin*=t,g.zmax*=t)};default:return null}};
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/support/FeatureSet":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e){var h;const v=new d.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});d=h=function(x){function A(y){y=x.call(this,y)||this;y.displayFieldName=null;y.exceededTransferLimit=!1;y.features=[];y.fields=null;y.geometryType=null;y.hasM=!1;y.hasZ=!1;y.queryGeometry=null;y.spatialReference=null;return y}a._inheritsLoose(A,x);var w=
A.prototype;w.readFeatures=function(y,z){z=k.fromJSON(z.spatialReference);const C=[];for(let K=0;K<y.length;K++){var B=y[K];const M=f.fromJSON(B);var D=B.geometry&&B.geometry.spatialReference;t.isSome(M.geometry)&&!D&&(M.geometry.spatialReference=z);B=B.aggregateGeometries;D=M.aggregateGeometries;if(B&&t.isSome(D))for(const N in D){const I=D[N];var G=B[N];G=null==G?void 0:G.spatialReference;t.isSome(I)&&!G&&(I.spatialReference=z)}C.push(M)}return C};w.writeGeometryType=function(y,z,C,B){if(y)v.write(y,
z,C,B);else if({features:y}=this,y)for(const D of y)if(D&&t.isSome(D.geometry)){v.write(D.geometry.type,z,C,B);break}};w.readQueryGeometry=function(y,z){if(!y)return null;const C=!!y.spatialReference;y=p.fromJSON(y);!C&&z.spatialReference&&(y.spatialReference=k.fromJSON(z.spatialReference));return y};w.writeSpatialReference=function(y,z){if(y)z.spatialReference=y.toJSON();else if({features:y}=this,y)for(const C of y)if(C&&t.isSome(C.geometry)&&C.geometry.spatialReference){z.spatialReference=C.geometry.spatialReference.toJSON();
break}};w.clone=function(){return new h(this.cloneProperties())};w.cloneProperties=function(){return u.clone({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})};w.toJSON=function(y){const z=this.write();if(z.features&&Array.isArray(y)&&0<y.length)for(let C=0;C<
z.features.length;C++){const B=z.features[C];if(B.geometry){const D=y&&y[C];B.geometry=D&&D.toJSON()||B.geometry}}return z};w.quantize=function(y){const {scale:[z,C],translate:[B,D]}=y,G=this.features,K=this._getQuantizationFunction(this.geometryType,M=>Math.round((M-B)/z),M=>Math.round((D-M)/C));for(let M=0,N=G.length;M<N;M++)K(t.unwrap(G[M].geometry))||(G.splice(M,1),M--,N--);this.transform=y;return this};w.unquantize=function(){const {geometryType:y,features:z,transform:C}=this;if(!C)return this;
const {translate:[B,D],scale:[G,K]}=C,M=this._getHydrationFunction(y,N=>N*G+B,N=>D-N*K);for(const {geometry:N}of z)t.isSome(N)&&M(N);this.transform=null;return this};w._quantizePoints=function(y,z,C){let B,D;const G=[];for(let M=0,N=y.length;M<N;M++){var K=y[M];if(0<M){const I=z(K[0]);K=C(K[1]);if(I!==B||K!==D)G.push([I-B,K-D]),B=I,D=K}else B=z(K[0]),D=C(K[1]),G.push([B,D])}return 0<G.length?G:null};w._getQuantizationFunction=function(y,z,C){return"point"===y?B=>{B.x=z(B.x);B.y=C(B.y);return B}:"polyline"===
y||"polygon"===y?B=>{const D=p.isPolygon(B)?B.rings:B.paths,G=[];for(let K=0,M=D.length;K<M;K++){const N=this._quantizePoints(D[K],z,C);N&&G.push(N)}return 0<G.length?(p.isPolygon(B)?B.rings=G:B.paths=G,B):null}:"multipoint"===y?B=>{const D=this._quantizePoints(B.points,z,C);return 0<D.length?(B.points=D,B):null}:"extent"===y?B=>B:null};w._getHydrationFunction=function(y,z,C){if("point"===y)return B=>{B.x=z(B.x);B.y=C(B.y)};if("polyline"===y||"polygon"===y)return B=>{B=p.isPolygon(B)?B.rings:B.paths;
let D,G;for(let K=0,M=B.length;K<M;K++){const N=B[K];for(let I=0,F=N.length;I<F;I++){const E=N[I];0<I?(D+=E[0],G+=E[1]):(D=E[0],G=E[1]);E[0]=z(D);E[1]=C(G)}}};if("extent"===y)return B=>{B.xmin=z(B.xmin);B.ymin=C(B.ymin);B.xmax=z(B.xmax);B.ymax=C(B.ymax)};if("multipoint"===y)return B=>{B=B.points;let D,G;for(let K=0,M=B.length;K<M;K++){const N=B[K];0<K?(D+=N[0],G+=N[1]):(D=N[0],G=N[1]);N[0]=z(D);N[1]=C(G)}}};return A}(l.JSONSupport);b.__decorate([g.property({type:String,json:{write:!0}})],d.prototype,
"displayFieldName",void 0);b.__decorate([g.property({type:Boolean,json:{write:{overridePolicy(x){return{enabled:x}}}}})],d.prototype,"exceededTransferLimit",void 0);b.__decorate([g.property({type:[f],json:{write:!0}})],d.prototype,"features",void 0);b.__decorate([m.reader("features")],d.prototype,"readFeatures",null);b.__decorate([g.property({type:[e],json:{write:!0}})],d.prototype,"fields",void 0);b.__decorate([g.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:v.read}}})],
d.prototype,"geometryType",void 0);b.__decorate([q.writer("geometryType")],d.prototype,"writeGeometryType",null);b.__decorate([g.property({type:Boolean,json:{write:{overridePolicy(x){return{enabled:x}}}}})],d.prototype,"hasM",void 0);b.__decorate([g.property({type:Boolean,json:{write:{overridePolicy(x){return{enabled:x}}}}})],d.prototype,"hasZ",void 0);b.__decorate([g.property({types:c.geometryTypes,json:{write:!0}})],d.prototype,"queryGeometry",void 0);b.__decorate([m.reader("queryGeometry")],d.prototype,
"readQueryGeometry",null);b.__decorate([g.property({type:k,json:{write:!0}})],d.prototype,"spatialReference",void 0);b.__decorate([q.writer("spatialReference")],d.prototype,"writeSpatialReference",null);b.__decorate([g.property({json:{write:!0}})],d.prototype,"transform",void 0);d=h=b.__decorate([r.subclass("esri.rest.support.FeatureSet")],d);d.prototype.toJSON.isDefaultToJSON=!0;return d})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q){var k;const p=new c.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});c=k=function(e){function h(x){x=e.call(this,x)||this;
x.alias=null;x.defaultValue=void 0;x.description=null;x.domain=null;x.editable=!0;x.length=-1;x.name=null;x.nullable=!0;x.type=null;x.valueType=null;return x}a._inheritsLoose(h,e);var v=h.prototype;v.readDescription=function(x,{description:A}){let w;try{w=JSON.parse(A)}catch(y){}return w?w.value:null};v.readValueType=function(x,{description:A}){let w;try{w=JSON.parse(A)}catch(y){}return w?p.fromJSON(w.fieldValueType):null};v.clone=function(){return new k({alias:this.alias,defaultValue:this.defaultValue,
description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};return h}(f.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"alias",void 0);b.__decorate([d.property({type:[String,Number],json:{write:{allowNull:!0}}})],c.prototype,"defaultValue",void 0);b.__decorate([d.property()],c.prototype,"description",void 0);b.__decorate([n.reader("description")],
c.prototype,"readDescription",null);b.__decorate([d.property({types:r.types,json:{read:{reader:r.fromJSON},write:!0}})],c.prototype,"domain",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],c.prototype,"editable",void 0);b.__decorate([d.property({type:t.Integer,json:{write:!0}})],c.prototype,"length",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],c.prototype,"nullable",void 0);b.__decorate([g.enumeration(q.kebabDict)],
c.prototype,"type",void 0);b.__decorate([d.property()],c.prototype,"valueType",void 0);b.__decorate([n.reader("valueType",["description"])],c.prototype,"readValueType",null);return c=k=b.__decorate([m.subclass("esri.layers.support.Field")],c)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(a,b){b=new b.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",
esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});a.kebabDict=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/APIKeyMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){a.APIKeyMixin=g=>{g=function(n){function m(){return n.apply(this,arguments)||this}b._inheritsLoose(m,n);b._createClass(m,[{key:"apiKey",get:function(){var r;return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?null==(r=this.portalItem)?void 0:r.apiKey:null},set:function(r){null!=r?this._override("apiKey",r):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}}]);return m}(g);c.__decorate([f.property({type:String})],g.prototype,"apiKey",null);
return g=c.__decorate([t.subclass("esri.layers.mixins.APIKeyMixin")],g)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/ArcGISService":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/arcgisLayerUrl".split(" "),function(a,
b,c,f,d,l,u,t,g,n,m){a.ArcGISService=r=>{r=function(q){function k(){return q.apply(this,arguments)||this}b._inheritsLoose(k,q);b._createClass(k,[{key:"title",get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const p=m.parse(this.url);if(d.isSome(p)&&p.title)return p.title}return this._get("title")||""},set:function(p){this._set("title",p)}},{key:"url",set:function(p){this._set("url",m.sanitizeUrl(p,f.getLogger(this.declaredClass)))}}]);
return k}(r);c.__decorate([l.property()],r.prototype,"title",null);c.__decorate([l.property({type:String})],r.prototype,"url",null);return r=c.__decorate([n.subclass("esri.layers.mixins.ArcGISService")],r)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/arcgisLayerUrl":function(){define(["exports","../../core/maybe","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c,f){function d(q){q=c.urlToObject(q);q=q.path.match(n)||q.path.match(m);if(!q)return null;
const [,k,p,e,h]=q;q=p.indexOf("/");return{title:u(-1!==q?p.slice(q+1):p),serverType:t[e.toLowerCase()],sublayer:null!=h&&""!==h?parseInt(h,10):null,url:{path:k}}}function l(q){return(q=c.urlToObject(q).path.match(r))?{serviceUrl:q[1],sublayerId:Number(q[2])}:null}function u(q){q=q.replace(/\s*[/_]+\s*/g," ");return q[0].toUpperCase()+q.slice(1)}const t={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},
g=Object.values(t),n=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${g.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),m=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${g.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),r=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;a.cleanTitle=u;a.isAGOLUrl=function(q){return q?(new c.Url(c.makeAbsolute(q))).authority.toLowerCase().includes("arcgis.com"):!1};a.isArcGISUrl=function(q){return!!n.test(q)};a.isHostedAgolService=function(q){if(!q)return!1;
q=q.toLowerCase();const k=-1!==q.indexOf(".arcgis.com/");q=-1!==q.indexOf("//services")||-1!==q.indexOf("//tiles")||-1!==q.indexOf("//features");return k&&q};a.isHostedSecuredProxyService=function(q,k){return k&&q&&-1!==q.toLowerCase().indexOf(k.toLowerCase())};a.isServerOrServicesAGOLUrl=function(q){if(!q)return!1;q=(new c.Url(c.makeAbsolute(q))).authority.toLowerCase();return"server.arcgisonline.com"===q||"services.arcgisonline.com"===q};a.isWmsServer=function(q){if(!q)return!1;var k=q.toLowerCase();
q=-1!==k.indexOf("/services/");const p=-1!==k.indexOf("/mapserver/wmsserver"),e=-1!==k.indexOf("/imageserver/wmsserver");k=-1!==k.indexOf("/wmsserver");return q&&(p||e||k)};a.parse=d;a.parseNonStandardSublayerUrl=l;a.sanitizeUrl=function(q,k){return q?c.removeTrailingSlash(c.removeQueryParameters(q,k)):q};a.sanitizeUrlWithLayerId=function(q){let {url:k}=q;if(!k)return{url:k};k=c.removeQueryParameters(k,q.logger);const p=c.urlToObject(k),e=d(p.path);let h;b.isSome(e)?(null!=e.sublayer&&null==q.layer.layerId&&
(h=e.sublayer),k=e.url.path):q.nonStandardUrlAllowed&&(q=l(p.path),b.isSome(q)&&(k=q.serviceUrl,h=q.sublayerId));return{url:c.removeTrailingSlash(k),layerId:h}};a.serverTypes=g;a.titleFromUrlAndName=function(q,k){const p=[];q&&(q=d(q),b.isSome(q)&&q.title&&p.push(q.title));k&&(k=u(k),p.push(k));if(2===p.length){if(-1!==p[0].toLowerCase().indexOf(p[1].toLowerCase()))return p[0];if(-1!==p[1].toLowerCase().indexOf(p[0].toLowerCase()))return p[1]}return p.join(" - ")};a.writeUrlWithLayerId=function(q,
k,p,e,h){f.write(k,e,"url",h);e.url&&null!=q.layerId&&(e.url=c.join(e.url,p,q.layerId.toString()))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/BlendLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils".split(" "),function(a,b,c,f,d,l,u,t,g){a.BlendLayer=
n=>{n=function(m){function r(){var q=m.apply(this,arguments)||this;q.blendMode="normal";q.effect=null;return q}b._inheritsLoose(r,m);return r}(n);c.__decorate([f.property({type:"average color-burn color-dodge color darken destination-atop destination-in destination-out destination-over difference exclusion hard-light hue invert lighten lighter luminosity minus multiply normal overlay plus reflect saturation screen soft-light source-atop source-in source-out vivid-light xor".split(" "),nonNullable:!0,
json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0}}}})],n.prototype,"blendMode",void 0);c.__decorate([f.property({json:{read:!1,write:!1,origins:{"web-map":{read:{reader:g.read},write:{allowNull:!0,writer:g.write}}}}})],n.prototype,"effect",void 0);return n=c.__decorate([t.subclass("esri.layers.mixins.BlendLayer")],n)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/effects/jsonUtils":function(){define(["exports","../../core/Error","../../core/object","./parser","./utils"],
function(a,b,c,f,d){function l(n){return(n=f.parse(n))?d.isEffectFunctions(n)?n.map(m=>m.toJSON()):n.map(({scale:m,effects:r})=>({scale:m,value:r.map(q=>q.toJSON())})):null}function u(n){if(!n||0===n.length)return null;var m=(m=n[0])?"scale"in m:!1;if(m){m=[];for(const r of n)m.push({scale:r.scale,value:t(r.value)});return m}return t(n)}function t(n){if(!n||!n.length)return"";const m=[];for(const p of n){n=[];switch(p.type){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":case "opacity":n=
[g(p,"amount")];break;case "blur":n=[g(p,"radius","pt")];break;case "hue-rotate":n=[g(p,"angle","deg")];break;case "drop-shadow":n=g(p,"xoffset","pt");var r=g(p,"yoffset","pt"),q=g(p,"blurRadius","pt");var k=p;if(null==k.color)throw new b("effect:missing-parameter",`Missing parameter '${"color"}' in ${k.type} effect`,{effect:k});k=k.color;k=`rgba(${k[0]||0}, ${k[1]||0}, ${k[2]||0}, ${k[3]/255||0})`;n=[n,r,q,k];break;case "bloom":n=[g(p,"strength"),g(p,"radius","pt"),g(p,"threshold")]}n=`${p.type}(${n.filter(Boolean).join(" ")})`;
f.parse(n);m.push(n)}return m.join(" ")}function g(n,m,r){if(null==n[m])throw new b("effect:missing-parameter",`Missing parameter '${m}' in ${n.type} effect`,{effect:n});return r?n[m]+r:""+n[m]}a.effectFunctionsFromJSON=t;a.fromJSON=u;a.read=function(n,m,r){try{return u(n)}catch(k){var q;null==r?void 0:null==(q=r.messages)?void 0:q.push(k)}return null};a.toJSON=l;a.write=function(n,m,r,q){try{const k=l(n);c.setDeepValue(r,k,m)}catch(k){q.messages&&q.messages.push(k)}};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/layers/effects/parser":function(){define("exports ../../colorUtils ../../core/Error ./effects ../../chunks/_commonjsHelpers ./utils".split(" "),function(a,b,c,f,d,l){function u(w){let y;if(!w)return[];try{y=e.exports.parse(w)}catch(z){throw new c("effect:invalid-syntax","Invalid effect syntax",{value:w,error:z});}return y.map(z=>t(z))}function t(w){try{switch(w.name){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":var y,z=1;g(w.parameters,
1);1===w.parameters.length&&(z=r(w.parameters[0]));return y=new f.ColorMatrixEffect(w.name,z);case "opacity":var C;z=1;g(w.parameters,1);1===w.parameters.length&&(z=r(w.parameters[0]));return C=new f.OpacityEffect(z);case "hue-rotate":var B;z=0;g(w.parameters,1);if(1===w.parameters.length){var D=w.parameters[0];if("quantity"!==D.type||!(0===D.value&&null===D.unit||D.unit&&null!=h[D.unit]))throw new c("effect:type-error",`Expected <angle>, Actual: ${n(D)}`,{term:D});z=D.value*h[D.unit]||0}return B=
new f.HueRotateEffect(z);case "blur":var G;z=0;g(w.parameters,1);1===w.parameters.length&&(z=k(w.parameters[0]),m(z,w.parameters[0]));return G=new f.BlurEffect(z);case "drop-shadow":C=[];B=null;for(var K of w.parameters)if("color"===K.type){C.length&&Object.freeze(C);if(B)throw new c("effect:type-error","Accepts only one color",{});a:{var M=void 0;y=K;switch(y.colorType){case "hex":B=b.hex2rgba(y.value);break a;case "named":B=p(y.value);break a;case "function":var N=y.value;g(N.parameters,4);if(x.test(N.name))M=
[r(N.parameters[0]),r(N.parameters[1]),r(N.parameters[2]),N.parameters[3]?r(N.parameters[3]):1];else if(A.test(N.name))M=b.hsla2rgba(q(N.parameters[0]),r(N.parameters[1]),r(N.parameters[2]),N.parameters[3]?r(N.parameters[3]):1);else throw new c("effect:syntax-error",`Invalid color function '${N.name}'`,{colorFunction:N});B=M;break a}B=void 0}}else{const I=k(K);if(Object.isFrozen(C))throw new c("effect:type-error","\x3clength\x3e parameters not consecutive",{lengths:C});C.push(I);3===C.length&&m(I,
K)}if(2>C.length||3<C.length)throw new c("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${C.length}}`,{lengths:C});return z=new f.DropShadowEffect(C[0],C[1],C[2]||0,B||p("black"));case "bloom":return z=1,K=N=0,g(w.parameters,3),w.parameters[0]&&(z=r(w.parameters[0])),w.parameters[1]&&(N=k(w.parameters[1]),m(N,w.parameters[1])),w.parameters[2]&&(K=r(w.parameters[2])),M=new f.BloomEffect(z,N,K)}}catch(I){throw I.details.filter=w,I;}throw new c("effect:unknown-effect",`Effect '${w.name}' is not supported`,
{effect:w});}function g(w,y){if(w.length>y)throw new c("effect:type-error",`Function supports up to ${y} parameters, Actual: ${w.length}`,{parameters:w});}function n(w){if("color"===w.type)return"\x3ccolor\x3e";if(w.unit){if(v[w.unit])return"\x3clength\x3e";if(h[w.unit])return"\x3cangle\x3e";if("%"===w.unit)return"\x3cpercentage\x3e"}return"\x3cdouble\x3e"}function m(w,y){if(0>w)throw new c("effect:type-error",`Negative values are not allowed, Actual: ${w}`,{term:y});}function r(w){if("quantity"!==
w.type||null!==w.unit&&"%"!==w.unit)throw new c("effect:type-error",`Expected <double> or <percentage>, Actual: ${n(w)}`,{term:w});const y=w.value;m(y,w);return"%"===w.unit?.01*y:y}function q(w){if("quantity"!==w.type||null!==w.unit)throw new c("effect:type-error",`Expected <double>, Actual: ${n(w)}`,{term:w});m(w.value,w);return w.value}function k(w){if("quantity"!==w.type||!(0===w.value&&null===w.unit||w.unit&&null!=v[w.unit]))throw new c("effect:type-error",`Expected <length>, Actual: ${n(w)}`,
{term:w});return w.value*v[w.unit]||0}function p(w){if(!b.isNamedColor(w))throw new c("effect:unknown-color",`color '${w}' isn't valid`,{namedColor:w});return b.getNamedColorCopy(w)}var e={exports:{}};(function(w){(function(y,z){w.exports&&(w.exports=z())})(d.commonjsGlobal,function(){function y(C,B,D,G){C=Error.call(this,C);Object.setPrototypeOf&&Object.setPrototypeOf(C,y.prototype);C.expected=B;C.found=D;C.location=G;C.name="SyntaxError";return C}function z(C,B,D){D=D||" ";if(C.length>B)return C;
B-=C.length;D+=D.repeat(B);return C+D.slice(0,B)}(function(C,B){function D(){this.constructor=C}D.prototype=B.prototype;C.prototype=new D})(y,Error);y.prototype.format=function(C){var B="Error: "+this.message;if(this.location){var D=null,G;for(G=0;G<C.length;G++)if(C[G].source===this.location.source){D=C[G].text.split(/\r\n|\n|\r/g);break}C=this.location.start;G=this.location.source+":"+C.line+":"+C.column;if(D){var K=this.location.end,M=z("",C.line.toString().length);D=D[C.line-1];K=C.line===K.line?
K.column:D.length+1;B+="\n --\x3e "+G+"\n"+M+" |\n"+C.line+" | "+D+"\n"+M+" | "+z("",C.column-1)+z("",K-C.column,"^")}else B+="\n at "+G}return B};y.buildMessage=function(C,B){function D(I){return I.charCodeAt(0).toString(16).toUpperCase()}function G(I){return I.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(F){return"\\x0"+D(F)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(F){return"\\x"+D(F)})}
function K(I){return I.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(F){return"\\x0"+D(F)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(F){return"\\x"+D(F)})}function M(I){return N[I.type](I)}var N={literal:function(I){return'"'+G(I.text)+'"'},class:function(I){var F=I.parts.map(function(E){return Array.isArray(E)?K(E[0])+"-"+K(E[1]):K(E)});return"["+
(I.inverted?"^":"")+F+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(I){return I.description}};return"Expected "+function(I){I=I.map(M);var F,E;I.sort();if(0<I.length){for(E=F=1;F<I.length;F++)I[F-1]!==I[F]&&(I[E]=I[F],E++);I.length=E}switch(I.length){case 1:return I[0];case 2:return I[0]+" or "+I[1];default:return I.slice(0,-1).join(", ")+", or "+I[I.length-1]}}(C)+" but "+(B?'"'+G(B)+'"':"end of input")+" found."};return{SyntaxError:y,parse:function(C,
B){function D(Wa,Ba){return{type:"literal",text:Wa,ignoreCase:Ba}}function G(Wa,Ba,Qa){return{type:"class",parts:Wa,inverted:Ba,ignoreCase:Qa}}function K(Wa){return{type:"other",description:Wa}}function M(Wa){var Ba=$a[Wa],Qa;if(!Ba){for(Qa=Wa-1;!$a[Qa];)Qa--;Ba=$a[Qa];for(Ba={line:Ba.line,column:Ba.column};Qa<Wa;)10===C.charCodeAt(Qa)?(Ba.line++,Ba.column=1):Ba.column++,Qa++;$a[Wa]=Ba}return Ba}function N(Wa,Ba){var Qa=M(Wa),Ya=M(Ba);return{source:qa,start:{offset:Wa,line:Qa.line,column:Qa.column},
end:{offset:Ba,line:Ya.line,column:Ya.column}}}function I(Wa){ta<bb||(ta>bb&&(bb=ta,eb=[]),eb.push(Wa))}function F(){Va++;var Wa=ta;P();if(C.substr(ta,4)===la){var Ba=la;ta+=4}else Ba=S,0===Va&&I(va);Ba!==S?(P(),Na=Wa,Wa=[]):(ta=Wa,Wa=S);Va--;Wa===S&&0===Va&&I(ka);if(Wa===S)if(Wa=[],Ba=E(),Ba!==S)for(;Ba!==S;)Wa.push(Ba),Ba=E();else Wa=S;return Wa}function E(){var Wa=ta;P();Va++;var Ba=ta;var Qa=W();if(Qa!==S){if(40===C.charCodeAt(ta)){var Ya=Ca;ta++}else Ya=S,0===Va&&I(za);Ya!==S?(Na=Ba,Ba=Qa):(ta=
Ba,Ba=S)}else ta=Ba,Ba=S;Va--;Ba===S&&(Qa=S,0===Va&&I(na));if(Ba!==S){P();Qa=ta;Ya=J();if(Ya!==S){var ib=[];var hb=ta;var kb=P();if(44===C.charCodeAt(ta)){var jb=aa;ta++}else jb=S,0===Va&&I(Ja);jb===S&&(jb=null);var mb=P();var lb=J();lb!==S?hb=kb=[kb,jb,mb,lb]:(ta=hb,hb=S);for(;hb!==S;)ib.push(hb),hb=ta,kb=P(),44===C.charCodeAt(ta)?(jb=aa,ta++):(jb=S,0===Va&&I(Ja)),jb===S&&(jb=null),mb=P(),lb=J(),lb!==S?hb=kb=[kb,jb,mb,lb]:(ta=hb,hb=S);Na=Qa;Qa=0<ib.length?[Ya].concat(Y(ib,3)):[Ya]}else ta=Qa,Qa=
S;Qa===S&&(Qa=null);P();41===C.charCodeAt(ta)?(Ya=V,ta++):(Ya=S,0===Va&&I(wa));Ya!==S?(P(),Na=Wa,Wa={type:"function",name:Ba,parameters:Qa||[]}):(ta=Wa,Wa=S)}else ta=Wa,Wa=S;return Wa}function J(){var Wa=ta;Va++;var Ba=ta;P();var Qa=Z();if(Qa!==S){if(37===C.charCodeAt(ta)){var Ya=Ia;ta++}else Ya=S,0===Va&&I(Ma);Ya!==S?(Na=Ba,Ba={value:Qa,unit:"%"}):(ta=Ba,Ba=S)}else ta=Ba,Ba=S;Va--;Ba===S&&0===Va&&I(Ga);Ba===S&&(Va++,Ba=ta,P(),Qa=Z(),Qa!==S?(C.substr(ta,2)===H?(Ya=H,ta+=2):(Ya=S,0===Va&&I(oa)),Ya!==
S?(Na=Ba,Ba={value:Qa,unit:"px"}):(ta=Ba,Ba=S)):(ta=Ba,Ba=S),Ba===S&&(Ba=ta,P(),Qa=Z(),Qa!==S?(C.substr(ta,2)===O?(Ya=O,ta+=2):(Ya=S,0===Va&&I(ab)),Ya!==S?(Na=Ba,Ba={value:Qa,unit:"cm"}):(ta=Ba,Ba=S)):(ta=Ba,Ba=S),Ba===S&&(Ba=ta,P(),Qa=Z(),Qa!==S?(C.substr(ta,2)===fa?(Ya=fa,ta+=2):(Ya=S,0===Va&&I(cb)),Ya!==S?(Na=Ba,Ba={value:Qa,unit:"mm"}):(ta=Ba,Ba=S)):(ta=Ba,Ba=S),Ba===S&&(Ba=ta,P(),Qa=Z(),Qa!==S?(C.substr(ta,2)===Q?(Ya=Q,ta+=2):(Ya=S,0===Va&&I(fb)),Ya!==S?(Na=Ba,Ba={value:Qa,unit:"in"}):(ta=Ba,
Ba=S)):(ta=Ba,Ba=S),Ba===S&&(Ba=ta,P(),Qa=Z(),Qa!==S?(C.substr(ta,2)===T?(Ya=T,ta+=2):(Ya=S,0===Va&&I(gb)),Ya!==S?(Na=Ba,Ba={value:Qa,unit:"pt"}):(ta=Ba,Ba=S)):(ta=Ba,Ba=S),Ba===S&&(Ba=ta,P(),Qa=Z(),Qa!==S?(C.substr(ta,2)===da?(Ya=da,ta+=2):(Ya=S,0===Va&&I(Za)),Ya!==S?(Na=Ba,Ba={value:Qa,unit:"pc"}):(ta=Ba,Ba=S)):(ta=Ba,Ba=S)))))),Va--,Ba===S&&0===Va&&I(Ua),Ba===S&&(Va++,Ba=ta,Qa=Z(),Qa!==S?(C.substr(ta,3)===ea?(Ya=ea,ta+=3):(Ya=S,0===Va&&I(Ta)),Ya!==S?(Na=Ba,Ba={value:Qa,unit:"deg"}):(ta=Ba,Ba=S)):
(ta=Ba,Ba=S),Ba===S&&(Ba=ta,Qa=Z(),Qa!==S?(C.substr(ta,3)===pa?(Ya=pa,ta+=3):(Ya=S,0===Va&&I(ja)),Ya!==S?(Na=Ba,Ba={value:Qa,unit:"rad"}):(ta=Ba,Ba=S)):(ta=Ba,Ba=S),Ba===S&&(Ba=ta,Qa=Z(),Qa!==S?(C.substr(ta,4)===ma?(Ya=ma,ta+=4):(Ya=S,0===Va&&I(ra)),Ya!==S?(Na=Ba,Ba={value:Qa,unit:"grad"}):(ta=Ba,Ba=S)):(ta=Ba,Ba=S),Ba===S&&(Ba=ta,Qa=Z(),Qa!==S?(C.substr(ta,4)===L?(Ya=L,ta+=4):(Ya=S,0===Va&&I(Ka)),Ya!==S?(Na=Ba,Ba={value:Qa,unit:"turn"}):(ta=Ba,Ba=S)):(ta=Ba,Ba=S)))),Va--,Ba===S&&(Qa=S,0===Va&&I(db)),
Ba===S&&(Va++,Ba=ta,P(),Qa=Z(),Qa!==S?(Na=Ba,Ba={value:Qa,unit:null}):(ta=Ba,Ba=S),Va--,Ba===S&&0===Va&&I(ba))));Ba!==S&&(Na=Wa,Ba={type:"quantity",value:Ba.value,unit:Ba.unit});Wa=Ba;if(Wa===S){Wa=ta;Va++;Ba=ta;35===C.charCodeAt(ta)?(Qa=R,ta++):(Qa=S,0===Va&&I(Ha));if(Qa!==S){Qa=[];Pa.test(C.charAt(ta))?(Ya=C.charAt(ta),ta++):(Ya=S,0===Va&&I(Ra));if(Ya!==S)for(;Ya!==S;)Qa.push(Ya),Pa.test(C.charAt(ta))?(Ya=C.charAt(ta),ta++):(Ya=S,0===Va&&I(Ra));else Qa=S;Qa!==S?(Na=Ba,Ba={type:"hex",value:C.substring(Na,
ta)}):(ta=Ba,Ba=S)}else ta=Ba,Ba=S;Ba===S&&(Ba=ta,Qa=E(),Qa!==S&&(Na=Ba,Qa={type:"function",value:Qa}),Ba=Qa,Ba===S&&(Ba=ta,Qa=W(),Qa!==S&&(Na=Ba,Qa={type:"named",value:C.substring(Na,ta)}),Ba=Qa));Va--;Ba===S&&(Qa=S,0===Va&&I(ya));Ba!==S&&(Na=Wa,Ba={type:"color",colorType:Ba.type,value:Ba.value});Wa=Ba}return Wa}function P(){Va++;var Wa=[];if(Aa.test(C.charAt(ta))){var Ba=C.charAt(ta);ta++}else Ba=S,0===Va&&I(ca);for(;Ba!==S;)Wa.push(Ba),Aa.test(C.charAt(ta))?(Ba=C.charAt(ta),ta++):(Ba=S,0===Va&&
I(ca));Va--;Ba=S;0===Va&&I(Oa);return Wa}function W(){Va++;var Wa=ta;var Ba=[];if(La.test(C.charAt(ta))){var Qa=C.charAt(ta);ta++}else Qa=S,0===Va&&I(Ea);if(Qa!==S)for(;Qa!==S;)Ba.push(Qa),La.test(C.charAt(ta))?(Qa=C.charAt(ta),ta++):(Qa=S,0===Va&&I(Ea));else Ba=S;Ba!==S&&(Na=Wa,Ba=C.substring(Na,ta));Wa=Ba;Va--;Wa===S&&(Ba=S,0===Va&&I(ua));return Wa}function Z(){var Wa=ta;Sa.test(C.charAt(ta))?(C.charAt(ta),ta++):0===Va&&I(X);var Ba=ta;var Qa=[];if(Xa.test(C.charAt(ta))){var Ya=C.charAt(ta);ta++}else Ya=
S,0===Va&&I(ha);for(;Ya!==S;)Qa.push(Ya),Xa.test(C.charAt(ta))?(Ya=C.charAt(ta),ta++):(Ya=S,0===Va&&I(ha));46===C.charCodeAt(ta)?(Ya=U,ta++):(Ya=S,0===Va&&I(ia));if(Ya!==S){var ib=[];if(Xa.test(C.charAt(ta))){var hb=C.charAt(ta);ta++}else hb=S,0===Va&&I(ha);if(hb!==S)for(;hb!==S;)ib.push(hb),Xa.test(C.charAt(ta))?(hb=C.charAt(ta),ta++):(hb=S,0===Va&&I(ha));else ib=S;ib!==S?Ba=Qa=[Qa,Ya,ib]:(ta=Ba,Ba=S)}else ta=Ba,Ba=S;if(Ba===S)if(Ba=[],Xa.test(C.charAt(ta))?(Qa=C.charAt(ta),ta++):(Qa=S,0===Va&&I(ha)),
Qa!==S)for(;Qa!==S;)Ba.push(Qa),Xa.test(C.charAt(ta))?(Qa=C.charAt(ta),ta++):(Qa=S,0===Va&&I(ha));else Ba=S;if(Ba!==S){Qa=ta;101===C.charCodeAt(ta)?(Ya=sa,ta++):(Ya=S,0===Va&&I(Da));if(Ya!==S){Sa.test(C.charAt(ta))?(ib=C.charAt(ta),ta++):(ib=S,0===Va&&I(X));ib===S&&(ib=null);hb=[];Xa.test(C.charAt(ta))?(Ba=C.charAt(ta),ta++):(Ba=S,0===Va&&I(ha));if(Ba!==S)for(;Ba!==S;)hb.push(Ba),Xa.test(C.charAt(ta))?(Ba=C.charAt(ta),ta++):(Ba=S,0===Va&&I(ha));else hb=S;hb!==S?Qa=Ya=[Ya,ib,hb]:(ta=Qa,Qa=S)}else ta=
Qa,Qa=S;Qa===S&&(Qa=null);Na=Wa;Wa=parseFloat(C.substring(Na,ta))}else ta=Wa,Wa=S;return Wa}function Y(Wa,Ba){return Wa.map(function(Qa){return Qa[Ba]})}B=void 0!==B?B:{};var S={},qa=B.grammarSource,xa={start:F},Fa=F,la="none",V=")",aa=",",Ca="(",Ia="%",H="px",O="cm",fa="mm",Q="in",T="pt",da="pc",ea="deg",pa="rad",ma="grad",L="turn",R="#",U=".",sa="e",Aa=/^[ \t\n\r]/,La=/^[a-z\-]/,Pa=/^[0-9a-fA-F]/,Sa=/^[+\-]/,Xa=/^[0-9]/,ka=K("none"),va=D("none",!1),wa=D(")",!1),Ja=D(",",!1),Oa=K("whitespace"),ca=
G([" ","\t","\n","\r"],!1,!1),na=K("function"),za=D("(",!1),ua=K("identifier"),Ea=G([["a","z"],"-"],!1,!1),Ga=K("percentage"),Ma=D("%",!1),Ua=K("length"),oa=D("px",!1),ab=D("cm",!1),cb=D("mm",!1),fb=D("in",!1),gb=D("pt",!1),Za=D("pc",!1),db=K("angle"),Ta=D("deg",!1),ja=D("rad",!1),ra=D("grad",!1),Ka=D("turn",!1),ba=K("number"),ya=K("color"),Ha=D("#",!1),Ra=G([["0","9"],["a","f"],["A","F"]],!1,!1),X=G(["+","-"],!1,!1),ha=G([["0","9"]],!1,!1),ia=D(".",!1),Da=D("e",!1),ta=0,Na=0,$a=[{line:1,column:1}],
bb=0,eb=[],Va=0;if("startRule"in B){if(!(B.startRule in xa))throw Error("Can't start parsing from rule \""+B.startRule+'".');Fa=xa[B.startRule]}B=Fa();if(B!==S&&ta===C.length)return B;B!==S&&ta<C.length&&I({type:"end"});throw function(Wa,Ba,Qa){return new y(y.buildMessage(Wa,Ba),Wa,Ba,Qa)}(eb,bb<C.length?C.charAt(bb):null,bb<C.length?N(bb,bb+1):N(bb,bb));}}})})(e);const h={deg:1,grad:.9,rad:180/Math.PI,turn:360},v={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72},x=/^rgba?/i,A=/^hsla?/i;a.parse=
function(w){if(!w||0===w.length)return null;if("string"===typeof w)return(w=u(w))&&0!==w.length?w:null;w=w.map(y=>{if(!Number.isFinite(y.scale)||0>=y.scale)throw new c("effect:invalid-scale","scale must be finite and greater than 0",{stop:y});return{scale:y.scale,effects:u(y.value)}});w.sort((y,z)=>z.effects.length-y.effects.length);for(let y=0;y<w.length-1;y++){if(!l.canInterpolateEffects(w[y].effects,w[y+1].effects))throw new c("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",
{a:w[y].effects,b:w[y+1].effects});l.normalizeEffects(w[y].effects,w[y+1].effects)}w.sort((y,z)=>z.scale-y.scale);return w};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/effects/effects":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../colorUtils ../../core/screenUtils ../../chunks/mat4f32 ./colorMatrixFunctions".split(" "),function(a,b,c,f,d,l){function u(p,e,h){return p+(e-p)*h}function t(p){return Math.round(1E3*f.px2pt(p))/1E3}let g=function(){function p(h,
v,x){this.strength=h;this.radius=v;this.threshold=x;this.type="bloom"}var e=p.prototype;e.interpolate=function(h,v,x){this.strength=u(h.strength,v.strength,x);this.radius=u(h.radius,v.radius,x);this.threshold=u(h.threshold,v.threshold,x)};e.clone=function(){return new p(this.strength,this.radius,this.threshold)};e.toJSON=function(){return{type:"bloom",radius:t(this.radius),strength:this.strength,threshold:this.threshold}};return p}(),n=function(){function p(h){this.radius=h;this.type="blur"}var e=
p.prototype;e.interpolate=function(h,v,x){this.radius=Math.round(u(h.radius,v.radius,x))};e.clone=function(){return new p(this.radius)};e.toJSON=function(){return{type:"blur",radius:t(this.radius)}};return p}(),m=function(){function p(h,v){this.type=h;this.amount=v;if("invert"===this.type||"grayscale"===this.type||"sepia"===this.type)this.amount=Math.min(this.amount,1)}var e=p.prototype;e.interpolate=function(h,v,x){this.amount=u(h.amount,v.amount,x);this._updateMatrix()};e.clone=function(){return new p(this.type,
this.amount)};e.toJSON=function(){return{type:this.type,amount:this.amount}};e._updateMatrix=function(){const h=this._colorMatrix||d.create();switch(this.type){case "brightness":this._colorMatrix=l.brightness(h,this.amount);break;case "contrast":this._colorMatrix=l.contrast(h,this.amount);break;case "grayscale":this._colorMatrix=l.grayscale(h,this.amount);break;case "invert":this._colorMatrix=l.invert(h,this.amount);break;case "saturate":this._colorMatrix=l.saturate(h,this.amount);break;case "sepia":this._colorMatrix=
l.sepia(h,this.amount)}};b._createClass(p,[{key:"colorMatrix",get:function(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}}]);return p}(),r=function(){function p(h,v,x,A){this.offsetX=h;this.offsetY=v;this.blurRadius=x;this.color=A;this.type="drop-shadow"}var e=p.prototype;e.interpolate=function(h,v,x){this.offsetX=u(h.offsetX,v.offsetX,x);this.offsetY=u(h.offsetY,v.offsetY,x);this.blurRadius=u(h.blurRadius,v.blurRadius,x);this.color[0]=Math.round(u(h.color[0],v.color[0],x));this.color[1]=
Math.round(u(h.color[1],v.color[1],x));this.color[2]=Math.round(u(h.color[2],v.color[2],x));this.color[3]=u(h.color[3],v.color[3],x)};e.clone=function(){return new p(this.offsetX,this.offsetY,this.blurRadius,[...this.color])};e.toJSON=function(){const h=[...this.color];h[3]*=255;return{type:"drop-shadow",xoffset:t(this.offsetX),yoffset:t(this.offsetY),blurRadius:t(this.blurRadius),color:h}};return p}(),q=function(){function p(h){this.angle=h;this.type="hue-rotate"}var e=p.prototype;e.interpolate=
function(h,v,x){this.angle=u(h.angle,v.angle,x);this._updateMatrix()};e.clone=function(){return new p(this.angle)};e.toJSON=function(){return{type:"hue-rotate",angle:this.angle}};e._updateMatrix=function(){const h=this._colorMatrix||d.create();this._colorMatrix=l.rotateHue(h,this.angle)};b._createClass(p,[{key:"colorMatrix",get:function(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}}]);return p}(),k=function(){function p(h){this.amount=h;this.type="opacity";this.amount=Math.min(this.amount,
1)}var e=p.prototype;e.interpolate=function(h,v,x){this.amount=u(h.amount,v.amount,x)};e.clone=function(){return new p(this.amount)};e.toJSON=function(){return{type:"opacity",amount:this.amount}};return p}();a.BloomEffect=g;a.BlurEffect=n;a.ColorMatrixEffect=m;a.DropShadowEffect=r;a.HueRotateEffect=q;a.OpacityEffect=k;a.createEffectWithInitialValues=function(p){switch(p.type){case "grayscale":case "sepia":case "invert":return new m(p.type,0);case "saturate":case "brightness":case "contrast":return new m(p.type,
1);case "opacity":return new k(1);case "hue-rotate":return new q(0);case "blur":return new n(0);case "drop-shadow":return new r(0,0,0,[...c.getNamedColor("transparent")]);case "bloom":return new g(0,0,1)}};a.isColorMatrixEffect=function(p){return"colorMatrix"in p};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/mat4f32":function(){define(["exports"],function(a){function b(){const t=new Float32Array(16);t[0]=1;t[5]=1;t[10]=1;t[15]=1;return t}function c(t){const g=new Float32Array(16);
g[0]=t[0];g[1]=t[1];g[2]=t[2];g[3]=t[3];g[4]=t[4];g[5]=t[5];g[6]=t[6];g[7]=t[7];g[8]=t[8];g[9]=t[9];g[10]=t[10];g[11]=t[11];g[12]=t[12];g[13]=t[13];g[14]=t[14];g[15]=t[15];return g}function f(t,g,n,m,r,q,k,p,e,h,v,x,A,w,y,z){const C=new Float32Array(16);C[0]=t;C[1]=g;C[2]=n;C[3]=m;C[4]=r;C[5]=q;C[6]=k;C[7]=p;C[8]=e;C[9]=h;C[10]=v;C[11]=x;C[12]=A;C[13]=w;C[14]=y;C[15]=z;return C}function d(t,g){return new Float32Array(t,g,16)}const l=b(),u=Object.freeze({__proto__:null,create:b,clone:c,fromValues:f,
createView:d,IDENTITY:l});a.IDENTITY=l;a.clone=c;a.create=b;a.createView=d;a.fromValues=f;a.mat4f32=u})},"esri/layers/effects/colorMatrixFunctions":function(){define(["exports","../../chunks/mat4"],function(a,b){a.brightness=(c,f)=>{c=b.set(c,f,0,0,0,0,f,0,0,0,0,f,0,0,0,0,1);return b.transpose(c,c)};a.contrast=(c,f)=>{c=b.set(c,f,0,0,.5-.5*f,0,f,0,.5-.5*f,0,0,f,.5-.5*f,0,0,0,1);return b.transpose(c,c)};a.grayscale=(c,f)=>{f=1-f;c=b.set(c,.2126+.7874*f,.7152-.7152*f,.0722-.0722*f,0,.2126-.2126*f,.7152+
.2848*f,.0722-.0722*f,0,.2126-.2126*f,.7152-.7152*f,.0722+.9278*f,0,0,0,0,1);return b.transpose(c,c)};a.invert=(c,f)=>{const d=1-2*f;c=b.set(c,d,0,0,f,0,d,0,f,0,0,d,f,0,0,0,1);return b.transpose(c,c)};a.rotateHue=(c,f)=>{const d=Math.sin(f*Math.PI/180);f=Math.cos(f*Math.PI/180);c=b.set(c,.213+.787*f-.213*d,.715-.715*f-.715*d,.072-.072*f+.928*d,0,.213-.213*f+.143*d,.715+.285*f+.14*d,.072-.072*f-.283*d,0,.213-.213*f-.787*d,.715-.715*f+.715*d,.072+.928*f+.072*d,0,0,0,0,1);return b.transpose(c,c)};a.saturate=
(c,f)=>{c=b.set(c,.213+.787*f,.715-.715*f,.072-.072*f,0,.213-.213*f,.715+.285*f,.072-.072*f,0,.213-.213*f,.715-.715*f,.072+.928*f,0,0,0,0,1);return b.transpose(c,c)};a.sepia=(c,f)=>{f=1-f;c=b.set(c,.393+.607*f,.769-.769*f,.189-.189*f,0,.349-.349*f,.686+.314*f,.168-.168*f,0,.272-.272*f,.534-.534*f,.131+.869*f,0,0,0,0,1);return b.transpose(c,c)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(a,b,c){function f(H,O){H[0]=
O[0];H[1]=O[1];H[2]=O[2];H[3]=O[3];H[4]=O[4];H[5]=O[5];H[6]=O[6];H[7]=O[7];H[8]=O[8];H[9]=O[9];H[10]=O[10];H[11]=O[11];H[12]=O[12];H[13]=O[13];H[14]=O[14];H[15]=O[15];return H}function d(H,O,fa,Q,T,da,ea,pa,ma,L,R,U,sa,Aa,La,Pa,Sa){H[0]=O;H[1]=fa;H[2]=Q;H[3]=T;H[4]=da;H[5]=ea;H[6]=pa;H[7]=ma;H[8]=L;H[9]=R;H[10]=U;H[11]=sa;H[12]=Aa;H[13]=La;H[14]=Pa;H[15]=Sa;return H}function l(H){H[0]=1;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=1;H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[10]=1;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;
return H}function u(H,O){if(H===O){const fa=O[1],Q=O[2],T=O[3],da=O[6],ea=O[7],pa=O[11];H[1]=O[4];H[2]=O[8];H[3]=O[12];H[4]=fa;H[6]=O[9];H[7]=O[13];H[8]=Q;H[9]=da;H[11]=O[14];H[12]=T;H[13]=ea;H[14]=pa}else H[0]=O[0],H[1]=O[4],H[2]=O[8],H[3]=O[12],H[4]=O[1],H[5]=O[5],H[6]=O[9],H[7]=O[13],H[8]=O[2],H[9]=O[6],H[10]=O[10],H[11]=O[14],H[12]=O[3],H[13]=O[7],H[14]=O[11],H[15]=O[15];return H}function t(H,O){const fa=O[0],Q=O[1],T=O[2],da=O[3],ea=O[4],pa=O[5],ma=O[6],L=O[7],R=O[8],U=O[9],sa=O[10],Aa=O[11],
La=O[12],Pa=O[13],Sa=O[14];O=O[15];const Xa=fa*pa-Q*ea,ka=fa*ma-T*ea,va=fa*L-da*ea,wa=Q*ma-T*pa,Ja=Q*L-da*pa,Oa=T*L-da*ma,ca=R*Pa-U*La,na=R*Sa-sa*La,za=R*O-Aa*La,ua=U*Sa-sa*Pa,Ea=U*O-Aa*Pa,Ga=sa*O-Aa*Sa;let Ma=Xa*Ga-ka*Ea+va*ua+wa*za-Ja*na+Oa*ca;if(!Ma)return null;Ma=1/Ma;H[0]=(pa*Ga-ma*Ea+L*ua)*Ma;H[1]=(T*Ea-Q*Ga-da*ua)*Ma;H[2]=(Pa*Oa-Sa*Ja+O*wa)*Ma;H[3]=(sa*Ja-U*Oa-Aa*wa)*Ma;H[4]=(ma*za-ea*Ga-L*na)*Ma;H[5]=(fa*Ga-T*za+da*na)*Ma;H[6]=(Sa*va-La*Oa-O*ka)*Ma;H[7]=(R*Oa-sa*va+Aa*ka)*Ma;H[8]=(ea*Ea-pa*
za+L*ca)*Ma;H[9]=(Q*za-fa*Ea-da*ca)*Ma;H[10]=(La*Ja-Pa*va+O*Xa)*Ma;H[11]=(U*va-R*Ja-Aa*Xa)*Ma;H[12]=(pa*na-ea*ua-ma*ca)*Ma;H[13]=(fa*ua-Q*na+T*ca)*Ma;H[14]=(Pa*ka-La*wa-Sa*Xa)*Ma;H[15]=(R*wa-U*ka+sa*Xa)*Ma;return H}function g(H,O){const fa=O[0],Q=O[1],T=O[2],da=O[3],ea=O[4],pa=O[5],ma=O[6],L=O[7],R=O[8],U=O[9],sa=O[10],Aa=O[11],La=O[12],Pa=O[13],Sa=O[14];O=O[15];H[0]=pa*(sa*O-Aa*Sa)-U*(ma*O-L*Sa)+Pa*(ma*Aa-L*sa);H[1]=-(Q*(sa*O-Aa*Sa)-U*(T*O-da*Sa)+Pa*(T*Aa-da*sa));H[2]=Q*(ma*O-L*Sa)-pa*(T*O-da*Sa)+
Pa*(T*L-da*ma);H[3]=-(Q*(ma*Aa-L*sa)-pa*(T*Aa-da*sa)+U*(T*L-da*ma));H[4]=-(ea*(sa*O-Aa*Sa)-R*(ma*O-L*Sa)+La*(ma*Aa-L*sa));H[5]=fa*(sa*O-Aa*Sa)-R*(T*O-da*Sa)+La*(T*Aa-da*sa);H[6]=-(fa*(ma*O-L*Sa)-ea*(T*O-da*Sa)+La*(T*L-da*ma));H[7]=fa*(ma*Aa-L*sa)-ea*(T*Aa-da*sa)+R*(T*L-da*ma);H[8]=ea*(U*O-Aa*Pa)-R*(pa*O-L*Pa)+La*(pa*Aa-L*U);H[9]=-(fa*(U*O-Aa*Pa)-R*(Q*O-da*Pa)+La*(Q*Aa-da*U));H[10]=fa*(pa*O-L*Pa)-ea*(Q*O-da*Pa)+La*(Q*L-da*pa);H[11]=-(fa*(pa*Aa-L*U)-ea*(Q*Aa-da*U)+R*(Q*L-da*pa));H[12]=-(ea*(U*Sa-sa*
Pa)-R*(pa*Sa-ma*Pa)+La*(pa*sa-ma*U));H[13]=fa*(U*Sa-sa*Pa)-R*(Q*Sa-T*Pa)+La*(Q*sa-T*U);H[14]=-(fa*(pa*Sa-ma*Pa)-ea*(Q*Sa-T*Pa)+La*(Q*ma-T*pa));H[15]=fa*(pa*sa-ma*U)-ea*(Q*sa-T*U)+R*(Q*ma-T*pa);return H}function n(H){const O=H[0],fa=H[1],Q=H[2],T=H[3],da=H[4],ea=H[5],pa=H[6],ma=H[7],L=H[8],R=H[9],U=H[10],sa=H[11],Aa=H[12],La=H[13],Pa=H[14];H=H[15];return(O*ea-fa*da)*(U*H-sa*Pa)-(O*pa-Q*da)*(R*H-sa*La)+(O*ma-T*da)*(R*Pa-U*La)+(fa*pa-Q*ea)*(L*H-sa*Aa)-(fa*ma-T*ea)*(L*Pa-U*Aa)+(Q*ma-T*pa)*(L*La-R*Aa)}
function m(H,O,fa){const Q=O[0],T=O[1],da=O[2],ea=O[3],pa=O[4],ma=O[5],L=O[6],R=O[7],U=O[8],sa=O[9],Aa=O[10],La=O[11],Pa=O[12],Sa=O[13],Xa=O[14];O=O[15];let ka=fa[0],va=fa[1],wa=fa[2],Ja=fa[3];H[0]=ka*Q+va*pa+wa*U+Ja*Pa;H[1]=ka*T+va*ma+wa*sa+Ja*Sa;H[2]=ka*da+va*L+wa*Aa+Ja*Xa;H[3]=ka*ea+va*R+wa*La+Ja*O;ka=fa[4];va=fa[5];wa=fa[6];Ja=fa[7];H[4]=ka*Q+va*pa+wa*U+Ja*Pa;H[5]=ka*T+va*ma+wa*sa+Ja*Sa;H[6]=ka*da+va*L+wa*Aa+Ja*Xa;H[7]=ka*ea+va*R+wa*La+Ja*O;ka=fa[8];va=fa[9];wa=fa[10];Ja=fa[11];H[8]=ka*Q+va*pa+
wa*U+Ja*Pa;H[9]=ka*T+va*ma+wa*sa+Ja*Sa;H[10]=ka*da+va*L+wa*Aa+Ja*Xa;H[11]=ka*ea+va*R+wa*La+Ja*O;ka=fa[12];va=fa[13];wa=fa[14];Ja=fa[15];H[12]=ka*Q+va*pa+wa*U+Ja*Pa;H[13]=ka*T+va*ma+wa*sa+Ja*Sa;H[14]=ka*da+va*L+wa*Aa+Ja*Xa;H[15]=ka*ea+va*R+wa*La+Ja*O;return H}function r(H,O,fa){const Q=fa[0],T=fa[1];fa=fa[2];let da=void 0,ea=void 0,pa=void 0,ma=void 0,L=void 0,R=void 0,U=void 0,sa=void 0,Aa=void 0,La=void 0,Pa=void 0,Sa=void 0;O===H?(H[12]=O[0]*Q+O[4]*T+O[8]*fa+O[12],H[13]=O[1]*Q+O[5]*T+O[9]*fa+O[13],
H[14]=O[2]*Q+O[6]*T+O[10]*fa+O[14],H[15]=O[3]*Q+O[7]*T+O[11]*fa+O[15]):(da=O[0],ea=O[1],pa=O[2],ma=O[3],L=O[4],R=O[5],U=O[6],sa=O[7],Aa=O[8],La=O[9],Pa=O[10],Sa=O[11],H[0]=da,H[1]=ea,H[2]=pa,H[3]=ma,H[4]=L,H[5]=R,H[6]=U,H[7]=sa,H[8]=Aa,H[9]=La,H[10]=Pa,H[11]=Sa,H[12]=da*Q+L*T+Aa*fa+O[12],H[13]=ea*Q+R*T+La*fa+O[13],H[14]=pa*Q+U*T+Pa*fa+O[14],H[15]=ma*Q+sa*T+Sa*fa+O[15]);return H}function q(H,O,fa){const Q=fa[0],T=fa[1];fa=fa[2];H[0]=O[0]*Q;H[1]=O[1]*Q;H[2]=O[2]*Q;H[3]=O[3]*Q;H[4]=O[4]*T;H[5]=O[5]*
T;H[6]=O[6]*T;H[7]=O[7]*T;H[8]=O[8]*fa;H[9]=O[9]*fa;H[10]=O[10]*fa;H[11]=O[11]*fa;H[12]=O[12];H[13]=O[13];H[14]=O[14];H[15]=O[15];return H}function k(H,O,fa,Q){let T=Q[0],da=Q[1];Q=Q[2];let ea=Math.sqrt(T*T+da*da+Q*Q);var pa=void 0,ma=void 0;let L=void 0,R=void 0,U=void 0,sa=void 0,Aa=void 0,La=void 0,Pa=void 0,Sa=void 0,Xa=void 0,ka=void 0,va=void 0,wa=void 0,Ja=void 0,Oa=void 0,ca=void 0,na=void 0,za=void 0,ua=void 0,Ea=void 0,Ga=void 0;ma=pa=void 0;if(ea<c.EPSILON)return null;ea=1/ea;T*=ea;da*=
ea;Q*=ea;pa=Math.sin(fa);ma=Math.cos(fa);L=1-ma;R=O[0];U=O[1];sa=O[2];Aa=O[3];La=O[4];Pa=O[5];Sa=O[6];Xa=O[7];ka=O[8];va=O[9];wa=O[10];Ja=O[11];Oa=T*T*L+ma;ca=da*T*L+Q*pa;na=Q*T*L-da*pa;za=T*da*L-Q*pa;ua=da*da*L+ma;Ea=Q*da*L+T*pa;Ga=T*Q*L+da*pa;pa=da*Q*L-T*pa;ma=Q*Q*L+ma;H[0]=R*Oa+La*ca+ka*na;H[1]=U*Oa+Pa*ca+va*na;H[2]=sa*Oa+Sa*ca+wa*na;H[3]=Aa*Oa+Xa*ca+Ja*na;H[4]=R*za+La*ua+ka*Ea;H[5]=U*za+Pa*ua+va*Ea;H[6]=sa*za+Sa*ua+wa*Ea;H[7]=Aa*za+Xa*ua+Ja*Ea;H[8]=R*Ga+La*pa+ka*ma;H[9]=U*Ga+Pa*pa+va*ma;H[10]=
sa*Ga+Sa*pa+wa*ma;H[11]=Aa*Ga+Xa*pa+Ja*ma;O!==H&&(H[12]=O[12],H[13]=O[13],H[14]=O[14],H[15]=O[15]);return H}function p(H,O,fa){const Q=Math.sin(fa);fa=Math.cos(fa);const T=O[4],da=O[5],ea=O[6],pa=O[7],ma=O[8],L=O[9],R=O[10],U=O[11];O!==H&&(H[0]=O[0],H[1]=O[1],H[2]=O[2],H[3]=O[3],H[12]=O[12],H[13]=O[13],H[14]=O[14],H[15]=O[15]);H[4]=T*fa+ma*Q;H[5]=da*fa+L*Q;H[6]=ea*fa+R*Q;H[7]=pa*fa+U*Q;H[8]=ma*fa-T*Q;H[9]=L*fa-da*Q;H[10]=R*fa-ea*Q;H[11]=U*fa-pa*Q;return H}function e(H,O,fa){const Q=Math.sin(fa);fa=
Math.cos(fa);const T=O[0],da=O[1],ea=O[2],pa=O[3],ma=O[8],L=O[9],R=O[10],U=O[11];O!==H&&(H[4]=O[4],H[5]=O[5],H[6]=O[6],H[7]=O[7],H[12]=O[12],H[13]=O[13],H[14]=O[14],H[15]=O[15]);H[0]=T*fa-ma*Q;H[1]=da*fa-L*Q;H[2]=ea*fa-R*Q;H[3]=pa*fa-U*Q;H[8]=T*Q+ma*fa;H[9]=da*Q+L*fa;H[10]=ea*Q+R*fa;H[11]=pa*Q+U*fa;return H}function h(H,O,fa){const Q=Math.sin(fa);fa=Math.cos(fa);const T=O[0],da=O[1],ea=O[2],pa=O[3],ma=O[4],L=O[5],R=O[6],U=O[7];O!==H&&(H[8]=O[8],H[9]=O[9],H[10]=O[10],H[11]=O[11],H[12]=O[12],H[13]=
O[13],H[14]=O[14],H[15]=O[15]);H[0]=T*fa+ma*Q;H[1]=da*fa+L*Q;H[2]=ea*fa+R*Q;H[3]=pa*fa+U*Q;H[4]=ma*fa-T*Q;H[5]=L*fa-da*Q;H[6]=R*fa-ea*Q;H[7]=U*fa-pa*Q;return H}function v(H,O){H[0]=1;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=1;H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[10]=1;H[11]=0;H[12]=O[0];H[13]=O[1];H[14]=O[2];H[15]=1;return H}function x(H,O){H[0]=O[0];H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=O[1];H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[10]=O[2];H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function A(H,O,fa){let Q=fa[0],T=fa[1];
fa=fa[2];let da=Math.sqrt(Q*Q+T*T+fa*fa),ea=void 0,pa=void 0,ma=void 0;if(da<c.EPSILON)return null;da=1/da;Q*=da;T*=da;fa*=da;ea=Math.sin(O);pa=Math.cos(O);ma=1-pa;H[0]=Q*Q*ma+pa;H[1]=T*Q*ma+fa*ea;H[2]=fa*Q*ma-T*ea;H[3]=0;H[4]=Q*T*ma-fa*ea;H[5]=T*T*ma+pa;H[6]=fa*T*ma+Q*ea;H[7]=0;H[8]=Q*fa*ma+T*ea;H[9]=T*fa*ma-Q*ea;H[10]=fa*fa*ma+pa;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function w(H,O){const fa=Math.sin(O);O=Math.cos(O);H[0]=1;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=O;H[6]=fa;H[7]=0;H[8]=0;H[9]=
-fa;H[10]=O;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function y(H,O){const fa=Math.sin(O);O=Math.cos(O);H[0]=O;H[1]=0;H[2]=-fa;H[3]=0;H[4]=0;H[5]=1;H[6]=0;H[7]=0;H[8]=fa;H[9]=0;H[10]=O;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function z(H,O){const fa=Math.sin(O);O=Math.cos(O);H[0]=O;H[1]=fa;H[2]=0;H[3]=0;H[4]=-fa;H[5]=O;H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[10]=1;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function C(H,O,fa){var Q=O[0],T=O[1],da=O[2],ea=O[3],pa=Q+Q,ma=T+T;const L=da+
da;O=Q*pa;const R=Q*ma;Q*=L;const U=T*ma;T*=L;da*=L;pa*=ea;ma*=ea;ea*=L;H[0]=1-(U+da);H[1]=R+ea;H[2]=Q-ma;H[3]=0;H[4]=R-ea;H[5]=1-(O+da);H[6]=T+pa;H[7]=0;H[8]=Q+ma;H[9]=T-pa;H[10]=1-(O+U);H[11]=0;H[12]=fa[0];H[13]=fa[1];H[14]=fa[2];H[15]=1;return H}function B(H,O){const fa=Ia,Q=-O[0],T=-O[1],da=-O[2],ea=O[3],pa=O[4],ma=O[5],L=O[6],R=O[7],U=Q*Q+T*T+da*da+ea*ea;0<U?(fa[0]=2*(pa*ea+R*Q+ma*da-L*T)/U,fa[1]=2*(ma*ea+R*T+L*Q-pa*da)/U,fa[2]=2*(L*ea+R*da+pa*T-ma*Q)/U):(fa[0]=2*(pa*ea+R*Q+ma*da-L*T),fa[1]=
2*(ma*ea+R*T+L*Q-pa*da),fa[2]=2*(L*ea+R*da+pa*T-ma*Q));C(H,O,fa);return H}function D(H,O){H[0]=O[12];H[1]=O[13];H[2]=O[14];return H}function G(H,O){const fa=O[0],Q=O[1],T=O[2],da=O[4],ea=O[5],pa=O[6],ma=O[8],L=O[9];O=O[10];H[0]=Math.sqrt(fa*fa+Q*Q+T*T);H[1]=Math.sqrt(da*da+ea*ea+pa*pa);H[2]=Math.sqrt(ma*ma+L*L+O*O);return H}function K(H,O){const fa=O[0]+O[5]+O[10];let Q=0;0<fa?(Q=2*Math.sqrt(fa+1),H[3]=.25*Q,H[0]=(O[6]-O[9])/Q,H[1]=(O[8]-O[2])/Q,H[2]=(O[1]-O[4])/Q):O[0]>O[5]&&O[0]>O[10]?(Q=2*Math.sqrt(1+
O[0]-O[5]-O[10]),H[3]=(O[6]-O[9])/Q,H[0]=.25*Q,H[1]=(O[1]+O[4])/Q,H[2]=(O[8]+O[2])/Q):O[5]>O[10]?(Q=2*Math.sqrt(1+O[5]-O[0]-O[10]),H[3]=(O[8]-O[2])/Q,H[0]=(O[1]+O[4])/Q,H[1]=.25*Q,H[2]=(O[6]+O[9])/Q):(Q=2*Math.sqrt(1+O[10]-O[0]-O[5]),H[3]=(O[1]-O[4])/Q,H[0]=(O[8]+O[2])/Q,H[1]=(O[6]+O[9])/Q,H[2]=.25*Q);return H}function M(H,O,fa,Q){var T=O[0],da=O[1],ea=O[2],pa=O[3],ma=T+T,L=da+da,R=ea+ea;O=T*ma;const U=T*L;T*=R;const sa=da*L;da*=R;ea*=R;ma*=pa;L*=pa;pa*=R;R=Q[0];const Aa=Q[1];Q=Q[2];H[0]=(1-(sa+ea))*
R;H[1]=(U+pa)*R;H[2]=(T-L)*R;H[3]=0;H[4]=(U-pa)*Aa;H[5]=(1-(O+ea))*Aa;H[6]=(da+ma)*Aa;H[7]=0;H[8]=(T+L)*Q;H[9]=(da-ma)*Q;H[10]=(1-(O+sa))*Q;H[11]=0;H[12]=fa[0];H[13]=fa[1];H[14]=fa[2];H[15]=1;return H}function N(H,O,fa,Q,T){var da=O[0],ea=O[1],pa=O[2],ma=O[3],L=da+da,R=ea+ea,U=pa+pa;O=da*L;var sa=da*R,Aa=da*U;da=ea*R;ea*=U;var La=pa*U;pa=ma*L;R*=ma;const Pa=ma*U;var Sa=Q[0],Xa=Q[1];U=Q[2];Q=T[0];ma=T[1];T=T[2];L=(1-(da+La))*Sa;const ka=(sa+Pa)*Sa;Sa*=Aa-R;sa=(sa-Pa)*Xa;La=(1-(O+La))*Xa;Xa*=ea+pa;
Aa=(Aa+R)*U;ea=(ea-pa)*U;O=(1-(O+da))*U;H[0]=L;H[1]=ka;H[2]=Sa;H[3]=0;H[4]=sa;H[5]=La;H[6]=Xa;H[7]=0;H[8]=Aa;H[9]=ea;H[10]=O;H[11]=0;H[12]=fa[0]+Q-(L*Q+sa*ma+Aa*T);H[13]=fa[1]+ma-(ka*Q+La*ma+ea*T);H[14]=fa[2]+T-(Sa*Q+Xa*ma+O*T);H[15]=1;return H}function I(H,O){var fa=O[0],Q=O[1],T=O[2];O=O[3];var da=fa+fa,ea=Q+Q;const pa=T+T;fa*=da;const ma=Q*da;Q*=ea;const L=T*da,R=T*ea;T*=pa;da*=O;ea*=O;O*=pa;H[0]=1-Q-T;H[1]=ma+O;H[2]=L-ea;H[3]=0;H[4]=ma-O;H[5]=1-fa-T;H[6]=R+da;H[7]=0;H[8]=L+ea;H[9]=R-da;H[10]=
1-fa-Q;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function F(H,O,fa,Q,T,da,ea){const pa=1/(fa-O),ma=1/(T-Q),L=1/(da-ea);H[0]=2*da*pa;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=2*da*ma;H[6]=0;H[7]=0;H[8]=(fa+O)*pa;H[9]=(T+Q)*ma;H[10]=(ea+da)*L;H[11]=-1;H[12]=0;H[13]=0;H[14]=ea*da*2*L;H[15]=0;return H}function E(H,O,fa,Q,T){O=1/Math.tan(O/2);let da=void 0;H[0]=O/fa;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=O;H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[11]=-1;H[12]=0;H[13]=0;H[15]=0;null!=T&&Infinity!==T?(da=1/(Q-T),H[10]=(T+
Q)*da,H[14]=2*T*Q*da):(H[10]=-1,H[14]=-2*Q);return H}function J(H,O,fa,Q){const T=Math.tan(O.upDegrees*Math.PI/180),da=Math.tan(O.downDegrees*Math.PI/180),ea=Math.tan(O.leftDegrees*Math.PI/180);O=Math.tan(O.rightDegrees*Math.PI/180);const pa=2/(ea+O),ma=2/(T+da);H[0]=pa;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=ma;H[6]=0;H[7]=0;H[8]=-((ea-O)*pa*.5);H[9]=(T-da)*ma*.5;H[10]=Q/(fa-Q);H[11]=-1;H[12]=0;H[13]=0;H[14]=Q*fa/(fa-Q);H[15]=0;return H}function P(H,O,fa,Q,T,da,ea){const pa=1/(O-fa),ma=1/(Q-T),L=1/(da-
ea);H[0]=-2*pa;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=-2*ma;H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[10]=2*L;H[11]=0;H[12]=(O+fa)*pa;H[13]=(T+Q)*ma;H[14]=(ea+da)*L;H[15]=1;return H}function W(H,O,fa,Q){let T=void 0,da=void 0;var ea=void 0,pa=void 0;let ma=void 0,L=void 0;var R=void 0,U=void 0;let sa=void 0,Aa=void 0;const La=O[0],Pa=O[1];O=O[2];ea=Q[0];pa=Q[1];Q=Q[2];R=fa[0];U=fa[1];fa=fa[2];if(Math.abs(La-R)<c.EPSILON&&Math.abs(Pa-U)<c.EPSILON&&Math.abs(O-fa)<c.EPSILON)return l(H);R=La-R;U=Pa-U;sa=O-fa;Aa=1/Math.sqrt(R*
R+U*U+sa*sa);R*=Aa;U*=Aa;sa*=Aa;T=pa*sa-Q*U;da=Q*R-ea*sa;ea=ea*U-pa*R;(Aa=Math.sqrt(T*T+da*da+ea*ea))?(Aa=1/Aa,T*=Aa,da*=Aa,ea*=Aa):ea=da=T=0;pa=U*ea-sa*da;ma=sa*T-R*ea;L=R*da-U*T;(Aa=Math.sqrt(pa*pa+ma*ma+L*L))?(Aa=1/Aa,pa*=Aa,ma*=Aa,L*=Aa):L=ma=pa=0;H[0]=T;H[1]=pa;H[2]=R;H[3]=0;H[4]=da;H[5]=ma;H[6]=U;H[7]=0;H[8]=ea;H[9]=L;H[10]=sa;H[11]=0;H[12]=-(T*La+da*Pa+ea*O);H[13]=-(pa*La+ma*Pa+L*O);H[14]=-(R*La+U*Pa+sa*O);H[15]=1;return H}function Z(H,O,fa,Q){const T=O[0],da=O[1];O=O[2];var ea=Q[0];const pa=
Q[1];var ma=Q[2];Q=T-fa[0];let L=da-fa[1];fa=O-fa[2];let R=Q*Q+L*L+fa*fa;0<R&&(R=1/Math.sqrt(R),Q*=R,L*=R,fa*=R);let U=pa*fa-ma*L;ma=ma*Q-ea*fa;ea=ea*L-pa*Q;R=U*U+ma*ma+ea*ea;0<R&&(R=1/Math.sqrt(R),U*=R,ma*=R,ea*=R);H[0]=U;H[1]=ma;H[2]=ea;H[3]=0;H[4]=L*ea-fa*ma;H[5]=fa*U-Q*ea;H[6]=Q*ma-L*U;H[7]=0;H[8]=Q;H[9]=L;H[10]=fa;H[11]=0;H[12]=T;H[13]=da;H[14]=O;H[15]=1;return H}function Y(H){return"mat4("+H[0]+", "+H[1]+", "+H[2]+", "+H[3]+", "+H[4]+", "+H[5]+", "+H[6]+", "+H[7]+", "+H[8]+", "+H[9]+", "+H[10]+
", "+H[11]+", "+H[12]+", "+H[13]+", "+H[14]+", "+H[15]+")"}function S(H){return Math.sqrt(H[0]**2+H[1]**2+H[2]**2+H[3]**2+H[4]**2+H[5]**2+H[6]**2+H[7]**2+H[8]**2+H[9]**2+H[10]**2+H[11]**2+H[12]**2+H[13]**2+H[14]**2+H[15]**2)}function qa(H,O,fa){H[0]=O[0]+fa[0];H[1]=O[1]+fa[1];H[2]=O[2]+fa[2];H[3]=O[3]+fa[3];H[4]=O[4]+fa[4];H[5]=O[5]+fa[5];H[6]=O[6]+fa[6];H[7]=O[7]+fa[7];H[8]=O[8]+fa[8];H[9]=O[9]+fa[9];H[10]=O[10]+fa[10];H[11]=O[11]+fa[11];H[12]=O[12]+fa[12];H[13]=O[13]+fa[13];H[14]=O[14]+fa[14];H[15]=
O[15]+fa[15];return H}function xa(H,O,fa){H[0]=O[0]-fa[0];H[1]=O[1]-fa[1];H[2]=O[2]-fa[2];H[3]=O[3]-fa[3];H[4]=O[4]-fa[4];H[5]=O[5]-fa[5];H[6]=O[6]-fa[6];H[7]=O[7]-fa[7];H[8]=O[8]-fa[8];H[9]=O[9]-fa[9];H[10]=O[10]-fa[10];H[11]=O[11]-fa[11];H[12]=O[12]-fa[12];H[13]=O[13]-fa[13];H[14]=O[14]-fa[14];H[15]=O[15]-fa[15];return H}function Fa(H,O,fa){H[0]=O[0]*fa;H[1]=O[1]*fa;H[2]=O[2]*fa;H[3]=O[3]*fa;H[4]=O[4]*fa;H[5]=O[5]*fa;H[6]=O[6]*fa;H[7]=O[7]*fa;H[8]=O[8]*fa;H[9]=O[9]*fa;H[10]=O[10]*fa;H[11]=O[11]*
fa;H[12]=O[12]*fa;H[13]=O[13]*fa;H[14]=O[14]*fa;H[15]=O[15]*fa;return H}function la(H,O,fa,Q){H[0]=O[0]+fa[0]*Q;H[1]=O[1]+fa[1]*Q;H[2]=O[2]+fa[2]*Q;H[3]=O[3]+fa[3]*Q;H[4]=O[4]+fa[4]*Q;H[5]=O[5]+fa[5]*Q;H[6]=O[6]+fa[6]*Q;H[7]=O[7]+fa[7]*Q;H[8]=O[8]+fa[8]*Q;H[9]=O[9]+fa[9]*Q;H[10]=O[10]+fa[10]*Q;H[11]=O[11]+fa[11]*Q;H[12]=O[12]+fa[12]*Q;H[13]=O[13]+fa[13]*Q;H[14]=O[14]+fa[14]*Q;H[15]=O[15]+fa[15]*Q;return H}function V(H,O){return H[0]===O[0]&&H[1]===O[1]&&H[2]===O[2]&&H[3]===O[3]&&H[4]===O[4]&&H[5]===
O[5]&&H[6]===O[6]&&H[7]===O[7]&&H[8]===O[8]&&H[9]===O[9]&&H[10]===O[10]&&H[11]===O[11]&&H[12]===O[12]&&H[13]===O[13]&&H[14]===O[14]&&H[15]===O[15]}function aa(H,O){if(H===O)return!0;const fa=H[0],Q=H[1],T=H[2],da=H[3],ea=H[4],pa=H[5],ma=H[6],L=H[7],R=H[8],U=H[9],sa=H[10],Aa=H[11],La=H[12],Pa=H[13],Sa=H[14];H=H[15];const Xa=O[0],ka=O[1],va=O[2],wa=O[3],Ja=O[4],Oa=O[5],ca=O[6],na=O[7],za=O[8],ua=O[9],Ea=O[10],Ga=O[11],Ma=O[12],Ua=O[13],oa=O[14];O=O[15];return Math.abs(fa-Xa)<=c.EPSILON*Math.max(1,Math.abs(fa),
Math.abs(Xa))&&Math.abs(Q-ka)<=c.EPSILON*Math.max(1,Math.abs(Q),Math.abs(ka))&&Math.abs(T-va)<=c.EPSILON*Math.max(1,Math.abs(T),Math.abs(va))&&Math.abs(da-wa)<=c.EPSILON*Math.max(1,Math.abs(da),Math.abs(wa))&&Math.abs(ea-Ja)<=c.EPSILON*Math.max(1,Math.abs(ea),Math.abs(Ja))&&Math.abs(pa-Oa)<=c.EPSILON*Math.max(1,Math.abs(pa),Math.abs(Oa))&&Math.abs(ma-ca)<=c.EPSILON*Math.max(1,Math.abs(ma),Math.abs(ca))&&Math.abs(L-na)<=c.EPSILON*Math.max(1,Math.abs(L),Math.abs(na))&&Math.abs(R-za)<=c.EPSILON*Math.max(1,
Math.abs(R),Math.abs(za))&&Math.abs(U-ua)<=c.EPSILON*Math.max(1,Math.abs(U),Math.abs(ua))&&Math.abs(sa-Ea)<=c.EPSILON*Math.max(1,Math.abs(sa),Math.abs(Ea))&&Math.abs(Aa-Ga)<=c.EPSILON*Math.max(1,Math.abs(Aa),Math.abs(Ga))&&Math.abs(La-Ma)<=c.EPSILON*Math.max(1,Math.abs(La),Math.abs(Ma))&&Math.abs(Pa-Ua)<=c.EPSILON*Math.max(1,Math.abs(Pa),Math.abs(Ua))&&Math.abs(Sa-oa)<=c.EPSILON*Math.max(1,Math.abs(Sa),Math.abs(oa))&&Math.abs(H-O)<=c.EPSILON*Math.max(1,Math.abs(H),Math.abs(O))}function Ca(H){const O=
c.EPSILON,fa=H[0],Q=H[1],T=H[2],da=H[4],ea=H[5],pa=H[6],ma=H[8],L=H[9];H=H[10];return Math.abs(1-(fa*fa+da*da+ma*ma))<=O&&Math.abs(1-(Q*Q+ea*ea+L*L))<=O&&Math.abs(1-(T*T+pa*pa+H*H))<=O}const Ia=b.create();b=Object.freeze({__proto__:null,copy:f,set:d,identity:l,transpose:u,invert:t,adjoint:g,determinant:n,multiply:m,translate:r,scale:q,rotate:k,rotateX:p,rotateY:e,rotateZ:h,fromTranslation:v,fromScaling:x,fromRotation:A,fromXRotation:w,fromYRotation:y,fromZRotation:z,fromRotationTranslation:C,fromQuat2:B,
getTranslation:D,getScaling:G,getRotation:K,fromRotationTranslationScale:M,fromRotationTranslationScaleOrigin:N,fromQuat:I,frustum:F,perspective:E,perspectiveFromFieldOfView:J,ortho:P,lookAt:W,targetTo:Z,str:Y,frob:S,add:qa,subtract:xa,multiplyScalar:Fa,multiplyScalarAndAdd:la,exactEquals:V,equals:aa,isOrthoNormal:Ca,mul:m,sub:xa});a.add=qa;a.adjoint=g;a.copy=f;a.determinant=n;a.equals=aa;a.exactEquals=V;a.frob=S;a.fromQuat=I;a.fromQuat2=B;a.fromRotation=A;a.fromRotationTranslation=C;a.fromRotationTranslationScale=
M;a.fromRotationTranslationScaleOrigin=N;a.fromScaling=x;a.fromTranslation=v;a.fromXRotation=w;a.fromYRotation=y;a.fromZRotation=z;a.frustum=F;a.getRotation=K;a.getScaling=G;a.getTranslation=D;a.identity=l;a.invert=t;a.isOrthoNormal=Ca;a.lookAt=W;a.mat4=b;a.mul=m;a.multiply=m;a.multiplyScalar=Fa;a.multiplyScalarAndAdd=la;a.ortho=P;a.perspective=E;a.perspectiveFromFieldOfView=J;a.rotate=k;a.rotateX=p;a.rotateY=e;a.rotateZ=h;a.scale=q;a.set=d;a.str=Y;a.sub=xa;a.subtract=xa;a.targetTo=Z;a.translate=
r;a.transpose=u})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(a){a.commonjsGlobal="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};a.commonjsRequire=function(b){throw Error('Could not dynamically require "'+b+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');};a.getDefaultExportFromCjs=
function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b["default"]:b}})},"esri/layers/effects/utils":function(){define(["exports","./effects"],function(a,b){a.canInterpolateEffects=function(c,f){const d=c.length>f.length?c:f;return(c.length>f.length?f:c).every((l,u)=>l.type===d[u].type)};a.isEffectFunctions=function(c){return(c=c[0])?"type"in c:!1};a.normalizeEffects=function(c,f){const d=c.length>f.length?c:f;c=c.length>f.length?f:c;for(f=c.length;f<d.length;f++)c.push(b.createEffectWithInitialValues(d[f]))};
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/CustomParametersMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t){a.CustomParametersMixin=g=>{g=function(n){function m(){var r=n.apply(this,arguments)||this;r.customParameters=
null;return r}b._inheritsLoose(m,n);return m}(g);c.__decorate([f.property({type:Object,json:{write:{overridePolicy(n){return{enabled:!!(n&&0<Object.keys(n).length)}}}}})],g.prototype,"customParameters",void 0);return g=c.__decorate([t.subclass("esri.layers.mixins.CustomParametersMixin")],g)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/FeatureEffectLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/FeatureEffect".split(" "),
function(a,b,c,f,d,l,u,t,g){a.FeatureEffectLayer=n=>{n=function(m){function r(){var q=m.apply(this,arguments)||this;q.featureEffect=null;return q}b._inheritsLoose(r,m);return r}(n);c.__decorate([f.property({type:g,json:{origins:{"web-map":{write:{allowNull:!0}}}}})],n.prototype,"featureEffect",void 0);return n=c.__decorate([t.subclass("esri.layers.mixins.FeatureEffectLayer")],n)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FeatureEffect":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/JSONSupport ../../core/maybe ../../core/object ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils ./FeatureFilter".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q){var k;f=k=function(p){function e(v){v=p.call(this,v)||this;v.filter=null;v.includedEffect=null;v.excludedEffect=null;v.excludedLabelsVisible=!1;return v}a._inheritsLoose(e,p);var h=e.prototype;h.write=function(v,x){v=p.prototype.write.call(this,v,x);if(null!=x&&x.origin){if(v.filter){const y=Object.keys(v.filter);if(1<y.length||"where"!==y[0]){var A;null==(A=x.messages)?void 0:A.push(new c("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",
{layer:x.layer,effect:this}));return null}}if("showExcludedLabels"in v){var w;null==(w=x.messages)?void 0:w.push(new c("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:x.layer,effect:this}));return null}}return v};h.clone=function(){return new k({filter:d.isSome(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})};
return e}(f.JSONSupport);b.__decorate([u.property({type:q,json:{write:{allowNull:!0,writer(p,e,h,v){(p=null==p?void 0:p.write({},v))&&0!==Object.keys(p).length?l.setDeepValue(h,p,e):l.setDeepValue(h,null,e)}}}})],f.prototype,"filter",void 0);b.__decorate([u.property({json:{write:!0,origins:{"web-map":{read:{reader:r.read},write:{writer:r.write,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}}}}})],f.prototype,"includedEffect",void 0);b.__decorate([u.property({json:{write:!0,
origins:{"web-map":{read:{reader:r.read},write:{writer:r.write,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}}}}})],f.prototype,"excludedEffect",void 0);b.__decorate([u.property({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":{name:"showExcludedLabels",default:!0}}}})],f.prototype,"excludedLabelsVisible",void 0);return f=k=b.__decorate([m.subclass("esri.layers.support.FeatureEffect")],f)})},"esri/layers/support/FeatureFilter":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../rest/support/Query".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r){var q;n=new d.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});d=new d.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});l=q=function(k){function p(h){h=k.call(this,h)||this;h.where=null;h.geometry=null;h.spatialRelationship="intersects";h.distance=void 0;h.objectIds=null;h.units=null;h.timeExtent=null;return h}a._inheritsLoose(p,k);var e=p.prototype;e.createQuery=function(h={}){const {where:v,geometry:x,spatialRelationship:A,timeExtent:w,objectIds:y,units:z,distance:C}=this;
return new r({geometry:u.clone(x),objectIds:u.clone(y),spatialRelationship:A,timeExtent:u.clone(w),where:v,units:z,distance:C,...h})};e.clone=function(){const {where:h,geometry:v,spatialRelationship:x,timeExtent:A,objectIds:w,units:y,distance:z}=this;return new q({geometry:u.clone(v),objectIds:u.clone(w),spatialRelationship:x,timeExtent:u.clone(A),where:h,units:y,distance:z})};return p}(l.JSONSupport);b.__decorate([g.property({type:String,json:{write:!0}})],l.prototype,"where",void 0);b.__decorate([g.property({types:c.geometryTypes,
json:{write:!0}})],l.prototype,"geometry",void 0);b.__decorate([g.property({type:n.apiValues,json:{name:"spatialRel",read:{reader:n.read},write:{allowNull:!1,writer:n.write,overridePolicy(){return{enabled:t.isSome(this.geometry)}}}}})],l.prototype,"spatialRelationship",void 0);b.__decorate([g.property({type:Number,json:{write:{overridePolicy(k){return{enabled:null!=k&&null!=this.geometry}}}}})],l.prototype,"distance",void 0);b.__decorate([g.property({type:[Number],json:{write:!0}})],l.prototype,"objectIds",
void 0);b.__decorate([g.property({type:d.apiValues,json:{read:d.read,write:{writer:d.write,overridePolicy(k){return{enabled:null!=k&&null!=this.geometry}}}}})],l.prototype,"units",void 0);b.__decorate([g.property({type:f,json:{write:!0}})],l.prototype,"timeExtent",void 0);return l=q=b.__decorate([m.subclass("esri.layers.support.FeatureFilter")],l)})},"esri/rest/support/Query":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../layers/support/source/DataLayerSource ./QuantizationParameters ./StatisticDefinition ../../geometry/SpatialReference ../../geometry/Point".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A){var w;const y=new d.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});d=new d.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});l=w=function(z){function C(D){D=z.call(this,D)||this;D.aggregateIds=null;D.cacheHint=void 0;D.compactGeometryEnabled=!1;D.datumTransformation=null;D.defaultSpatialReferenceEnabled=!1;D.distance=void 0;D.dynamicDataSource=void 0;D.formatOf3DObjects=null;D.gdbVersion=null;D.geometry=null;D.geometryPrecision=void 0;D.groupByFieldsForStatistics=null;D.having=null;
D.historicMoment=null;D.maxAllowableOffset=void 0;D.maxRecordCountFactor=1;D.multipatchOption=null;D.num=void 0;D.objectIds=null;D.orderByFields=null;D.outFields=null;D.outSpatialReference=null;D.outStatistics=null;D.parameterValues=null;D.pixelSize=null;D.quantizationParameters=null;D.rangeValues=null;D.relationParameter=null;D.resultType=null;D.returnCentroid=!1;D.returnDistinctValues=!1;D.returnExceededLimitFeatures=!0;D.returnGeometry=!1;D.returnQueryGeometry=!1;D.returnM=void 0;D.returnZ=void 0;
D.sourceSpatialReference=null;D.spatialRelationship="intersects";D.start=void 0;D.sqlFormat=null;D.text=null;D.timeExtent=null;D.timeReferenceUnknownClient=!1;D.units=null;D.where=null;return D}a._inheritsLoose(C,z);C.from=function(D){return k.ensureClass(w,D)};var B=C.prototype;B.castDatumTransformation=function(D){return"number"===typeof D||"object"===typeof D?D:null};B.writeHistoricMoment=function(D,G){G.historicMoment=D&&D.getTime()};B.writeParameterValues=function(D,G){if(D){const K={};for(const M in D){const N=
D[M];Array.isArray(N)?K[M]=N.map(I=>I instanceof Date?I.getTime():I):K[M]=N instanceof Date?N.getTime():N}G.parameterValues=K}};B.writeStart=function(D,G){G.resultOffset=this.start;G.resultRecordCount=this.num||10;G.where="1\x3d1"};B.writeWhere=function(D,G){G.where=D||"1\x3d1"};B.clone=function(){return new w(u.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,
distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:t.isSome(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,
outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,
returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))};return C}(l.JSONSupport);l.MAX_MAX_RECORD_COUNT_FACTOR=5;b.__decorate([g.property({json:{write:!0}})],l.prototype,"aggregateIds",void 0);b.__decorate([g.property({type:Boolean,
json:{write:!0}})],l.prototype,"cacheHint",void 0);b.__decorate([g.property({type:Boolean,json:{default:!1,write:!0}})],l.prototype,"compactGeometryEnabled",void 0);b.__decorate([g.property({json:{write:!0}})],l.prototype,"datumTransformation",void 0);b.__decorate([n.cast("datumTransformation")],l.prototype,"castDatumTransformation",null);b.__decorate([g.property({type:Boolean,json:{default:!1,write:!0}})],l.prototype,"defaultSpatialReferenceEnabled",void 0);b.__decorate([g.property({type:Number,
json:{write:{overridePolicy(z){return{enabled:0<z}}}}})],l.prototype,"distance",void 0);b.__decorate([g.property({type:e.DataLayerSource,json:{write:!0}})],l.prototype,"dynamicDataSource",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],l.prototype,"formatOf3DObjects",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],l.prototype,"gdbVersion",void 0);b.__decorate([g.property({types:c.geometryTypes,json:{read:p.fromJSON,write:!0}})],l.prototype,"geometry",void 0);b.__decorate([g.property({type:Number,
json:{write:!0}})],l.prototype,"geometryPrecision",void 0);b.__decorate([g.property({type:[String],json:{write:!0}})],l.prototype,"groupByFieldsForStatistics",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],l.prototype,"having",void 0);b.__decorate([g.property({type:Date})],l.prototype,"historicMoment",void 0);b.__decorate([q.writer("historicMoment")],l.prototype,"writeHistoricMoment",null);b.__decorate([g.property({type:Number,json:{write:!0}})],l.prototype,"maxAllowableOffset",
void 0);b.__decorate([g.property({type:Number,cast(z){return 1>z?1:z>w.MAX_MAX_RECORD_COUNT_FACTOR?w.MAX_MAX_RECORD_COUNT_FACTOR:z},json:{write:{overridePolicy(z){return{enabled:1<z}}}}})],l.prototype,"maxRecordCountFactor",void 0);b.__decorate([g.property({type:["xyFootprint"],json:{write:!0}})],l.prototype,"multipatchOption",void 0);b.__decorate([g.property({type:Number,json:{read:{source:"resultRecordCount"}}})],l.prototype,"num",void 0);b.__decorate([g.property({json:{write:!0}})],l.prototype,
"objectIds",void 0);b.__decorate([g.property({type:[String],json:{write:!0}})],l.prototype,"orderByFields",void 0);b.__decorate([g.property({type:[String],json:{write:!0}})],l.prototype,"outFields",void 0);b.__decorate([g.property({type:x,json:{name:"outSR",write:!0}})],l.prototype,"outSpatialReference",void 0);b.__decorate([g.property({type:[v],json:{write:{enabled:!0,overridePolicy(){return{enabled:t.isSome(this.outStatistics)&&0<this.outStatistics.length}}}}})],l.prototype,"outStatistics",void 0);
b.__decorate([g.property({json:{write:!0}})],l.prototype,"parameterValues",void 0);b.__decorate([q.writer("parameterValues")],l.prototype,"writeParameterValues",null);b.__decorate([g.property({type:A,json:{write:!0}})],l.prototype,"pixelSize",void 0);b.__decorate([g.property({type:h,json:{write:!0}})],l.prototype,"quantizationParameters",void 0);b.__decorate([g.property({type:[Object],json:{write:!0}})],l.prototype,"rangeValues",void 0);b.__decorate([g.property({type:String,json:{read:{source:"relationParam"},
write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],l.prototype,"relationParameter",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],l.prototype,"resultType",void 0);b.__decorate([g.property({type:Boolean,json:{default:!1,write:!0}})],l.prototype,"returnCentroid",void 0);b.__decorate([g.property({type:Boolean,json:{default:!1,write:!0}})],l.prototype,"returnDistinctValues",void 0);b.__decorate([g.property({type:Boolean,json:{default:!0,
write:!0}})],l.prototype,"returnExceededLimitFeatures",void 0);b.__decorate([g.property({type:Boolean,json:{write:!0}})],l.prototype,"returnGeometry",void 0);b.__decorate([g.property({type:Boolean,json:{default:!1,write:!0}})],l.prototype,"returnQueryGeometry",void 0);b.__decorate([g.property({type:Boolean,json:{default:!1,write:!0}})],l.prototype,"returnM",void 0);b.__decorate([g.property({type:Boolean,json:{write:{overridePolicy(z){return{enabled:z}}}}})],l.prototype,"returnZ",void 0);b.__decorate([g.property({type:x,
json:{write:!0}})],l.prototype,"sourceSpatialReference",void 0);b.__decorate([m.enumeration(y,{ignoreUnknown:!1,name:"spatialRel"})],l.prototype,"spatialRelationship",void 0);b.__decorate([g.property({type:Number,json:{read:{source:"resultOffset"}}})],l.prototype,"start",void 0);b.__decorate([q.writer("start"),q.writer("num")],l.prototype,"writeStart",null);b.__decorate([g.property({type:String,json:{write:!0}})],l.prototype,"sqlFormat",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],
l.prototype,"text",void 0);b.__decorate([g.property({type:f,json:{write:!0}})],l.prototype,"timeExtent",void 0);b.__decorate([g.property({type:Boolean,json:{default:!1,write:!0}})],l.prototype,"timeReferenceUnknownClient",void 0);b.__decorate([m.enumeration(d,{ignoreUnknown:!1}),g.property({json:{write:{overridePolicy(z){return{enabled:z&&0<this.distance}}}}})],l.prototype,"units",void 0);b.__decorate([g.property({type:String,json:{write:{overridePolicy(z){return{enabled:null!=z||0<this.start}}}}})],
l.prototype,"where",void 0);b.__decorate([q.writer("where")],l.prototype,"writeWhere",null);return l=w=b.__decorate([r.subclass("esri.rest.support.Query")],l)})},"esri/layers/support/source/DataLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/extensions/serializableProperty/reader ../Field ./MapLayerSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x){function A(){C||(C=k.createTypeReader({types:w()}));return C}function w(){B||(B={key:"type",base:null,typeMap:{"data-layer":a.DataLayerSource,"map-layer":e.MapLayerSource}});return B}var y,z;f=f.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});a.JoinTableDataSource=y=function(D){function G(M){M=D.call(this,M)||this;M.type="join-table";return M}b._inheritsLoose(G,D);var K=G.prototype;K.readLeftTableSource=function(M,
N,I){return A()(M,N,I)};K.castLeftTableSource=function(M){return q.ensureOneOfType(w(),M)};K.readRightTableSource=function(M,N,I){return A()(M,N,I)};K.castRightTableSource=function(M){return q.ensureOneOfType(w(),M)};K.clone=function(){var M,N;const {leftTableKey:I,rightTableKey:F,leftTableSource:E,rightTableSource:J,joinType:P}=this,W={leftTableKey:I,rightTableKey:F,leftTableSource:null!=(M=null==E?void 0:E.clone())?M:void 0,rightTableSource:null!=(N=null==J?void 0:J.clone())?N:void 0,joinType:P};
return new y(W)};return G}(d.JSONSupport);c.__decorate([n.enumeration({joinTable:"join-table"})],a.JoinTableDataSource.prototype,"type",void 0);c.__decorate([l.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableKey",void 0);c.__decorate([l.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableKey",void 0);c.__decorate([l.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableSource",void 0);c.__decorate([m.reader("leftTableSource")],
a.JoinTableDataSource.prototype,"readLeftTableSource",null);c.__decorate([g.cast("leftTableSource")],a.JoinTableDataSource.prototype,"castLeftTableSource",null);c.__decorate([l.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableSource",void 0);c.__decorate([m.reader("rightTableSource")],a.JoinTableDataSource.prototype,"readRightTableSource",null);c.__decorate([g.cast("rightTableSource")],a.JoinTableDataSource.prototype,"castRightTableSource",null);c.__decorate([n.enumeration(f)],
a.JoinTableDataSource.prototype,"joinType",void 0);a.JoinTableDataSource=y=c.__decorate([r.subclass("esri.layers.support.source.JoinTableDataSource")],a.JoinTableDataSource);let C=null,B=null;g={key:"type",base:null,typeMap:{"join-table":a.JoinTableDataSource,"query-table":h.QueryTableDataSource,raster:v.RasterDataSource,table:x.TableDataSource}};a.DataLayerSource=z=function(D){function G(K){K=D.call(this,K)||this;K.type="data-layer";return K}b._inheritsLoose(G,D);G.prototype.clone=function(){const {fields:K,
dataSource:M}=this;return new z({fields:K,dataSource:M})};return G}(d.JSONSupport);c.__decorate([n.enumeration({dataLayer:"data-layer"})],a.DataLayerSource.prototype,"type",void 0);c.__decorate([l.property({type:[p],json:{write:!0}})],a.DataLayerSource.prototype,"fields",void 0);c.__decorate([l.property({types:g,json:{write:!0}})],a.DataLayerSource.prototype,"dataSource",void 0);a.DataLayerSource=z=c.__decorate([r.subclass("esri.layers.support.source.DataLayerSource")],a.DataLayerSource);a.DataLayerSource.from=
q.ensureType(a.DataLayerSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,
b,c,f,d,l,u,t,g,n){var m;a.MapLayerSource=m=function(r){function q(k){k=r.call(this,k)||this;k.type="map-layer";return k}b._inheritsLoose(q,r);q.prototype.clone=function(){const {mapLayerId:k,gdbVersion:p}=this;return new m({mapLayerId:k,gdbVersion:p})};return q}(f.JSONSupport);c.__decorate([g.enumeration({mapLayer:"map-layer"})],a.MapLayerSource.prototype,"type",void 0);c.__decorate([d.property({type:t.Integer,json:{write:!0}})],a.MapLayerSource.prototype,"mapLayerId",void 0);c.__decorate([d.property({type:String,
json:{write:!0}})],a.MapLayerSource.prototype,"gdbVersion",void 0);a.MapLayerSource=m=c.__decorate([n.subclass("esri.layers.support.source.MapLayerSource")],a.MapLayerSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../geometry/SpatialReference ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q){var k;a.QueryTableDataSource=k=function(p){function e(h){h=p.call(this,h)||this;h.type="query-table";return h}b._inheritsLoose(e,p);e.prototype.clone=function(){var h;const {workspaceId:v,query:x,oidFields:A,spatialReference:w,geometryType:y}=this,z={workspaceId:v,query:x,oidFields:A,spatialReference:null!=(h=null==w?void 0:w.clone())?h:void 0,geometryType:y};return new k(z)};return e}(d.JSONSupport);c.__decorate([n.enumeration({queryTable:"query-table"})],a.QueryTableDataSource.prototype,
"type",void 0);c.__decorate([l.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"workspaceId",void 0);c.__decorate([l.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"query",void 0);c.__decorate([l.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"oidFields",void 0);c.__decorate([l.property({type:r,json:{write:!0}})],a.QueryTableDataSource.prototype,"spatialReference",void 0);c.__decorate([n.enumeration(q.featureGeometryTypeKebabDictionary)],
a.QueryTableDataSource.prototype,"geometryType",void 0);a.QueryTableDataSource=k=c.__decorate([m.subclass("esri.layers.support.source.QueryTableDataSource")],a.QueryTableDataSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g,n){var m;a.RasterDataSource=m=function(r){function q(k){k=r.call(this,k)||this;k.type="raster";return k}b._inheritsLoose(q,r);q.prototype.clone=function(){const {workspaceId:k,dataSourceName:p}=this;return new m({workspaceId:k,dataSourceName:p})};return q}(f.JSONSupport);c.__decorate([g.enumeration({raster:"raster"})],a.RasterDataSource.prototype,"type",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"dataSourceName",void 0);
c.__decorate([d.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"workspaceId",void 0);a.RasterDataSource=m=c.__decorate([n.subclass("esri.layers.support.source.RasterDataSource")],a.RasterDataSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g,n){var m;a.TableDataSource=m=function(r){function q(k){k=r.call(this,k)||this;k.type="table";return k}b._inheritsLoose(q,r);q.prototype.clone=function(){const {workspaceId:k,gdbVersion:p,dataSourceName:e}=this;return new m({workspaceId:k,gdbVersion:p,dataSourceName:e})};return q}(f.JSONSupport);c.__decorate([g.enumeration({table:"table"})],a.TableDataSource.prototype,"type",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"workspaceId",
void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"gdbVersion",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"dataSourceName",void 0);a.TableDataSource=m=c.__decorate([n.subclass("esri.layers.support.source.TableDataSource")],a.TableDataSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/support/QuantizationParameters":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../geometry/Extent".split(" "),
function(a,b,c,f,d,l,u,t,g,n){var m;c=new f.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});d=m=function(r){function q(k){k=r.call(this,k)||this;k.extent=null;k.mode="view";k.originPosition="upper-left";k.tolerance=1;return k}a._inheritsLoose(q,r);q.prototype.clone=function(){return new m(l.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))};return q}(d.JSONSupport);b.__decorate([u.property({type:n,json:{write:{overridePolicy(){return{enabled:"view"===
this.mode}}}}})],d.prototype,"extent",void 0);b.__decorate([u.property({type:["view","edit"],json:{write:!0}})],d.prototype,"mode",void 0);b.__decorate([u.property({type:String,json:{read:c.read,write:c.write}})],d.prototype,"originPosition",void 0);b.__decorate([u.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],d.prototype,"tolerance",void 0);return d=m=b.__decorate([g.subclass("esri.rest.support.QuantizationParameters")],d)})},"esri/rest/support/StatisticDefinition":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;c=new c.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});f=n=function(m){function r(k){k=m.call(this,k)||this;k.maxPointCount=void 0;k.maxRecordCount=void 0;k.maxVertexCount=void 0;k.onStatisticField=
null;k.outStatisticFieldName=null;k.statisticType=null;k.statisticParameters=null;return k}a._inheritsLoose(r,m);var q=r.prototype;q.writeStatisticParameters=function(k,p){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)p.statisticParameters=d.clone(k)};q.clone=function(){return new n({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,
statisticType:this.statisticType,statisticParameters:d.clone(this.statisticParameters)})};return r}(f.JSONSupport);b.__decorate([l.property({type:Number,json:{write:!0}})],f.prototype,"maxPointCount",void 0);b.__decorate([l.property({type:Number,json:{write:!0}})],f.prototype,"maxRecordCount",void 0);b.__decorate([l.property({type:Number,json:{write:!0}})],f.prototype,"maxVertexCount",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"onStatisticField",void 0);b.__decorate([l.property({type:String,
json:{write:!0}})],f.prototype,"outStatisticFieldName",void 0);b.__decorate([l.property({type:String,json:{read:{source:"statisticType",reader:c.read},write:{target:"statisticType",writer:c.write}}})],f.prototype,"statisticType",void 0);b.__decorate([l.property({type:Object})],f.prototype,"statisticParameters",void 0);b.__decorate([g.writer("statisticParameters")],f.prototype,"writeStatisticParameters",null);return f=n=b.__decorate([t.subclass("esri.rest.support.StatisticDefinition")],f)})},"esri/layers/mixins/OrderedLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/object ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/OrderByInfo".split(" "),
function(a,b,c,f,d,l,u,t,g,n){function m(q,k,p){if(!q)return null;q=q.find(e=>!!e.field);if(!q)return null;k=new n;k.read(q,p);return[k]}function r(q,k,p,e){(q=q.find(h=>!!h.field))&&f.setDeepValue(p,[q.toJSON()],k)}a.OrderedLayer=q=>{q=function(k){function p(){var e=k.apply(this,arguments)||this;e.orderBy=null;return e}b._inheritsLoose(p,k);return p}(q);c.__decorate([d.property({type:[n],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:m},write:{target:"layerDefinition.orderBy",
writer:r}}})],q.prototype,"orderBy",void 0);return q=c.__decorate([g.subclass("esri.layers.mixins.OrderedLayer")],q)};a.isOrderedLayer=function(q){return void 0!==q.orderBy};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/OrderByInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;c=new c.JSONMap({asc:"ascending",desc:"descending"});f=n=function(m){function r(q){q=m.call(this,q)||this;q.field=null;q.valueExpression=null;q.order="ascending";return q}a._inheritsLoose(r,m);r.prototype.clone=function(){return new n({field:this.field,valueExpression:this.valueExpression,order:this.order})};return r}(f.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"field",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],
f.prototype,"valueExpression",void 0);b.__decorate([d.property({type:c.apiValues,json:{read:c.read,write:c.write}})],f.prototype,"order",void 0);return f=n=b.__decorate([g.subclass("esri.layers.support.OrderByInfo")],f)})},"esri/layers/mixins/TemporalLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../support/TimeInfo ../support/fieldUtils ../../portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k){a.TemporalLayer=p=>{p=function(e){function h(){var v=e.apply(this,arguments)||this;v.timeExtent=null;v.timeOffset=null;v.useViewTime=!0;return v}b._inheritsLoose(h,e);h.prototype.readOffset=function(v,x){x=x.timeInfo.exportOptions;if(!x)return null;v=x.timeOffset;x=k.timeUnitKebabDictionary.fromJSON(x.timeOffsetUnits);return v&&x?new d({value:v,unit:x}):null};b._createClass(h,[{key:"timeInfo",set:function(v){q.fixTimeInfoFields(v,this.fieldsIndex);this._set("timeInfo",
v)}}]);return h}(p);c.__decorate([l.property({type:f,json:{write:!1}})],p.prototype,"timeExtent",void 0);c.__decorate([l.property({type:d})],p.prototype,"timeOffset",void 0);c.__decorate([n.reader("service","timeOffset",["timeInfo.exportOptions"])],p.prototype,"readOffset",null);c.__decorate([l.property({value:null,type:r,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],p.prototype,"timeInfo",null);c.__decorate([l.property({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},
origins:{"web-scene":{read:!1,write:!1}}}})],p.prototype,"useViewTime",void 0);return p=c.__decorate([m.subclass("esri.layers.mixins.TemporalLayer")],p)};a.isTemporalLayer=function(p){return void 0!==p.timeInfo};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/TimeInterval":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/JSONSupport ./core/timeUtils ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,f,d,l,u,t,g,n){var m;c=m=function(r){function q(p){p=r.call(this,p)||this;p.value=0;p.unit="milliseconds";return p}a._inheritsLoose(q,r);var k=q.prototype;k.toMilliseconds=function(){return f.convertTime(this.value,this.unit,"milliseconds")};k.clone=function(){return new m({value:this.value,unit:this.unit})};return q}(c.JSONSupport);b.__decorate([d.property({type:Number,json:{write:!0},nonNullable:!0})],c.prototype,"value",void 0);b.__decorate([d.property({type:n.timeUnitKebabDictionary.apiValues,
json:{type:n.timeUnitKebabDictionary.jsonValues,read:n.timeUnitKebabDictionary.read,write:n.timeUnitKebabDictionary.write},nonNullable:!0})],c.prototype,"unit",void 0);return c=m=b.__decorate([g.subclass("esri.TimeInterval")],c)})},"esri/portal/timeUnitKebabDictionary":function(){define(["exports","../core/jsonMap"],function(a,b){b=b.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",
esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});a.timeUnitKebabDictionary=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/TimeInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./TimeReference ../../portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k){var p;d=p=function(e){function h(x){x=e.call(this,x)||this;x.cumulative=!1;x.endField=null;x.fullTimeExtent=null;x.hasLiveData=!1;x.interval=null;x.startField=null;x.timeReference=null;x.trackIdField=null;x.useTime=!0;return x}a._inheritsLoose(h,e);var v=h.prototype;v.readFullTimeExtent=function(x,A){return A.timeExtent&&Array.isArray(A.timeExtent)&&2===A.timeExtent.length?new c({start:new Date(A.timeExtent[0]),end:new Date(A.timeExtent[1])}):null};v.writeFullTimeExtent=
function(x,A){x&&u.isSome(x.start)&&u.isSome(x.end)?A.timeExtent=[x.start.getTime(),x.end.getTime()]:A.timeExtent=null};v.readInterval=function(x,A){return A.timeInterval&&A.timeIntervalUnits?new f({value:A.timeInterval,unit:k.timeUnitKebabDictionary.fromJSON(A.timeIntervalUnits)}):A.defaultTimeInterval&&A.defaultTimeIntervalUnits?new f({value:A.defaultTimeInterval,unit:k.timeUnitKebabDictionary.fromJSON(A.defaultTimeIntervalUnits)}):null};v.writeInterval=function(x,A){x?(x=x.toJSON(),A.timeInterval=
x.value,A.timeIntervalUnits=x.unit):(A.timeInterval=null,A.timeIntervalUnits=null)};v.clone=function(){const {cumulative:x,endField:A,hasLiveData:w,interval:y,startField:z,timeReference:C,fullTimeExtent:B,trackIdField:D,useTime:G}=this;return new p({cumulative:x,endField:A,hasLiveData:w,interval:y,startField:z,timeReference:l.clone(C),fullTimeExtent:l.clone(B),trackIdField:D,useTime:G})};return h}(d.JSONSupport);b.__decorate([t.property({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},
write:{target:"exportOptions.timeDataCumulative"}}})],d.prototype,"cumulative",void 0);b.__decorate([t.property({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],d.prototype,"endField",void 0);b.__decorate([t.property({type:c,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"fullTimeExtent",void 0);b.__decorate([n.reader("fullTimeExtent",["timeExtent"])],d.prototype,"readFullTimeExtent",null);b.__decorate([r.writer("fullTimeExtent")],d.prototype,"writeFullTimeExtent",
null);b.__decorate([t.property({type:Boolean,json:{write:!0}})],d.prototype,"hasLiveData",void 0);b.__decorate([t.property({type:f,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"interval",void 0);b.__decorate([n.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],d.prototype,"readInterval",null);b.__decorate([r.writer("interval")],d.prototype,"writeInterval",null);b.__decorate([t.property({type:String,json:{read:{source:"startTimeField"},
write:{target:"startTimeField",allowNull:!0}}})],d.prototype,"startField",void 0);b.__decorate([t.property({type:q,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"timeReference",void 0);b.__decorate([t.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"trackIdField",void 0);b.__decorate([t.property({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],d.prototype,"useTime",void 0);return d=p=b.__decorate([m.subclass("esri.layers.support.TimeInfo")],
d)})},"esri/layers/support/TimeReference":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t,g){var n;c=n=function(m){function r(k){k=m.call(this,k)||this;k.respectsDaylightSaving=!1;k.timezone=null;
return k}a._inheritsLoose(r,m);var q=r.prototype;q.readRespectsDaylightSaving=function(k,p){return void 0!==p.respectsDaylightSaving?p.respectsDaylightSaving:void 0!==p.respectDaylightSaving?p.respectDaylightSaving:!1};q.clone=function(){const {respectsDaylightSaving:k,timezone:p}=this;return new n({respectsDaylightSaving:k,timezone:p})};return r}(c.JSONSupport);b.__decorate([f.property({type:Boolean,json:{write:!0}})],c.prototype,"respectsDaylightSaving",void 0);b.__decorate([t.reader("respectsDaylightSaving",
["respectsDaylightSaving","respectDaylightSaving"])],c.prototype,"readRespectsDaylightSaving",null);b.__decorate([f.property({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],c.prototype,"timezone",void 0);return c=n=b.__decorate([g.subclass("esri.layers.support.TimeReference")],c)})},"esri/layers/support/FeatureIndex":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;a.FeatureIndex=n=function(m){function r(q){return m.call(this,q)||this}b._inheritsLoose(r,m);r.prototype.clone=function(){const {name:q,fields:k,isAscending:p,isUnique:e,description:h}=this;return new n({name:q,fields:k,isAscending:p,isUnique:e,description:h})};return r}(f.JSONSupport);c.__decorate([d.property({constructOnly:!0})],a.FeatureIndex.prototype,"name",void 0);c.__decorate([d.property({constructOnly:!0})],a.FeatureIndex.prototype,"fields",void 0);c.__decorate([d.property({constructOnly:!0})],
a.FeatureIndex.prototype,"isAscending",void 0);c.__decorate([d.property({constructOnly:!0})],a.FeatureIndex.prototype,"isUnique",void 0);c.__decorate([d.property({constructOnly:!0})],a.FeatureIndex.prototype,"description",void 0);a.FeatureIndex=n=c.__decorate([g.subclass("esri.layers.support.FeatureIndex")],a.FeatureIndex);a.default=a.FeatureIndex;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/featureReductionUtils":function(){define(["exports","./FeatureReduction","./FeatureReductionCluster",
"./FeatureReductionSelection"],function(a,b,c,f){a.featureReductionProperty={types:{key:"type",base:b.default,typeMap:{selection:f,cluster:c}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:{key:"type",base:b.default,typeMap:{selection:c}}},"web-scene":{types:{key:"type",base:b.default,typeMap:{selection:f}}}}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FeatureReduction":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g){a.FeatureReduction=function(n){function m(){var r=n.apply(this,arguments)||this;r.type=null;return r}b._inheritsLoose(m,n);return m}(f.JSONSupport);c.__decorate([d.property({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],a.FeatureReduction.prototype,"type",void 0);a.FeatureReduction=c.__decorate([g.subclass("esri.layers.support.FeatureReduction")],a.FeatureReduction);a.default=a.FeatureReduction;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FeatureReductionCluster":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../PopupTemplate ../../symbols ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AggregateField ./commonProperties ./LabelClass".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q){var k;d=k=function(p){function e(h){h=p.call(this,h)||this;h.type="cluster";h.clusterRadius=u.toPt("80px");h.clusterMinSize=u.toPt("12px");h.clusterMaxSize=u.toPt("50px");h.popupEnabled=!0;h.popupTemplate=null;h.symbol=null;h.labelingInfo=null;h.labelsVisible=!0;h.fields=null;return h}a._inheritsLoose(e,p);e.prototype.clone=function(){return new k({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:l.clone(this.labelingInfo),
labelsVisible:this.labelsVisible,fields:l.clone(this.fields),popupEnabled:this.popupEnabled,popupTemplate:l.clone(this.popupTemplate)})};return e}(d.JSONSupport);b.__decorate([t.property({type:["cluster"],readOnly:!0,json:{write:!0}})],d.prototype,"type",void 0);b.__decorate([t.property({type:Number,cast:p=>"auto"===p?p:u.toPt(p),json:{write:!0}})],d.prototype,"clusterRadius",void 0);b.__decorate([t.property({type:Number,cast:u.toPt,json:{write:!0}})],d.prototype,"clusterMinSize",void 0);b.__decorate([t.property({type:Number,
cast:u.toPt,json:{write:!0}})],d.prototype,"clusterMaxSize",void 0);b.__decorate([t.property(r.popupEnabled)],d.prototype,"popupEnabled",void 0);b.__decorate([t.property({type:c,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],d.prototype,"popupTemplate",void 0);b.__decorate([t.property({types:f.symbolTypesCluster})],d.prototype,"symbol",void 0);b.__decorate([t.property({type:[q],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],d.prototype,
"labelingInfo",void 0);b.__decorate([t.property(r.labelsVisible)],d.prototype,"labelsVisible",void 0);b.__decorate([t.property({type:[m],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],d.prototype,"fields",void 0);return d=k=b.__decorate([n.subclass("esri.layers.support.FeatureReductionCluster")],d)})},"esri/layers/support/AggregateField":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./OutStatistic".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;c=n=function(m){function r(){var q=m.apply(this,arguments)||this;q.name=null;return q}a._inheritsLoose(r,m);r.prototype.clone=function(){return new n({name:this.name,outStatistic:this.outStatistic.clone()})};return r}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([f.property({type:g,json:{write:!0}})],c.prototype,"outStatistic",void 0);return c=n=b.__decorate([t.subclass("esri.layers.support.AggregateField")],
c)})},"esri/layers/support/OutStatistic":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t){var g;c=g=function(n){function m(){var r=n.apply(this,arguments)||this;r.statisticType=null;r.onStatisticField=null;r.onStatisticValueExpression=null;
return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})};return m}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"statisticType",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"onStatisticField",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"onStatisticValueExpression",
void 0);return c=g=b.__decorate([t.subclass("esri.layers.support.OutStatistic")],c)})},"esri/layers/support/LabelClass":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../symbols ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./LabelExpressionInfo ./labelUtils ../../symbols/support/defaults ../../symbols/support/jsonUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e){function h(A){return"map-image"===(null==A?void 0:A.type)}function v(A){var w,y;return h(A)?!(null==(w=A.capabilities)||null==(y=w.exportMap)||!y.supportsArcadeExpressionForLabeling):!1}var x;f=new f.JSONMap({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",
esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",
esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},
{ignoreUnknown:!0});d=x=function(A){function w(z){z=A.call(this,z)||this;z.type="label";z.name=null;z.allowOverrun=!1;z.deconflictionStrategy="static";z.labelExpression=null;z.labelExpressionInfo=null;z.labelPlacement=null;z.labelPosition="curved";z.maxScale=0;z.minScale=0;z.repeatLabel=!0;z.repeatLabelDistance=null;z.symbol=p.defaultTextSymbol2D;z.useCodedValues=void 0;z.where=null;return z}a._inheritsLoose(w,A);w.evaluateWhere=function(z,C){const B=function(D,G,K){switch(G){case "\x3d":return D==
K?!0:!1;case "\x3c\x3e":return D!=K?!0:!1;case "\x3e":return D>K?!0:!1;case "\x3e\x3d":return D>=K?!0:!1;case "\x3c":return D<K?!0:!1;case "\x3c\x3d":return D<=K?!0:!1}return!1};try{if(null==z)return!0;const D=z.split(" ");if(3===D.length)return B(C[D[0]],D[1],D[2]);if(7===D.length){const G=B(C[D[0]],D[1],D[2]),K=D[3],M=B(C[D[4]],D[5],D[6]);switch(K){case "AND":return G&&M;case "OR":return G||M}}return!1}catch(D){console.log("Error.: can't parse \x3d "+z)}};var y=w.prototype;y.readLabelExpression=
function(z,C){C=C.labelExpressionInfo;if(!C||!C.value&&!C.expression)return z};y.writeLabelExpression=function(z,C,B){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)z=k.templateStringToSql(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const D=k.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression);D&&(z="["+D+"]")}null!=z&&(C[B]=z)};y.writeLabelExpressionInfo=function(z,C,B,D){if(null==z&&null!=this.labelExpression&&(D?"service"===
D.origin?0:!h(D.layer):1))z=new q({expression:this.getLabelExpressionArcade()});else if(!z)return;z=z.toJSON(D);z.expression&&(C[B]=z)};y.writeMaxScale=function(z,C){if(z||this.minScale)C.maxScale=z};y.writeMinScale=function(z,C){if(z||this.maxScale)C.minScale=z};y.getLabelExpression=function(){return k.getLabelExpression(this)};y.getLabelExpressionArcade=function(){return k.getLabelExpressionArcade(this)};y.getLabelExpressionSingleField=function(){return k.getLabelExpressionSingleField(this)};y.hash=
function(){return JSON.stringify(this)};y.clone=function(){return new x({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:l.clone(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:l.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})};
return w}(d.JSONSupport);b.__decorate([t.property({type:String,json:{write:!0}})],d.prototype,"name",void 0);b.__decorate([t.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],d.prototype,"allowOverrun",void 0);b.__decorate([t.property({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],d.prototype,"deconflictionStrategy",void 0);b.__decorate([t.property({type:String,json:{write:{overridePolicy(A,w,y){return this.labelExpressionInfo&&
"service"===(null==y?void 0:y.origin)&&v(y.layer)?{enabled:!1}:{allowNull:!0}}}}})],d.prototype,"labelExpression",void 0);b.__decorate([n.reader("labelExpression")],d.prototype,"readLabelExpression",null);b.__decorate([r.writer("labelExpression")],d.prototype,"writeLabelExpression",null);b.__decorate([t.property({type:q,json:{write:{overridePolicy(A,w,y){return(y?"service"===y.origin?0:!h(y.layer):1)||v(y.layer)?{allowNull:!0}:{enabled:!1}}}}})],d.prototype,"labelExpressionInfo",void 0);b.__decorate([r.writer("labelExpressionInfo")],
d.prototype,"writeLabelExpressionInfo",null);b.__decorate([t.property({type:f.apiValues,json:{type:f.jsonValues,read:f.read,write:f.write}})],d.prototype,"labelPlacement",void 0);b.__decorate([t.property({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],d.prototype,"labelPosition",void 0);b.__decorate([t.property({type:Number})],d.prototype,"maxScale",void 0);b.__decorate([r.writer("maxScale")],d.prototype,"writeMaxScale",
null);b.__decorate([t.property({type:Number})],d.prototype,"minScale",void 0);b.__decorate([r.writer("minScale")],d.prototype,"writeMinScale",null);b.__decorate([t.property({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],d.prototype,"repeatLabel",void 0);b.__decorate([t.property({type:Number,cast:u.toPt,json:{write:!0,origins:{"web-scene":{write:!1}}}})],d.prototype,"repeatLabelDistance",void 0);b.__decorate([t.property({types:c.symbolTypesLabel,json:{origins:{"web-scene":{types:c.symbolTypesLabel3D,
write:e.writeLabelSymbol,default:null}},write:e.writeLabelSymbol,default:null}})],d.prototype,"symbol",void 0);b.__decorate([t.property({type:Boolean,json:{write:!0}})],d.prototype,"useCodedValues",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],d.prototype,"where",void 0);return d=x=b.__decorate([m.subclass("esri.layers.support.LabelClass")],d)})},"esri/layers/support/LabelExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./labelUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){var r;c=r=function(q){function k(){var e=q.apply(this,arguments)||this;e.expression=null;e.title=null;e.value=null;return e}a._inheritsLoose(k,q);var p=k.prototype;p.readExpression=function(e,h){return h.value?m.convertTemplatedStringToArcade(h.value):e};p.writeExpression=function(e,h,v){null!=this.value&&(e=m.convertTemplatedStringToArcade(this.value));null!=e&&(h[v]=e)};p.clone=function(){return new r({expression:this.expression,title:this.title,value:this.value})};
return k}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:{writerEnsuresNonNull:!0}}})],c.prototype,"expression",void 0);b.__decorate([t.reader("expression",["expression","value"])],c.prototype,"readExpression",null);b.__decorate([n.writer("expression")],c.prototype,"writeExpression",null);b.__decorate([f.property({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],c.prototype,"title",void 0);b.__decorate([f.property({json:{read:!1,write:!1}})],c.prototype,"value",void 0);
return c=r=b.__decorate([g.subclass("esri.layers.support.LabelExpressionInfo")],c)})},"esri/layers/support/labelUtils":function(){define(["exports","../../core/string"],function(a,b){function c(e){return e.replace(/\[/g,"{").replace(/\]/g,"}")}function f(e){const h={expression:"",type:"none"};e.labelExpressionInfo?e.labelExpressionInfo.value?(h.expression=e.labelExpressionInfo.value,h.type="conventional"):e.labelExpressionInfo.expression&&(h.expression=e.labelExpressionInfo.expression,h.type="arcade"):
null!=e.labelExpression&&(h.expression=c(e.labelExpression),h.type="conventional");return h}function d(e){e?(e=b.replace(e,h=>'__begin__$feature["'+h+'"]__end__'),e=n.test(e)?e.replace(n,""):'"'+e,e=m.test(e)?e.replace(m,""):e+'"',e=e.replace(t,'" + ').replace(g,' + "')):e='""';return e}function l(e){return(e=e.match(r))&&e[1].trim()||null}function u(e){if(!e)return null;let h=q.exec(e)||k.exec(e);return h?h[1]||h[3]:(h=p.exec(e))?h[2]:null}const t=/__begin__/ig,g=/__end__/ig,n=/^__begin__/i,m=/__end__$/i,
r=/^\s*\{([^}]+)\}\s*$/i,q=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,k=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,p=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;a.convertTemplatedStringToArcade=d;a.getLabelExpression=f;a.getLabelExpressionArcade=function(e){e=f(e);if(!e)return null;switch(e.type){case "conventional":return d(e.expression);case "arcade":return e.expression}return null};
a.getLabelExpressionSingleField=function(e){e=f(e);if(!e)return null;switch(e.type){case "conventional":return l(e.expression);case "arcade":return u(e.expression)}return null};a.getSingleFieldArcadeExpression=u;a.getSingleFieldTemplatedString=l;a.sqlToTemplateString=c;a.templateStringToSql=function(e){return e.replace(/\{/g,"[").replace(/\}/g,"]")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/defaults":function(){define("exports ../../core/has ../../core/maybe ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),
function(a,b,c,f,d,l,u,t){const g=l.fromJSON(t.defaultPointSymbolJSON),n=d.fromJSON(t.defaultPolylineSymbolJSON),m=f.fromJSON(t.defaultPolygonSymbolJSON);b=u.fromJSON(t.defaultTextSymbolJSON);l=l.fromJSON(t.errorPointSymbolJSON);d=d.fromJSON(t.errorPolylineSymbolJSON);f=f.fromJSON(t.errorPolygonSymbolJSON);a.defaultPointSymbol2D=g;a.defaultPolygonSymbol2D=m;a.defaultPolylineSymbol2D=n;a.defaultTextSymbol2D=b;a.errorPointSymbol2D=l;a.errorPolygonSymbol2D=f;a.errorPolylineSymbol2D=d;a.getDefaultSymbol2D=
function(r){if(c.isNone(r))return null;switch(r.type){case "point":case "multipoint":return g;case "polyline":return n;case "polygon":case "extent":return m}return null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/defaultsJSON":function(){define(["exports"],function(a){const b=[252,146,31,255],c={type:"esriSMS",style:"esriSMSCircle",size:6,color:b,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},f={type:"esriSLS",style:"esriSLSSolid",width:.75,
color:b};a.defaultColor=b;a.defaultOutlineColor=[153,153,153,255];a.defaultPointSymbolJSON=c;a.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};a.defaultPolylineSymbolJSON=f;a.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",
xoffset:0,yoffset:0,angle:0};a.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};a.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};a.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FeatureReductionSelection":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./FeatureReduction".split(" "),
function(a,b,c,f,d,l,u,t){var g;f=g=function(n){function m(r){r=n.call(this,r)||this;r.type="selection";return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g};return m}(t.default);b.__decorate([c.property({type:["selection"]})],f.prototype,"type",void 0);return f=g=b.__decorate([u.subclass("esri.layers.support.FeatureReductionSelection")],f)})},"esri/layers/support/FeatureTemplate":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g,n){f=new f.JSONMap({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",
esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});c=function(m){function r(q){q=m.call(this,q)||this;q.name=null;q.description=null;q.drawingTool=null;q.prototype=null;q.thumbnail=null;return q}a._inheritsLoose(r,m);return r}(c.ClonableMixin(d.JSONSupport));b.__decorate([l.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([l.property({json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([l.property({json:{read:f.read,
write:f.write}})],c.prototype,"drawingTool",void 0);b.__decorate([l.property({json:{write:!0}})],c.prototype,"prototype",void 0);b.__decorate([l.property({json:{write:!0}})],c.prototype,"thumbnail",void 0);return c=b.__decorate([n.subclass("esri.layers.support.FeatureTemplate")],c)})},"esri/layers/support/FeatureType":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains ./FeatureTemplate".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q){c=function(k){function p(h){h=k.call(this,h)||this;h.id=null;h.name=null;h.domains=null;h.templates=null;return h}a._inheritsLoose(p,k);var e=p.prototype;e.readDomains=function(h){const v={};for(const x of Object.keys(h))v[x]=r.fromJSON(h[x]);return v};e.writeDomains=function(h,v){const x={};for(const w of Object.keys(h))if(h[w]){var A;x[w]=null==(A=h[w])?void 0:A.toJSON()}v.domains=x};return p}(c.ClonableMixin(f.JSONSupport));b.__decorate([d.property({json:{write:!0}})],
c.prototype,"id",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"domains",void 0);b.__decorate([g.reader("domains")],c.prototype,"readDomains",null);b.__decorate([m.writer("domains")],c.prototype,"writeDomains",null);b.__decorate([d.property({type:[q],json:{write:!0}})],c.prototype,"templates",void 0);return c=b.__decorate([n.subclass("esri.layers.support.FeatureType")],c)})},"esri/layers/support/fieldProperties":function(){define(["exports",
"../../core/Logger","./Field","./FieldsIndex","./fieldUtils"],function(a,b,c,f,d){const l=b.getLogger("esri.layers.support.fieldProperties");a.defineFieldProperties=function(){return{fields:{type:[c],value:null},fieldsIndex:{readOnly:!0,get(){return new f(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(u){this._userOutFields=u;this.notifyChange("outFields")},get:function(){const u=this._userOutFields;if(!u||!u.length)return null;if(u.includes("*"))return["*"];if(!this.fields)return u;
for(const t of u)this.fieldsIndex.has(t)||l.error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:u});return d.fixFields(this.fieldsIndex,u)}}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FieldsIndex":function(){define(["../../chunks/_rollupPluginBabelHelpers","./fieldUtils"],function(a,b){function c(d){return"oid"===d.type||"esriFieldTypeOID"===d.type}function f(d){return"global-id"===d.type||"esriFieldTypeGlobalID"===
d.type}return function(){function d(u){this.fields=u;this._fieldsMap=new Map;this._dateFieldsSet=new Set;this._numericFieldsSet=new Set;this.dateFields=[];this.numericFields=[];this._requiredFields=null;if(u){var t=[];for(const g of u)if(u=g&&g.name){const n=u.toLowerCase().trim();this._fieldsMap.set(u,g);this._fieldsMap.set(n,g);t.push(n);"date"===g.type||"esriFieldTypeDate"===g.type?(this.dateFields.push(g),this._dateFieldsSet.add(g)):b.isNumericField(g)&&(this._numericFieldsSet.add(g),this.numericFields.push(g));
c(g)||f(g)||(g.editable=null==g.editable?!0:!!g.editable,g.nullable=null==g.nullable?!0:!!g.nullable)}t.sort();this.uid=t.join(",")}}var l=d.prototype;l.destroy=function(){this._fieldsMap.clear()};l.has=function(u){return null!=this.get(u)};l.get=function(u){return null!=u?this._fieldsMap.get(u)||this._fieldsMap.get(u.toLowerCase().trim()):void 0};l.isDateField=function(u){return this._dateFieldsSet.has(this.get(u))};l.isNumericField=function(u){return this._numericFieldsSet.has(this.get(u))};l.normalizeFieldName=
function(u){if(u=this.get(u))return u.name};a._createClass(d,[{key:"requiredFields",get:function(){if(!this._requiredFields){this._requiredFields=[];for(const u of this.fields)c(u)||f(u)||u.nullable||void 0!==b.getFieldDefaultValue(u)||this._requiredFields.push(u)}return this._requiredFields}}]);return d}()})},"esri/layers/support/GeometryFieldsInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g,n){c=function(m){function r(q){q=m.call(this,q)||this;q.shapeAreaField=null;q.shapeLengthField=null;q.units=null;return q}a._inheritsLoose(r,m);return r}(c.ClonableMixin(f.JSONSupport));b.__decorate([l.property({type:String,json:{read:{source:"shapeAreaFieldName"}}})],c.prototype,"shapeAreaField",void 0);b.__decorate([l.property({type:String,json:{read:{source:"shapeLengthFieldName"}}})],c.prototype,"shapeLengthField",void 0);b.__decorate([l.property({type:String,json:{read:m=>
d.areaUnitsJSONMap.read(m)||d.lengthUnitsJSONMap.read(m)}})],c.prototype,"units",void 0);return c=b.__decorate([n.subclass("esri.layers.support.GeometryFieldsInfo")],c)})},"esri/layers/support/labelingInfo":function(){define(["exports","./LabelClass"],function(a,b){const c=/\[([^\[\]]+)\]/gi;a.reader=function(f,d,l){return f?f.map(u=>{const t=new b;t.read(u,l);if(t.labelExpression){const g=d.fields||d.layerDefinition&&d.layerDefinition.fields||this.fields;t.labelExpression=t.labelExpression.replace(c,
(n,m)=>{a:if(g){n=m.toLowerCase();for(let r=0;r<g.length;r++){const q=g[r].name;if(q.toLowerCase()===n){m=q;break a}}}return`[${m}]`})}return t}):null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/LayerFloorInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;f=n=function(m){function r(q){q=m.call(this,q)||this;q.floorField=null;q.viewAllMode=!1;q.viewAllLevelIds=new c;return q}a._inheritsLoose(r,m);r.prototype.clone=function(){return new n({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})};return r}(f.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"floorField",void 0);b.__decorate([d.property({json:{read:!1,write:!1}})],f.prototype,"viewAllMode",
void 0);b.__decorate([d.property({json:{read:!1,write:!1}})],f.prototype,"viewAllLevelIds",void 0);return f=n=b.__decorate([g.subclass("esri.layers.support.LayerFloorInfo")],f)})},"esri/layers/support/Relationship":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g,n){u=new f.JSONMap({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"});f=new f.JSONMap({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});c=function(m){function r(q){q=m.call(this,q)||this;q.cardinality=null;q.composite=null;q.id=null;q.keyField=null;q.keyFieldInRelationshipTable=null;q.name=null;q.relatedTableId=null;q.relationshipTableId=null;q.role=null;return q}a._inheritsLoose(r,
m);return r}(c.ClonableMixin(d.JSONSupport));b.__decorate([l.property({json:{read:u.read,write:u.write}})],c.prototype,"cardinality",void 0);b.__decorate([l.property({json:{read:!0,write:!0}})],c.prototype,"composite",void 0);b.__decorate([l.property({json:{read:!0,write:!0}})],c.prototype,"id",void 0);b.__decorate([l.property({json:{read:!0,write:!0}})],c.prototype,"keyField",void 0);b.__decorate([l.property({json:{read:!0,write:!0}})],c.prototype,"keyFieldInRelationshipTable",void 0);b.__decorate([l.property({json:{read:!0,
write:!0}})],c.prototype,"name",void 0);b.__decorate([l.property({json:{read:!0,write:!0}})],c.prototype,"relatedTableId",void 0);b.__decorate([l.property({json:{read:!0,write:!0}})],c.prototype,"relationshipTableId",void 0);b.__decorate([l.property({json:{read:f.read,write:f.write}})],c.prototype,"role",void 0);return c=b.__decorate([n.subclass("esri.layers.support.Relationship")],c)})},"esri/layers/support/versionUtils":function(){define(["exports","./arcgisLayerUrl"],function(a,b){const c=[];c.push([10.91,
()=>{const f=new Set([9709,9716,9741,9761,9766]);for(var d=9712;9713>=d;d++)f.add(d);for(d=9748;9749>=d;d++)f.add(d);for(d=20904;20932>=d;d++)f.add(d);for(d=21004;21032>=d;d++)f.add(d);for(d=21207;21264>=d;d++)f.add(d);for(d=21307;21364>=d;d++)f.add(d);for(d=102759;102760>=d;d++)f.add(d);for(d=102901;102960>=d;d++)f.add(d);return f}]);c.push([10.9,()=>{const f=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(var d=9356;9360>=d;d++)f.add(d);for(d=
9404;9407>=d;d++)f.add(d);for(d=9476;9482>=d;d++)f.add(d);for(d=9487;9494>=d;d++)f.add(d);for(d=9697;9699>=d;d++)f.add(d);return f}]);c.push([10.81,()=>{const f=new Set([9265,9333,103598,103699]);for(var d=9248;9254>=d;d++)f.add(d);for(d=9271;9273>=d;d++)f.add(d);for(d=9284;9285>=d;d++)f.add(d);for(d=21453;21463>=d;d++)f.add(d);return f}]);c.push([10.8,()=>{const f=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(var d=8035;8036>=d;d++)f.add(d);for(d=
8455;8456>=d;d++)f.add(d);for(d=8518;8529>=d;d++)f.add(d);for(d=8533;8536>=d;d++)f.add(d);for(d=8538;8540>=d;d++)f.add(d);for(d=8677;8679>=d;d++)f.add(d);for(d=8902;8903>=d;d++)f.add(d);for(d=8907;8910>=d;d++)f.add(d);for(d=8949;8951>=d;d++)f.add(d);for(d=8972;8987>=d;d++)f.add(d);for(d=9039;9040>=d;d++)f.add(d);for(d=9068;9069>=d;d++)f.add(d);for(d=9140;9141>=d;d++)f.add(d);for(d=9148;9150>=d;d++)f.add(d);for(d=9153;9159>=d;d++)f.add(d);for(d=9205;9218>=d;d++)f.add(d);for(d=9221;9222>=d;d++)f.add(d);
for(d=54098;54101>=d;d++)f.add(d);return f}]);c.push([10.71,()=>{const f=new Set([6316]);for(var d=8351;8353>=d;d++)f.add(d);for(d=9294;9297>=d;d++)f.add(d);for(d=103586;103594>=d;d++)f.add(d);for(d=103696;103698>=d;d++)f.add(d);return f}]);c.push([10.7,()=>{const f=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(var d=8065;8068>=d;d++)f.add(d);for(d=8082;8083>=d;d++)f.add(d);for(d=8379;8385>=d;d++)f.add(d);for(d=8836;8840>=d;d++)f.add(d);for(d=8857;8860>=d;d++)f.add(d);
for(d=53035;53037>=d;d++)f.add(d);for(d=54090;54091>=d;d++)f.add(d);for(d=102498;102499>=d;d++)f.add(d);return f}]);c.push([10.61,()=>new Set([102497])]);c.push([10.6,()=>{const f=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(var d=7755;7787>=d;d++)f.add(d);for(d=7791;7795>=d;d++)f.add(d);for(d=7799;7801>=d;d++)f.add(d);for(d=7825;7831>=d;d++)f.add(d);for(d=7877;7878>=d;d++)f.add(d);for(d=7882;7883>=d;d++)f.add(d);for(d=7991;7992>=d;d++)f.add(d);for(d=8042;8043>=
d;d++)f.add(d);for(d=8058;8059>=d;d++)f.add(d);for(d=8311;8348>=d;d++)f.add(d);for(d=9060;9067>=d;d++)f.add(d);for(d=102562;102568>=d;d++)f.add(d);for(d=102799;102900>=d;d++)f.add(d);return f}]);c.push([10.51,()=>{const f=new Set([7683,7881,7886,7899,8888,9E3]);for(var d=8013;8032>=d;d++)f.add(d);for(d=9053;9057>=d;d++)f.add(d);for(d=104017;104018>=d;d++)f.add(d);for(d=104971;104974>=d;d++)f.add(d);return f}]);c.push([10.5,()=>{const f=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);
for(var d=4087;4088>=d;d++)f.add(d);for(d=5896;5899>=d;d++)f.add(d);for(d=7005;7007>=d;d++)f.add(d);for(d=7057;7070>=d;d++)f.add(d);for(d=7073;7082>=d;d++)f.add(d);for(d=7109;7128>=d;d++)f.add(d);for(d=7844;7859>=d;d++)f.add(d);return f}]);a.serviceSupportsSpatialReference=function(f,d){if(b.isHostedAgolService(f.url))return!0;({wkid:d}=d);for(const l of c){if(f.version>=l[0])break;"function"===typeof l[1]&&(l[1]=l[1]());if(l[1].has(d))return!1}return!0};Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/rest/support/AttachmentQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),function(a,b,c,f,d,l,u,t){var g;c=g=function(n){function m(q){q=n.call(this,q)||this;q.attachmentTypes=null;q.attachmentsWhere=null;q.keywords=null;q.globalIds=
null;q.name=null;q.num=null;q.objectIds=null;q.returnMetadata=!1;q.size=null;q.start=null;q.where=null;return q}a._inheritsLoose(m,n);var r=m.prototype;r.writeStart=function(q,k){k.resultOffset=this.start;k.resultRecordCount=this.num||10};r.clone=function(){return new g(f.clone({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,
size:this.size,start:this.start}))};return m}(c.JSONSupport);b.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"attachmentTypes",void 0);b.__decorate([d.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],c.prototype,"attachmentsWhere",void 0);b.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"keywords",void 0);b.__decorate([d.property({type:[Number],json:{write:!0}})],c.prototype,
"globalIds",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([d.property({type:Number,json:{read:{source:"resultRecordCount"}}})],c.prototype,"num",void 0);b.__decorate([d.property({type:[Number],json:{write:!0}})],c.prototype,"objectIds",void 0);b.__decorate([d.property({type:Boolean,json:{default:!1,write:!0}})],c.prototype,"returnMetadata",void 0);b.__decorate([d.property({type:[Number],json:{write:!0}})],c.prototype,"size",void 0);b.__decorate([d.property({type:Number,
json:{read:{source:"resultOffset"}}})],c.prototype,"start",void 0);b.__decorate([t.writer("start"),t.writer("num")],c.prototype,"writeStart",null);b.__decorate([d.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],c.prototype,"where",void 0);c=g=b.__decorate([u.subclass("esri.rest.support.AttachmentQuery")],c);c.from=l.ensureType(c);return c})},"esri/rest/support/RelationshipQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/source/DataLayerSource ../../geometry/SpatialReference".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){var r;c=r=function(q){function k(e){e=q.call(this,e)||this;e.dynamicDataSource=void 0;e.gdbVersion=null;e.geometryPrecision=void 0;e.historicMoment=null;e.maxAllowableOffset=void 0;e.objectIds=null;e.orderByFields=null;e.outFields=null;e.outSpatialReference=null;e.relationshipId=void 0;e.start=void 0;e.num=void 0;e.returnGeometry=!1;e.returnM=void 0;e.returnZ=void 0;e.where=null;return e}a._inheritsLoose(k,q);var p=k.prototype;p._writeHistoricMoment=function(e,h){h.historicMoment=
e&&e.getTime()};p.writeStart=function(e,h){h.resultOffset=this.start;h.resultRecordCount=this.num||10;0<this.start&&null==this.where&&(h.definitionExpression="1\x3d1")};p.clone=function(){return new r(d.clone({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,
outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))};return k}(f.JSONSupport);b.__decorate([l.property({type:n.DataLayerSource,json:{write:!0}})],c.prototype,"dynamicDataSource",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],c.prototype,"gdbVersion",void 0);b.__decorate([l.property({type:Number,json:{write:!0}})],c.prototype,"geometryPrecision",
void 0);b.__decorate([l.property({type:Date})],c.prototype,"historicMoment",void 0);b.__decorate([g.writer("historicMoment")],c.prototype,"_writeHistoricMoment",null);b.__decorate([l.property({type:Number,json:{write:!0}})],c.prototype,"maxAllowableOffset",void 0);b.__decorate([l.property({type:[Number],json:{write:!0}})],c.prototype,"objectIds",void 0);b.__decorate([l.property({type:[String],json:{write:!0}})],c.prototype,"orderByFields",void 0);b.__decorate([l.property({type:[String],json:{write:!0}})],
c.prototype,"outFields",void 0);b.__decorate([l.property({type:m,json:{read:{source:"outSR"},write:{target:"outSR"}}})],c.prototype,"outSpatialReference",void 0);b.__decorate([l.property({json:{write:!0}})],c.prototype,"relationshipId",void 0);b.__decorate([l.property({type:Number,json:{read:{source:"resultOffset"}}})],c.prototype,"start",void 0);b.__decorate([g.writer("start"),g.writer("num")],c.prototype,"writeStart",null);b.__decorate([l.property({type:Number,json:{read:{source:"resultRecordCount"}}})],
c.prototype,"num",void 0);b.__decorate([l.property({json:{write:!0}})],c.prototype,"returnGeometry",void 0);b.__decorate([l.property({type:Boolean,json:{write:{overridePolicy(q){return{enabled:q}}}}})],c.prototype,"returnM",void 0);b.__decorate([l.property({type:Boolean,json:{write:{overridePolicy(q){return{enabled:q}}}}})],c.prototype,"returnZ",void 0);b.__decorate([l.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],c.prototype,"where",void 0);
c=r=b.__decorate([t.subclass("esri.rest.support.RelationshipQuery")],c);c.from=u.ensureType(c);return c})},"esri/rest/support/TopFeaturesQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/support/jsonUtils ./TopFilter ../../geometry/SpatialReference".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k){var p;const e=new d.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});d=new d.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});l=p=function(h){function v(A){A=h.call(this,A)||this;A.cacheHint=void 0;A.distance=void 0;A.geometry=null;A.geometryPrecision=void 0;A.maxAllowableOffset=void 0;A.num=void 0;A.objectIds=null;A.orderByFields=null;A.outFields=null;A.outSpatialReference=null;A.resultType=null;A.returnGeometry=!1;A.returnM=void 0;A.returnZ=void 0;A.start=void 0;A.spatialRelationship=
"intersects";A.timeExtent=null;A.topFilter=void 0;A.units=null;A.where="1\x3d1";return A}a._inheritsLoose(v,h);var x=v.prototype;x.writeStart=function(A,w){w.resultOffset=this.start;w.resultRecordCount=this.num||10};x.clone=function(){return new p(u.clone({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,
outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))};return v}(l.JSONSupport);b.__decorate([t.property({type:Boolean,json:{write:!0}})],l.prototype,"cacheHint",void 0);b.__decorate([t.property({type:Number,json:{write:{overridePolicy(h){return{enabled:0<
h}}}}})],l.prototype,"distance",void 0);b.__decorate([t.property({types:c.geometryTypes,json:{read:r.fromJSON,write:!0}})],l.prototype,"geometry",void 0);b.__decorate([t.property({type:Number,json:{write:!0}})],l.prototype,"geometryPrecision",void 0);b.__decorate([t.property({type:Number,json:{write:!0}})],l.prototype,"maxAllowableOffset",void 0);b.__decorate([t.property({type:Number,json:{read:{source:"resultRecordCount"}}})],l.prototype,"num",void 0);b.__decorate([t.property({json:{write:!0}})],
l.prototype,"objectIds",void 0);b.__decorate([t.property({type:[String],json:{write:!0}})],l.prototype,"orderByFields",void 0);b.__decorate([t.property({type:[String],json:{write:!0}})],l.prototype,"outFields",void 0);b.__decorate([t.property({type:k,json:{read:{source:"outSR"},write:{target:"outSR"}}})],l.prototype,"outSpatialReference",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],l.prototype,"resultType",void 0);b.__decorate([t.property({json:{write:!0}})],l.prototype,"returnGeometry",
void 0);b.__decorate([t.property({type:Boolean,json:{write:{overridePolicy(h){return{enabled:h}}}}})],l.prototype,"returnM",void 0);b.__decorate([t.property({type:Boolean,json:{write:{overridePolicy(h){return{enabled:h}}}}})],l.prototype,"returnZ",void 0);b.__decorate([t.property({type:Number,json:{read:{source:"resultOffset"}}})],l.prototype,"start",void 0);b.__decorate([m.writer("start"),m.writer("num")],l.prototype,"writeStart",null);b.__decorate([t.property({type:String,json:{read:{source:"spatialRel",
reader:e.read},write:{target:"spatialRel",writer:e.write}}})],l.prototype,"spatialRelationship",void 0);b.__decorate([t.property({type:f,json:{write:!0}})],l.prototype,"timeExtent",void 0);b.__decorate([t.property({type:q,json:{write:!0}})],l.prototype,"topFilter",void 0);b.__decorate([t.property({type:String,json:{read:d.read,write:{writer:d.write,overridePolicy(h){return{enabled:h&&0<this.distance}}}}})],l.prototype,"units",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],l.prototype,
"where",void 0);l=p=b.__decorate([n.subclass("esri.rest.support.TopFeaturesQuery")],l);l.from=g.ensureType(l);return l})},"esri/rest/support/TopFilter":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t){var g;c=g=function(n){function m(r){r=
n.call(this,r)||this;r.groupByFields=void 0;r.topCount=void 0;r.orderByFields=void 0;return r}a._inheritsLoose(m,n);m.prototype.clone=function(){return new g({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})};return m}(c.JSONSupport);b.__decorate([f.property({type:[String],json:{write:!0}})],c.prototype,"groupByFields",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,"topCount",void 0);b.__decorate([f.property({type:[String],json:{write:!0}})],
c.prototype,"orderByFields",void 0);return c=g=b.__decorate([t.subclass("esri.rest.support.TopFilter")],c)})},"esri/support/popupUtils":function(){define("exports ../PopupTemplate ../layers/support/fieldUtils ../popup/content/AttachmentsContent ../popup/content/Content ../popup/content/CustomContent ../popup/content/ExpressionContent ../popup/content/FieldsContent ../popup/content/MediaContent ../popup/content/TextContent ../popup/FieldInfo ../popup/support/FieldInfoFormat".split(" "),function(a,
b,c,f,d,l,u,t,g,n,m,r){function q(C,B){const D=C;B&&(C=C.filter(G=>-1===B.indexOf(G.type)));C===D&&(C=C.slice());C.sort(k);return C}function k(C,B){return"oid"===C.type?-1:"oid"===B.type?1:v(C)?-1:v(B)?1:(C.alias||C.name).toLocaleLowerCase().localeCompare((B.alias||B.name).toLocaleLowerCase())}function p(C,B){if(!C||!B)return!1;const {creationDateField:D,creatorField:G,editDateField:K,editorField:M}=B;return-1!==[D&&D.toLowerCase(),G&&G.toLowerCase(),K&&K.toLowerCase(),M&&M.toLowerCase()].indexOf(C.toLowerCase())}
function e({editFieldsInfo:C,fields:B,objectIdField:D},G){return q(B,(null==G?void 0:G.ignoreFieldTypes)||z).map(K=>{var M=K.name;var N=K.editable&&-1===A.indexOf(K.type)&&!p(K.name,C);return new m({fieldName:M,isEditable:N,label:K.alias,format:h(K),visible:y(K,{editFieldsInfo:C,objectIdField:D,visibleFieldNames:null==G?void 0:G.visibleFieldNames})})})}function h(C){switch(C.type){case "small-integer":case "integer":case "single":return new r({digitSeparator:!0,places:0});case "double":return new r({digitSeparator:!0,
places:2});case "date":return new r({dateFormat:"long-month-day-year"});default:return null}}function v(C){if("name"===(C.name&&C.name.toLowerCase())||"name"===(C.alias&&C.alias.toLowerCase()))return!0}const x=["oid","global-id"],A=["oid","global-id","guid"],w=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],y=(C,{editFieldsInfo:B,objectIdField:D,visibleFieldNames:G})=>G?G.has(C.name):p(C.name,
B)?!1:D&&C.name===D?!1:-1<x.indexOf(C.type)?!1:!w.some(K=>K.test(C.name)),z=["geometry","blob","raster","guid","xml"];a.createFieldInfos=e;a.createFieldsContent=function(C,B){return new t({fieldInfos:e(C,B).filter(D=>D.visible)})};a.createPopupTemplate=function({displayField:C,editFieldsInfo:B,fields:D,objectIdField:G,title:K},M){if(!D)return null;B=e({editFieldsInfo:B,fields:D,objectIdField:G},M);if(!B.length)return null;D={titleBase:K,fields:D,displayField:C};C=c.getDisplayFieldName(D);({titleBase:D}=
D);C=C?`${D}: {${C.trim()}}`:D;D=[new t,new f];return new b({title:C,content:D,fieldInfos:B})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../request ../../../TimeExtent ../../../core/Error ../../../core/has ../../../core/jsonMap ../../../core/Loadable ../../../core/maybe ../../../core/object ../../../core/promiseUtils ../../../core/urlUtils ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../geometry/Extent ../../../geometry/support/jsonUtils ./support/clientSideDefaults ../../../rest/query/operations/editsZScale ../../../rest/query/operations/queryAttachments ../../../tasks/QueryTask ../../../geometry/SpatialReference".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A,w,y,z,C,B){function D(N){return G.apply(this,arguments)}function G(){G=a._asyncToGenerator(function*(N){if("string"===typeof N){const I=k.dataComponents(N);return I?I:{data:N}}return new Promise((I,F)=>{const E=new FileReader;E.readAsDataURL(N);E.onload=()=>I(k.dataComponents(E.result));E.onerror=J=>F(J)})});return G.apply(this,arguments)}const K=new g.JSONMap({originalAndCurrentFeatures:"original-and-current-features",none:"none"}),M=new Set(["Feature Layer",
"Table"]);c=function(N){function I(){var E=N.apply(this,arguments)||this;E.type="feature-layer";E.refresh=q.debounce(a._asyncToGenerator(function*(){var J,P;yield E.load();const W=null==(J=E.sourceJSON.editingInfo)?void 0:J.lastEditDate;if(null==W)return{dataChanged:!0,updates:{}};try{yield E._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}J=W!==(null==(P=E.sourceJSON.editingInfo)?void 0:P.lastEditDate);return{dataChanged:J,updates:J?{editingInfo:E.sourceJSON.editingInfo,extent:E.sourceJSON.extent}:
null}}));return E}a._inheritsLoose(I,N);var F=I.prototype;F.load=function(E){E=m.isSome(E)?E.signal:null;this.addResolvingPromise(this._fetchService(this.layer.sourceJSON,E));return Promise.resolve(this)};F.addAttachment=function(){var E=a._asyncToGenerator(function*(J,P){yield this.load();J=J.attributes[this.layer.objectIdField];const W=this.layer.parsedUrl.path+"/"+J+"/addAttachment",Z=this._getLayerRequestOptions();P=this._getFormDataForAttachment(P,Z.query);try{const Y=yield d(W,{body:P});return this._createFeatureEditResult(Y.data.addAttachmentResult)}catch(Y){throw this._createAttachmentErrorResult(J,
Y);}});return function(J,P){return E.apply(this,arguments)}}();F.updateAttachment=function(){var E=a._asyncToGenerator(function*(J,P,W){yield this.load();J=J.attributes[this.layer.objectIdField];const Z=this.layer.parsedUrl.path+"/"+J+"/updateAttachment";P=this._getLayerRequestOptions({query:{attachmentId:P}});W=this._getFormDataForAttachment(W,P.query);try{const Y=yield d(Z,{body:W});return this._createFeatureEditResult(Y.data.updateAttachmentResult)}catch(Y){throw this._createAttachmentErrorResult(J,
Y);}});return function(J,P,W){return E.apply(this,arguments)}}();F.applyEdits=function(){var E=a._asyncToGenerator(function*(J,P){yield this.load();var W=J.addFeatures.map(this._serializeFeature,this);const Z=J.updateFeatures.map(this._serializeFeature,this),Y=this._getFeatureIds(J.deleteFeatures,null==P?void 0:P.globalIdUsed);y.unapplyEditsZUnitScaling(W,Z,this.layer.spatialReference);var S=[];const qa=[],xa=[...J.deleteAttachments];for(const Fa of J.addAttachments)S.push(yield this._serializeAttachment(Fa));
for(const Fa of J.updateAttachments)qa.push(yield this._serializeAttachment(Fa));J=S.length||qa.length||xa.length?{adds:S,updates:qa,deletes:xa}:null;S={gdbVersion:(null==P?void 0:P.gdbVersion)||this.layer.gdbVersion,rollbackOnFailure:null==P?void 0:P.rollbackOnFailureEnabled,useGlobalIds:null==P?void 0:P.globalIdUsed,returnEditMoment:null==P?void 0:P.returnEditMoment,usePreviousEditMoment:null==P?void 0:P.usePreviousEditMoment,sessionId:null==P?void 0:P.sessionId};null!=P&&P.returnServiceEditsOption?
(S.edits=JSON.stringify([{id:this.layer.layerId,adds:W,updates:Z,deletes:Y,attachments:J}]),S.returnServiceEditsOption=K.toJSON(null==P?void 0:P.returnServiceEditsOption),S.returnServiceEditsInSourceSR=null==P?void 0:P.returnServiceEditsInSourceSR):(S.adds=W.length?JSON.stringify(W):null,S.updates=Z.length?JSON.stringify(Z):null,S.deletes=Y.length?null!=P&&P.globalIdUsed?JSON.stringify(Y):Y.join(","):null,S.attachments=J&&JSON.stringify(J));W=this._getLayerRequestOptions({method:"post",query:S});
P=yield d((null!=P&&P.returnServiceEditsOption?this.layer.url:this.layer.parsedUrl.path)+"/applyEdits",W);return this._createEditsResult(P)});return function(J,P){return E.apply(this,arguments)}}();F.deleteAttachments=function(){var E=a._asyncToGenerator(function*(J,P){yield this.load();J=J.attributes[this.layer.objectIdField];const W=this.layer.parsedUrl.path+"/"+J+"/deleteAttachments";try{return(yield d(W,this._getLayerRequestOptions({query:{attachmentIds:P.join(",")},method:"post"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(Z){throw this._createAttachmentErrorResult(J,
Z);}});return function(J,P){return E.apply(this,arguments)}}();F.fetchRecomputedExtents=function(E={}){var J=this;return this.load({signal:E.signal}).then(a._asyncToGenerator(function*(){var P=J._getLayerRequestOptions({...E,query:{returnUpdates:!0}});const {layerId:W,url:Z}=J.layer;({data:P}=yield d(`${Z}/${W}`,P));const {id:Y,extent:S,fullExtent:qa,timeExtent:xa}=P;P=S||qa;return{id:Y,fullExtent:P&&x.fromJSON(P),timeExtent:xa&&l.fromJSON({start:xa[0],end:xa[1]})}}))};F.queryAttachments=function(){var E=
a._asyncToGenerator(function*(J,P={}){const {parsedUrl:W}=this.layer,Z=W.path;yield this.load();P=this._getLayerRequestOptions(P);if(!this.layer.get("capabilities.operations.supportsQueryAttachments")){const {objectIds:Y}=J;J=[];for(const S of Y)J.push(d(Z+"/"+S+"/attachments",P));return Promise.all(J).then(S=>Y.map((qa,xa)=>({parentObjectId:qa,attachmentInfos:S[xa].data.attachmentInfos}))).then(S=>z.processAttachmentQueryResult(S,Z))}return this.queryTask.executeAttachmentQuery(J,P)});return function(J){return E.apply(this,
arguments)}}();F.queryFeatures=function(){var E=a._asyncToGenerator(function*(J,P){yield this.load();return this.queryTask.execute(J,{...P,query:this._createRequestQueryOptions(P)})});return function(J,P){return E.apply(this,arguments)}}();F.queryFeaturesJSON=function(){var E=a._asyncToGenerator(function*(J,P){yield this.load();return this.queryTask.executeJSON(J,{...P,query:this._createRequestQueryOptions(P)})});return function(J,P){return E.apply(this,arguments)}}();F.queryObjectIds=function(){var E=
a._asyncToGenerator(function*(J,P){yield this.load();return this.queryTask.executeForIds(J,{...P,query:this._createRequestQueryOptions(P)})});return function(J,P){return E.apply(this,arguments)}}();F.queryFeatureCount=function(){var E=a._asyncToGenerator(function*(J,P){yield this.load();return this.queryTask.executeForCount(J,{...P,query:this._createRequestQueryOptions(P)})});return function(J,P){return E.apply(this,arguments)}}();F.queryExtent=function(){var E=a._asyncToGenerator(function*(J,P){yield this.load();
return this.queryTask.executeForExtent(J,{...P,query:this._createRequestQueryOptions(P)})});return function(J,P){return E.apply(this,arguments)}}();F.queryRelatedFeatures=function(){var E=a._asyncToGenerator(function*(J,P){yield this.load();return this.queryTask.executeRelationshipQuery(J,{...P,query:this._createRequestQueryOptions(P)})});return function(J,P){return E.apply(this,arguments)}}();F.queryRelatedFeaturesCount=function(){var E=a._asyncToGenerator(function*(J,P){yield this.load();return this.queryTask.executeRelationshipQueryForCount(J,
{...P,query:this._createRequestQueryOptions(P)})});return function(J,P){return E.apply(this,arguments)}}();F.queryTopFeatures=function(){var E=a._asyncToGenerator(function*(J,P){yield this.load();return this.queryTask.executeTopFeaturesQuery(J,{...P,query:this._createRequestQueryOptions(P)})});return function(J,P){return E.apply(this,arguments)}}();F.queryTopObjectIds=function(){var E=a._asyncToGenerator(function*(J,P){yield this.load();return this.queryTask.executeForTopIds(J,{...P,query:this._createRequestQueryOptions(P)})});
return function(J,P){return E.apply(this,arguments)}}();F.queryTopExtents=function(){var E=a._asyncToGenerator(function*(J,P){yield this.load();return this.queryTask.executeForTopExtents(J,{...P,query:this._createRequestQueryOptions(P)})});return function(J,P){return E.apply(this,arguments)}}();F.queryTopCount=function(){var E=a._asyncToGenerator(function*(J,P){yield this.load();return this.queryTask.executeForTopCount(J,{...P,query:this._createRequestQueryOptions(P)})});return function(J,P){return E.apply(this,
arguments)}}();F._createRequestQueryOptions=function(E){E={...this.layer.customParameters,token:this.layer.apiKey,...null==E?void 0:E.query};this.layer.datesInUnknownTimezone&&(E.timeReferenceUnknownClient=!0);return E};F._fetchService=function(){var E=a._asyncToGenerator(function*(J,P){J||({data:J}=yield d(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:t("featurelayer-advanced-symbols")?{returnAdvancedSymbols:!0}:{},signal:P})));this.sourceJSON=this._patchServiceJSON(J);J=J.type;if(!M.has(J))throw new u("feature-layer-source:unsupported-type",
`Source type "${J}" is not supported`);});return function(J,P){return E.apply(this,arguments)}}();F._patchServiceJSON=function(E){var J;"Table"===E.type||!E.geometryType||null!=E&&null!=(J=E.drawingInfo)&&J.renderer||E.defaultSymbol||(J=w.createDrawingInfo(E.geometryType).renderer,r.setDeepValue("drawingInfo.renderer",J,E));"esriGeometryMultiPatch"===E.geometryType&&E.infoFor3D&&(E.geometryType="mesh");return E};F._serializeFeature=function(E){const {geometry:J,attributes:P}=E;return m.isNone(J)?
{attributes:P}:"mesh"===J.type||"extent"===J.type?null:{geometry:J.toJSON(),attributes:P}};F._serializeAttachment=function(){var E=a._asyncToGenerator(function*(J){const {feature:P,attachment:W}=J,{globalId:Z,name:Y,contentType:S,data:qa,uploadId:xa}=W;J={globalId:Z,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};P&&(J.parentGlobalId="attributes"in P?P.attributes&&P.attributes[this.layer.globalIdField]:P.globalId);if(xa)J.uploadId=xa;else if(qa){const Fa=yield D(qa);J.contentType=
Fa.mediaType;J.data=Fa.data;qa instanceof File&&(J.name=qa.name)}Y&&(J.name=Y);S&&(J.contentType=S);return J});return function(J){return E.apply(this,arguments)}}();F._getFeatureIds=function(E,J){const P=E[0];return P?this._canUseGlobalIds(J,E)?this._getGlobalIdsFromFeatureIdentifier(E):"objectId"in P?this._getObjectIdsFromFeatureIdentifier(E):this._getIdsFromFeatures(E):[]};F._getIdsFromFeatures=function(E){const J=this.layer.objectIdField;return E.map(P=>P.attributes&&P.attributes[J])};F._canUseGlobalIds=
function(E,J){return E&&"globalId"in J[0]};F._getObjectIdsFromFeatureIdentifier=function(E){return E.map(J=>J.objectId)};F._getGlobalIdsFromFeatureIdentifier=function(E){return E.map(J=>J.globalId)};F._createEditsResult=function(E){var J;const P=E.data,{layerId:W}=this.layer;E=[];let Z=null;if(Array.isArray(P))for(var Y of P)E.push({id:Y.id,editedFeatures:Y.editedFeatures}),Y.id===W&&(Z={addResults:Y.addResults,updateResults:Y.updateResults,deleteResults:Y.deleteResults,attachments:Y.attachments,
editMoment:Y.editMoment});else Z=P;Y=null==(J=Z)?void 0:J.attachments;J={addFeatureResults:Z.addResults?Z.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:Z.updateResults?Z.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:Z.deleteResults?Z.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:Y&&Y.addResults?Y.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:Y&&Y.updateResults?Y.updateResults.map(this._createFeatureEditResult,
this):[],deleteAttachmentResults:Y&&Y.deleteResults?Y.deleteResults.map(this._createFeatureEditResult,this):[]};Z.editMoment&&(J.editMoment=Z.editMoment);if(0<E.length){J.editedFeatureResults=[];for(const S of E){const {adds:qa,updates:xa,deletes:Fa,spatialReference:la}=S.editedFeatures,V=la?new B(la):null;J.editedFeatureResults.push({layerId:S.id,editedFeatures:{adds:(null==qa?void 0:qa.map(aa=>this._createEditedFeature(aa,V)))||[],updates:(null==xa?void 0:xa.map(aa=>({original:this._createEditedFeature(aa[0],
V),current:this._createEditedFeature(aa[1],V)})))||[],deletes:(null==Fa?void 0:Fa.map(aa=>this._createEditedFeature(aa,V)))||[],spatialReference:V}})}}return J};F._createEditedFeature=function(E,J){return new f({attributes:E.attributes,geometry:A.fromJSON({...E.geometry,spatialReference:J})})};F._createFeatureEditResult=function(E){const J=!0===E.success?null:E.error||{code:void 0,description:void 0};return{objectId:E.objectId,globalId:E.globalId,error:J?new u("feature-layer-source:edit-failure",
J.description,{code:J.code}):null}};F._createAttachmentErrorResult=function(E,J){return{objectId:E,globalId:null,error:new u("feature-layer-source:attachment-failure",J.details.messages&&J.details.messages[0]||J.message,{code:J.details.httpStatus||J.details.messageCode})}};F._getFormDataForAttachment=function(E,J){if(E=E instanceof FormData?E:E&&E.elements?new FormData(E):null)for(const P in J){const W=J[P];null!=W&&(E.set?E.set(P,W):E.append(P,W))}return E};F._getLayerRequestOptions=function(E={}){const {parsedUrl:J,
gdbVersion:P,dynamicDataSource:W}=this.layer;return{...E,query:{gdbVersion:P,layer:W?JSON.stringify({source:W}):void 0,...J.query,f:"json",...this._createRequestQueryOptions(E)},responseType:"json"}};a._createClass(I,[{key:"queryTask",get:function(){const {capabilities:{query:{supportsFormatPBF:E}},parsedUrl:J,dynamicDataSource:P,infoFor3D:W,gdbVersion:Z,spatialReference:Y,fieldsIndex:S}=this.layer,qa=t("featurelayer-pbf")&&E&&m.isNone(W)?"pbf":"json";return new C({url:J.path,format:qa,fieldsIndex:S,
infoFor3D:W,dynamicDataSource:P,gdbVersion:Z,sourceSpatialReference:Y})}}]);return I}(n);b.__decorate([p.property()],c.prototype,"type",void 0);b.__decorate([p.property({constructOnly:!0})],c.prototype,"layer",void 0);b.__decorate([p.property({readOnly:!0})],c.prototype,"queryTask",null);return c=b.__decorate([v.subclass("esri.layers.graphics.sources.FeatureLayerSource")],c)})},"esri/layers/graphics/sources/support/clientSideDefaults":function(){define(["exports","../../../../core/has","../../../../core/lang",
"../../data/QueryEngineCapabilities","../../../../symbols/support/defaultsJSON"],function(a,b,c,f,d){const l=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let u=1;a.createCapabilities=function(t,g){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:g,supportsDelete:g,supportsEditing:g,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,
supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:g,supportsExceedsLimitStatistics:!0},query:f.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:g,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}};a.createDefaultAttributesFunction=
function(t,g){if(b("esri-csp-restrictions"))return()=>({[g]:null,...t});try{let n=`this.${g} = null;`;for(const r in t){const q=l.test(r)?`.${r}`:`["${r}"]`;n+=`this${q} = ${JSON.stringify(t[r])};`}const m=(new Function(`\n      return class AttributesClass$${u++} {\n        constructor() {\n          ${n};\n        }\n      }\n    `))();return()=>new m}catch(n){return()=>({[g]:null,...t})}};a.createDefaultTemplate=function(t={}){return[{name:"New Feature",description:"",prototype:{attributes:c.clone(t)}}]};
a.createDrawingInfo=function(t){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===t||"esriGeometryMultipoint"===t?d.defaultPointSymbolJSON:"esriGeometryPolyline"===t?d.defaultPolylineSymbolJSON:d.defaultPolygonSymbolJSON}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["exports"],function(a){a.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,
centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,
supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/queryAttachments":function(){define("exports ../../../kernel ../../../request ../../../core/urlUtils ../../operations/urlUtils ../support/AttachmentInfo".split(" "),function(a,b,c,f,d,l){function u(t){t=t.toJSON();
t.attachmentTypes&&(t.attachmentTypes=t.attachmentTypes.join(","));t.keywords&&(t.keywords=t.keywords.join(","));t.globalIds&&(t.globalIds=t.globalIds.join(","));t.objectIds&&(t.objectIds=t.objectIds.join(","));t.size&&(t.size=t.size.join(","));return t}a.executeAttachmentQuery=function(t,g,n){g={query:d.mapParameters({...t.query,f:"json",...u(g)})};n&&(g={...n,...g,query:{...n.query,...g.query}});return c(t.path+"/queryAttachments",g)};a.processAttachmentQueryResult=function(t,g){const n={};for(const m of t){const {parentObjectId:r,
parentGlobalId:q,attachmentInfos:k}=m;for(const p of k){({id:t}=p);t=f.addProxy(b.addTokenParameter(`${g}/${r}/attachments/${t}`));const e=l.fromJSON(p);e.set({url:t,parentObjectId:r,parentGlobalId:q});n[r]?n[r].push(e):n[r]=[e]}}return n};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/operations/urlUtils":function(){define(["exports"],function(a){function b(c){const f={};for(const d in c){if("declaredClass"===d)continue;const l=c[d];if(null!=l&&"function"!==typeof l)if(Array.isArray(l)){f[d]=
[];for(let u=0;u<l.length;u++)f[d][u]=b(l[u])}else"object"===typeof l?l.toJSON&&(f[d]=JSON.stringify(l)):f[d]=l}return f}a.mapParameters=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/support/AttachmentInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../layers/support/exifUtils".split(" "),
function(a,b,c,f,d,l,u,t,g){var n;const m={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};c=n=function(r){function q(k){k=r.call(this,k)||this;k.contentType=null;k.exifInfo=null;k.id=null;k.globalId=null;k.keywords=null;k.name=null;k.parentGlobalId=null;k.parentObjectId=null;k.size=
null;k.url=null;return k}a._inheritsLoose(q,r);q.prototype.clone=function(){return new n({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})};a._createClass(q,[{key:"orientationInfo",get:function(){var {exifInfo:k}=this;k=g.getExifValue({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:k});return m[k]||null}}]);return q}(c.JSONSupport);
b.__decorate([f.property({type:String})],c.prototype,"contentType",void 0);b.__decorate([f.property()],c.prototype,"exifInfo",void 0);b.__decorate([f.property({readOnly:!0})],c.prototype,"orientationInfo",null);b.__decorate([f.property({type:u.Integer})],c.prototype,"id",void 0);b.__decorate([f.property({type:String})],c.prototype,"globalId",void 0);b.__decorate([f.property({type:String})],c.prototype,"keywords",void 0);b.__decorate([f.property({type:String})],c.prototype,"name",void 0);b.__decorate([f.property({json:{read:!1}})],
c.prototype,"parentGlobalId",void 0);b.__decorate([f.property({json:{read:!1}})],c.prototype,"parentObjectId",void 0);b.__decorate([f.property({type:u.Integer})],c.prototype,"size",void 0);b.__decorate([f.property({json:{read:!1}})],c.prototype,"url",void 0);return c=n=b.__decorate([t.subclass("esri.layers.support.AttachmentInfo")],c)})},"esri/layers/support/exifUtils":function(){define(["exports"],function(a){function b(c){const {tagName:f,tags:d}=c;return d&&f?(c=d.find(l=>l.name===f))&&c.value||
null:null}a.getExifValue=function(c){const {exifInfo:f,exifName:d,tagName:l}=c;return f&&d&&l?(c=f.find(u=>u.name===d))?b({tagName:l,tags:c.tags}):null:null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/QueryTask":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/has ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../layers/support/source/DataLayerSource ../rest/query/executeAttachmentQuery ../rest/query/executeForCount ../rest/query/executeForExtent ../rest/query/executeForIds ../rest/query/executeQueryJSON ../rest/query/executeQueryPBF ../rest/query/executeRelationshipQuery ../rest/query/executeTopFeaturesQuery ../rest/query/executeForTopIds ../rest/query/executeForTopExtents ../rest/query/executeForTopCount ../rest/support/FeatureSet ../rest/support/Query ../rest/support/RelationshipQuery ./Task".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A,w,y,z,C,B,D,G){g=function(K){function M(I){I=K.call(this,I)||this;I.dynamicDataSource=null;I.fieldsIndex=null;I.format="json";I.gdbVersion=null;I.infoFor3D=null;I.sourceSpatialReference=null;return I}b._inheritsLoose(M,K);var N=M.prototype;N.execute=function(I,F){return this.executeJSON(I,F).then(E=>this.featureSetFromJSON(I,E,F))};N.executeJSON=function(){var I=b._asyncToGenerator(function*(F,E){var J;E={...this.requestOptions,...E};const P=this._normalizeQuery(F);
F=null!=(null==(J=F.outStatistics)?void 0:J[0]);J=d("featurelayer-pbf-statistics");J=!F||J;let W;if("pbf"===this.format&&J)try{W=yield v.executeRawQueryPBF(this.url,P,E)}catch(Z){if("query:parsing-pbf"===Z.name)this.format="json";else throw Z;}"json"!==this.format&&J||(W=yield h.executeRawQueryJSON(this.url,P,E));this._normalizeFields(W.fields);return W});return function(F,E){return I.apply(this,arguments)}}();N.featureSetFromJSON=function(){var I=b._asyncToGenerator(function*(F,E,J){if(!(this._queryIs3DObjectFormat(F)&&
l.isSome(this.infoFor3D)&&E.features&&E.features.length))return C.fromJSON(E);({meshFeatureSetFromJSON:J}=yield u.whenOrAbort(new Promise((P,W)=>a(["../rest/support/meshFeatureSet"],P,W)),J));return J(F,this.infoFor3D,E)});return function(F,E,J){return I.apply(this,arguments)}}();N.executeForCount=function(I,F){F={...this.requestOptions,...F};I=this._normalizeQuery(I);return k.executeForCount(this.url,I,F)};N.executeForExtent=function(I,F){F={...this.requestOptions,...F};I=this._normalizeQuery(I);
return p.executeForExtent(this.url,I,F)};N.executeForIds=function(I,F){F={...this.requestOptions,...F};I=this._normalizeQuery(I);return e.executeForIds(this.url,I,F)};N.executeRelationshipQuery=function(I,F){I=D.from(I);F={...this.requestOptions,...F};if(this.gdbVersion||this.dynamicDataSource)I=I.clone(),I.gdbVersion=I.gdbVersion||this.gdbVersion,I.dynamicDataSource=I.dynamicDataSource||this.dynamicDataSource;return x.executeRelationshipQuery(this.url,I,F)};N.executeRelationshipQueryForCount=function(I,
F){I=D.from(I);F={...this.requestOptions,...F};if(this.gdbVersion||this.dynamicDataSource)I=I.clone(),I.gdbVersion=I.gdbVersion||this.gdbVersion,I.dynamicDataSource=I.dynamicDataSource||this.dynamicDataSource;return x.executeRelationshipQueryForCount(this.url,I,F)};N.executeAttachmentQuery=function(I,F){return q.executeAttachmentQuery(this.url,I,{...this.requestOptions,...F})};N.executeTopFeaturesQuery=function(I,F){return A.executeTopFeaturesQuery(this.parsedUrl,I,this.sourceSpatialReference,{...this.requestOptions,
...F})};N.executeForTopIds=function(I,F){return w.executeForTopIds(this.parsedUrl,I,{...this.requestOptions,...F})};N.executeForTopExtents=function(I,F){return y.executeForTopExtents(this.parsedUrl,I,{...this.requestOptions,...F})};N.executeForTopCount=function(I,F){return z.executeForTopCount(this.parsedUrl,I,{...this.requestOptions,...F})};N._normalizeQuery=function(I){let F=B.from(I);F.sourceSpatialReference=F.sourceSpatialReference||this.sourceSpatialReference;if(this.gdbVersion||this.dynamicDataSource)F=
F===I?F.clone():F,F.gdbVersion=I.gdbVersion||this.gdbVersion,F.dynamicDataSource=I.dynamicDataSource?r.DataLayerSource.from(I.dynamicDataSource):this.dynamicDataSource;if(l.isSome(this.infoFor3D)&&this._queryIs3DObjectFormat(I)){F=F===I?F.clone():F;F.formatOf3DObjects=null;for(const E of this.infoFor3D.queryFormats){if("3D_glb"===E.id){F.formatOf3DObjects=E.id;break}"3D_gltf"!==E.id||F.formatOf3DObjects||(F.formatOf3DObjects=E.id)}if(!F.formatOf3DObjects)throw new f("query:unsupported-3d-query-formats",
"Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(l.isNone(F.outFields)||!F.outFields.includes("*")){F=F===I?F.clone():F;l.isNone(F.outFields)&&(F.outFields=[]);const {originX:E,originY:J,originZ:P,translationX:W,translationY:Z,translationZ:Y,scaleX:S,scaleY:qa,scaleZ:xa,rotationX:Fa,rotationY:la,rotationZ:V,rotationDeg:aa}=this.infoFor3D.transformFieldRoles;F.outFields.push(E,J,P,W,Z,Y,S,qa,xa,Fa,la,V,aa)}}return F};N._normalizeFields=function(I){if(l.isSome(this.fieldsIndex)&&
l.isSome(I))for(const F of I)(I=this.fieldsIndex.get(F.name))&&Object.assign(F,I.toJSON())};N._queryIs3DObjectFormat=function(I){return l.isSome(this.infoFor3D)&&I.returnGeometry&&"xyFootprint"!==I.multipatchOption&&!I.outStatistics};return M}(G);c.__decorate([t.property({type:r.DataLayerSource})],g.prototype,"dynamicDataSource",void 0);c.__decorate([t.property()],g.prototype,"fieldsIndex",void 0);c.__decorate([t.property()],g.prototype,"format",void 0);c.__decorate([t.property()],g.prototype,"gdbVersion",
void 0);c.__decorate([t.property()],g.prototype,"infoFor3D",void 0);c.__decorate([t.property()],g.prototype,"sourceSpatialReference",void 0);return g=c.__decorate([m.subclass("esri.tasks.QueryTask")],g)})},"esri/rest/query/executeAttachmentQuery":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../utils","./operations/queryAttachments","../support/AttachmentQuery"],function(a,b,c,f,d){function l(){l=b._asyncToGenerator(function*(u,t,g){const n=c.parseUrl(u);return f.executeAttachmentQuery(n,
d.from(t),{...g}).then(m=>f.processAttachmentQueryResult(m.data.attachmentGroups,n.path))});return l.apply(this,arguments)}a.executeAttachmentQuery=function(u,t,g){return l.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/utils":function(){define(["exports","../core/maybe","../core/urlUtils","../geometry/support/scaleUtils","../views/support/floorFilterUtils"],function(a,b,c,f,d){function l(t,g,n){const m={};for(const q in t)if("declaredClass"!==q){var r=t[q];
if(null!=r&&"function"!==typeof r)if(Array.isArray(r)){m[q]=[];for(let k=0;k<r.length;k++)m[q][k]=l(r[k])}else"object"===typeof r?r.toJSON?(r=r.toJSON(n&&n[q]),m[q]=g?r:JSON.stringify(r)):m[q]=g?r:JSON.stringify(r):m[q]=r}return m}function u({floors:t,visibleSublayers:g}){const n=!(null==t||!t.length);g=g.filter(m=>null!=m.definitionExpression||n&&null!=m.floorInfo);return g.length?g.map(m=>{var r=d.getLayerFloorFilterClause(t,m);r=b.isSome(r)?d.combineFloorsDefinitionExpression(r,m):m.definitionExpression;
m={id:m.id,definitionExpression:null};r&&(m.definitionExpression=r);return m}):null}a.asValidOptions=function(t,g){return g?{...g,query:{...t,...g.query}}:{query:t}};a.encode=l;a.parseUrl=function(t){return"string"===typeof t?c.urlToObject(t):t};a.toDynamicLayersJSON=function({mapExtent:t,floors:g,width:n,sublayers:m,layerIds:r}){const q={};n={extent:t,width:n,spatialReference:null==t?void 0:t.spatialReference};t=m;null!=r&&r.length&&m&&(t=m.filter(h=>r.includes(h.id)));const k=f.getScale(n),p=[],
e=h=>{const v=0===k,x=0===h.minScale||k<=h.minScale,A=0===h.maxScale||k>=h.maxScale;h.visible&&(v||x&&A)&&(h.sublayers?h.sublayers.forEach(e):p.unshift(h))};t&&t.forEach(e);t&&t.length?(m=p.map(h=>{const v=d.getLayerFloorFilterClause(g,h);return h.toExportImageJSON(v)}),(n=m.some(h=>"mapLayer"===h.source.type?h.source.mapLayerId!==h.id:"dataLayer"===h.source.type))?(m=JSON.stringify(m),"[]"===m&&(m="[{}]"),q.dynamicLayers=m):n||(null!=r&&r.length?q.layerIds=r:(m=t.map(({id:h})=>h),m.length&&(q.layerIds=
m)),(m=u({floors:g,visibleSublayers:p}))&&m.length&&(m=m.reduce((h,v)=>{v.definitionExpression&&(h[v.id]=v.definitionExpression);return h},{}),Object.keys(m).length&&(q.layerDefs=JSON.stringify(m))))):null!=r&&r.length&&(q.layerIds=r);return q};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/scaleUtils":function(){define(["exports","../../core/unitUtils"],function(a,b){function c(f,d){d=b.getMetersPerUnitForSR(d);return f/(d*b.inchesPerMeter*96)}a.getExtentForScale=function(f,
d){const l=f.extent;f=f.width;d=c(d,l.spatialReference);return l.clone().expand(d*f/l.width)};a.getResolutionForScale=c;a.getScale=function(f,d){d=d||f.extent;f=f.width;const l=b.getMetersPerUnitForSR(d&&d.spatialReference);return d&&f?d.width/f*l*b.inchesPerMeter*96:0};a.getScaleForResolution=function(f,d){d=b.getMetersPerUnitForSR(d);return f*d*b.inchesPerMeter*96};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/support/floorFilterUtils":function(){define(["exports"],function(a){function b(c,
f){if(null==c||!c.length)return null;c=c.filter(d=>""!==d).map(d=>`'${d}'`);c.push("''");return`${f} IN (${c.join(",")}) OR ${f} IS NULL`}a.combineFloorsDefinitionExpression=function(c,f){({definitionExpression:f}=f);return c?f?`(${f}) AND (${c})`:c:f};a.getFloorFilterClause=function(c){var f;const d=c.layer;return"floorInfo"in d&&null!=(f=d.floorInfo)&&f.floorField&&"floors"in c.view?b(c.view.floors,d.floorInfo.floorField):null};a.getLayerFloorFilterClause=function(c,f){var d;return"floorInfo"in
f&&null!=(d=f.floorInfo)&&d.floorField?b(c,f.floorInfo.floorField):null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeForCount":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../utils","./operations/query","../support/Query"],function(a,b,c,f,d){function l(){l=b._asyncToGenerator(function*(u,t,g){u=c.parseUrl(u);return f.executeQueryForCount(u,d.from(t),{...g}).then(n=>n.data.count)});return l.apply(this,arguments)}a.executeForCount=function(u,
t,g){return l.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/query":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../request ../../../core/maybe ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../operations/urlUtils ./pbfQueryUtils ./queryZScale".split(" "),function(a,b,c,f,d,l,u,t,g,n){function m(h,v){if(v&&"extent"===h.type)return`${h.xmin},${h.ymin},${h.xmax},${h.ymax}`;
if(v&&"point"===h.type)return`${h.x},${h.y}`;h=h.toJSON();delete h.spatialReference;return JSON.stringify(h)}function r(h,v){const x=h.geometry,A=h.toJSON();delete A.compactGeometryEnabled;delete A.defaultSpatialReferenceEnabled;const w=h.outSpatialReference;let y,z;f.isSome(x)&&(y=x.spatialReference,z=x.spatialReference.wkid||JSON.stringify(x.spatialReference),A.geometryType=l.getJsonType(x),A.geometry=m(x,h.compactGeometryEnabled),A.inSR=z);A.groupByFieldsForStatistics&&(A.groupByFieldsForStatistics=
A.groupByFieldsForStatistics.join(","));A.objectIds&&(A.objectIds=A.objectIds.join(","));A.orderByFields&&(A.orderByFields=A.orderByFields.join(","));!A.outFields||!A.returnDistinctValues&&(null!=v&&v.returnCountOnly||null!=v&&v.returnExtentOnly||null!=v&&v.returnIdsOnly)?delete A.outFields:-1!==A.outFields.indexOf("*")?A.outFields="*":A.outFields=A.outFields.join(",");A.outSR?A.outSR=A.outSR.wkid||JSON.stringify(A.outSR):x&&(A.returnGeometry||A.returnCentroid)&&(A.outSR=A.inSR);A.returnGeometry&&
delete A.returnGeometry;A.outStatistics&&(A.outStatistics=JSON.stringify(A.outStatistics));A.pixelSize&&(A.pixelSize=JSON.stringify(A.pixelSize));A.quantizationParameters&&(h.defaultSpatialReferenceEnabled&&f.isSome(y)&&f.isSome(h.quantizationParameters)&&f.isSome(h.quantizationParameters.extent)&&y.equals(h.quantizationParameters.extent.spatialReference)&&delete A.quantizationParameters.extent.spatialReference,A.quantizationParameters=JSON.stringify(A.quantizationParameters));A.parameterValues&&
(A.parameterValues=JSON.stringify(A.parameterValues));A.rangeValues&&(A.rangeValues=JSON.stringify(A.rangeValues));A.dynamicDataSource&&(A.layer=JSON.stringify({source:A.dynamicDataSource}),delete A.dynamicDataSource);if(A.timeExtent){const {start:C,end:B}=A.timeExtent;if(null!=C||null!=B)A.time=C===B?C:`${null==C?"null":C},${null==B?"null":B}`;delete A.timeExtent}h.defaultSpatialReferenceEnabled&&f.isSome(y)&&f.isSome(w)&&y.equals(w)&&(A.defaultSR=A.inSR,delete A.inSR,delete A.outSR);return A}function q(){q=
b._asyncToGenerator(function*(h,v,x,A){h=f.isSome(v.timeExtent)&&v.timeExtent.isEmpty?{data:{features:[]}}:yield e(h,v,"json",A);n.applyFeatureSetZUnitScaling(v,x,h.data);return h});return q.apply(this,arguments)}function k(){k=b._asyncToGenerator(function*(h,v,x,A){if(f.isSome(v.timeExtent)&&v.timeExtent.isEmpty)return Promise.resolve({data:x.createFeatureResult()});h=yield p(h,v,A);h.data=g.parsePBFFeatureQuery(h.data,x);return h});return k.apply(this,arguments)}function p(h,v,x){return e(h,v,"pbf",
x)}function e(h,v,x,A={},w={}){const y="string"===typeof h?d.urlToObject(h):h;h=v.geometry?[v.geometry]:[];A.responseType="pbf"===x?"array-buffer":"json";return u.normalizeCentralMeridian(h,null,A).then(z=>{z=z&&z[0];f.isSome(z)&&(v=v.clone(),v.geometry=z);z=t.mapParameters({...y.query,f:x,...w,...r(v,w)});return c(d.join(y.path,"query"),{...A,query:{...z,...A.query}})})}a.encodeGeometry=m;a.executeQuery=function(h,v,x,A){return q.apply(this,arguments)};a.executeQueryForCount=function(h,v,x){return f.isSome(v.timeExtent)&&
v.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):e(h,v,"json",x,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForExtent=function(h,v,x){return f.isSome(v.timeExtent)&&v.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):e(h,v,"json",x,{returnExtentOnly:!0,returnCountOnly:!0}).then(A=>{const w=A.data;if(w.hasOwnProperty("extent"))return A;if(w.features)throw Error("Layer does not support extent calculation.");if(w.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");
return A})};a.executeQueryForIds=function(h,v,x){return f.isSome(v.timeExtent)&&v.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):e(h,v,"json",x,{returnIdsOnly:!0})};a.executeQueryPBF=function(h,v,x,A){return k.apply(this,arguments)};a.executeQueryPBFBuffer=p;a.queryToQueryStringParameters=r;a.runQuery=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../config ../../core/Error ../../core/Logger ../../core/maybe ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../rest/geometry/cut ../../rest/geometry/simplify".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q){function k(y){const z=[];let C=0,B=0;for(let D=0;D<y.length;D++){const G=y[D];let K=null;for(let M=0;M<G.length;M++)K=G[M],z.push(K),0===M?B=C=K[0]:(C=Math.min(C,K[0]),B=Math.max(B,K[0]));K&&z.push([(C+B)/2,0])}return z}function p(y,z){if(!(y instanceof t||y instanceof u))throw w.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new f("straightLineDensify: the input geometry is neither polyline nor polygon");var C=g.getGeometryParts(y);
const B=[];for(const G of C){C=[];B.push(C);C.push([G[0][0],G[0][1]]);for(let K=0;K<G.length-1;K++){const M=G[K][0],N=G[K][1],I=G[K+1][0],F=G[K+1][1];var D=Math.sqrt((I-M)*(I-M)+(F-N)*(F-N));const E=(F-N)/D,J=(I-M)/D,P=D/z;if(1<P){for(let W=1;W<=P-1;W++){const Z=W*z;C.push([J*Z+M,E*Z+N])}D=(D+Math.floor(P-1)*z)/2;C.push([J*D+M,E*D+N])}C.push([I,F])}}return"polygon"===y.type?new u({rings:B,spatialReference:y.spatialReference}):new t({paths:B,spatialReference:y.spatialReference})}function e(y,z,C){z&&
(y=p(y,1E6),y=m.webMercatorToGeographic(y,!0));C&&(y=g.updatePolyGeometry(y,C));return y}function h(y,z,C){if(Array.isArray(y)){var B=y[0];B>z?(C=g.offsetMagnitude(B,z),y[0]=B+-2*C*z):B<C&&(z=g.offsetMagnitude(B,C),y[0]=B+-2*z*C)}else B=y.x,B>z?(C=g.offsetMagnitude(B,z),y=y.clone().offset(-2*C*z,0)):B<C&&(z=g.offsetMagnitude(B,C),y=y.clone().offset(-2*z*C,0));return y}function v(y,z){let C=-1;for(let B=0;B<z.cutIndexes.length;B++){const D=z.cutIndexes[B],G=z.geometries[B],K=g.getGeometryParts(G);
for(let M=0;M<K.length;M++){const N=K[M];N.some(I=>{if(180>I[0])return!0;I=0;for(var F=0;F<N.length;F++){var E=N[F][0];I=E>I?E:I}I=Number(I.toFixed(9));I=-360*g.offsetMagnitude(I,180);for(F=0;F<N.length;F++)E=G.getPoint(M,F),G.setPoint(M,F,E.clone().offset(I,0));return!0})}if(D===C)if("polygon"===y[0].type)for(const M of g.getGeometryParts(G))y[D]=y[D].addRing(M);else{if("polyline"===y[0].type)for(const M of g.getGeometryParts(G))y[D]=y[D].addPath(M)}else C=D,y[D]=G}return y}function x(y,z,C){return A.apply(this,
arguments)}function A(){A=b._asyncToGenerator(function*(y,z,C){var B;if(!Array.isArray(y))return x([y],z);z=null!=(B=null==z?void 0:z.url)?B:c.geometryServiceUrl;let D,G,K;let M=0;var N=[];B=[];for(var I of y)if(l.isNone(I))B.push(I);else{if(!F){var F=I.spatialReference;var E=n.getInfo(F);var J=(D=F.isWebMercator)?102100:4326;G=g.cutParams[J].maxX;K=g.cutParams[J].minX;var P=g.cutParams[J].plus180Line;J=g.cutParams[J].minus180Line}if(E)if("mesh"===I.type)B.push(I);else if("point"===I.type)B.push(h(I.clone(),
G,K));else if("multipoint"===I.type){var W=I.clone();W.points=W.points.map(Z=>h(Z,G,K));B.push(W)}else if("extent"===I.type)W=I.clone()._normalize(!1,!1,E),B.push(W.rings?new u(W):W);else if(I.extent){W=I.extent;const Z=2*g.offsetMagnitude(W.xmin,K)*G;let Y=0===Z?I.clone():g.updatePolyGeometry(I.clone(),Z);W.offset(Z,0);W.intersects(P)&&W.xmax!==G?(M=W.xmax>M?W.xmax:M,Y=e(Y,D),N.push(Y),B.push("cut")):W.intersects(J)&&W.xmin!==K?(M=2*W.xmax*G>M?2*W.xmax*G:M,Y=e(Y,D,360),N.push(Y),B.push("cut")):B.push(Y)}else B.push(I.clone());
else B.push(I)}F=g.offsetMagnitude(M,G);E=-90;P=F;for(I=new t;0<F;)J=-180+360*F,I.addPath([[J,E],[J,-1*E]]),E*=-1,F--;if(0<N.length&&0<P){F=yield r.cut(z,N,I,C);F=v(N,F);E=[];N=[];for(P=0;P<B.length;P++)I=B[P],"cut"!==I?N.push(I):(I=F.shift(),J=y[P],l.isSome(J)&&"polygon"===J.type&&J.rings&&1<J.rings.length&&I.rings.length>=J.rings.length?(E.push(I),N.push("simplify")):N.push(D?m.geographicToWebMercator(I):I));if(!E.length)return N;B=yield q.simplify(z,E,C);y=[];for(C=0;C<N.length;C++)z=N[C],"simplify"!==
z?y.push(z):y.push(D?m.geographicToWebMercator(B.shift()):B.shift());return y}y=[];for(C=0;C<B.length;C++)z=B[C],"cut"!==z?y.push(z):(z=N.shift(),y.push(!0===D?m.geographicToWebMercator(z):z));return Promise.resolve(y)});return A.apply(this,arguments)}const w=d.getLogger("esri.geometry.support.normalizeUtils");a.getDenormalizedExtent=function(y){if(!y)return null;const z=y.extent;if(!z)return null;var C=y.spatialReference&&n.getInfo(y.spatialReference);if(!C)return z;const [B,D]=C.valid;({width:C}=
z);let {xmin:G,xmax:K}=z;[G,K]=[K,G];if("extent"===y.type||0===C||C<=D||C>2*D||G<B||K>D)return z;let M;switch(y.type){case "polygon":if(1<y.rings.length)M=k(y.rings);else return z;break;case "polyline":if(1<y.paths.length)M=k(y.paths);else return z;break;case "multipoint":M=y.points}y=z.clone();for(let N=0;N<M.length;N++){let I=M[N][0];0>I?(I+=D,K=Math.max(I,K)):(I-=D,G=Math.min(I,G))}y.xmin=G;y.xmax=K;return y.width<C?(y.xmin-=D,y.xmax-=D,y):z};a.normalizeCentralMeridian=x;a.normalizeMapX=function(y,
z){if(z=n.getInfo(z)){const [C,B]=z.valid;z=B-C;if(y<C)for(;y<C;)y+=z;if(y>B)for(;y>B;)y-=z}return y};a.straightLineDensify=p;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../Polyline","../SpatialReference","./jsonUtils"],function(a,b,c,f){function d(u){return f.isPolygon(u)?u.rings:u.paths}const l={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new b({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],
[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator}),minus180Line:new b({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new b({paths:[[[180,-180],[180,180]]],spatialReference:c.WGS84}),minus180Line:new b({paths:[[[-180,-180],[-180,180]]],spatialReference:c.WGS84})}};a.cutParams=l;a.getGeometryParts=d;a.getSpatialReferenceMinMaxX=function(u){u=(null==
u?0:u.isWebMercator)?102100:4326;return[l[u].minX,l[u].maxX]};a.offsetMagnitude=function(u,t){return Math.ceil((u-t)/(2*t))};a.updatePolyGeometry=function(u,t){const g=d(u);for(const n of g)for(const m of n)m[0]+=t;return u};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/geometry/cut":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../../request ../../core/urlUtils ../../geometry/support/jsonUtils".split(" "),function(a,b,c,f,d,l){function u(){u=b._asyncToGenerator(function*(t,
g,n,m){t="string"===typeof t?d.urlToObject(t):t;const r=g[0].spatialReference;g={...m,query:{...t.query,f:"json",sr:JSON.stringify(r),target:JSON.stringify({geometryType:l.getJsonType(g[0]),geometries:g}),cutter:JSON.stringify(n)}};g=yield f(t.path+"/cut",g);const {cutIndexes:q,geometries:k=[]}=g.data;return{cutIndexes:q,geometries:k.map(p=>{p=l.fromJSON(p);p.spatialReference=r;return p})}});return u.apply(this,arguments)}a.cut=function(t,g,n,m){return u.apply(this,arguments)};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/rest/geometry/simplify":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../request","../../core/urlUtils","../../geometry/support/jsonUtils"],function(a,b,c,f,d){function l(){l=b._asyncToGenerator(function*(g,n,m){const r="string"===typeof g?f.urlToObject(g):g;g=n[0].spatialReference;const q=d.getJsonType(n[0]);n={...m,query:{...r.query,f:"json",sr:g.wkid?g.wkid:JSON.stringify(g),geometries:JSON.stringify(u(n))}};n=yield c(r.path+"/simplify",
n);return t(n.data,q,g)});return l.apply(this,arguments)}function u(g){return{geometryType:d.getJsonType(g[0]),geometries:g.map(n=>n.toJSON())}}function t(g,n,m){const r=d.getGeometryType(n);return g.map(q=>{q=r.fromJSON(q);q.spatialReference=m;return q})}a.simplify=function(g,n,m){return l.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(a,b){a.parsePBFFeatureQuery=
function(c,f){var d=b.parseFeatureQuery(c,f);c=d.queryResult.featureResult;f=d.queryResult.queryGeometry;d=d.queryResult.queryGeometryType;if(c&&c.features&&c.features.length&&c.objectIdFieldName){const l=c.objectIdFieldName;for(const u of c.features)u.attributes&&(u.objectId=u.attributes[l])}c&&(c.queryGeometry=f,c.queryGeometryType=d);return c};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define("exports ../../../core/Error ../../../core/maybe ../../../core/pbf ../../../layers/graphics/OptimizedGeometry ./pbfOptimizedFeatureSet".split(" "),
function(a,b,c,f,d,l){function u(B){return B>=y.length?null:y[B]}function t(B,D,G){for(G=D.createPointGeometry(G);B.next();)switch(B.tag()){case 3:{var K=B.getUInt32();K=B.pos()+K;let M=0;for(;B.pos()<K;)D.addCoordinatePoint(G,B.getSInt64(),M++);break}default:B.skip()}return G}function g(B,D,G){const K=D.createGeometry(G);for(G=2+(G.hasZ?1:0)+(G.hasM?1:0);B.next();)switch(B.tag()){case 2:var M=B.getUInt32();M=B.pos()+M;for(var N=0;B.pos()<M;)D.addLength(K,B.getUInt32(),N++);break;case 3:M=B.getUInt32();
M=B.pos()+M;N=0;for(D.allocateCoordinates(K);B.pos()<M;)D.addCoordinate(K,B.getSInt64(),N),N++,N===G&&(N=0);break;default:B.skip()}return K}function n(B){const D=new d;let G="esriGeometryPoint";for(;B.next();)switch(B.tag()){case 2:var K=B.getUInt32();for(K=B.pos()+K;B.pos()<K;)D.lengths.push(B.getUInt32());break;case 3:K=B.getUInt32();for(K=B.pos()+K;B.pos()<K;)D.coords.push(B.getSInt64());break;case 1:G=l.OPTIMIZED_GEOMETRY_TYPES[B.getEnum()];break;default:B.skip()}return{queryGeometry:D,queryGeometryType:G}}
function m(B){for(;B.next();)switch(B.tag()){case 1:return B.getString();case 2:return B.getFloat();case 3:return B.getDouble();case 4:return B.getSInt32();case 5:return B.getUInt32();case 6:return B.getInt64();case 7:return B.getUInt64();case 8:return B.getSInt64();case 9:return B.getBool();default:return B.skip(),null}return null}function r(B){const D={type:u(0)};for(;B.next();)switch(B.tag()){case 1:D.name=B.getString();break;case 2:D.type=u(B.getEnum());break;case 3:D.alias=B.getString();break;
case 4:var G=B.getEnum();G=G>=z.length?null:z[G];D.sqlType=G;break;case 5:B.skip();break;case 6:D.defaultValue=B.getString();break;default:B.skip()}return D}function q(B){const D={};for(;B.next();)switch(B.tag()){case 1:D.name=B.getString();break;case 2:D.isSystemMaintained=B.getBool();break;default:B.skip()}return D}function k(B,D,G,K){const M=D.createFeature(G);let N=0;for(;B.next();)switch(B.tag()){case 1:{const I=K[N++].name;M.attributes[I]=B.processMessage(m);break}case 2:M.geometry=B.processMessageWithArgs(g,
D,G);break;case 4:M.centroid=B.processMessageWithArgs(t,D,G);break;default:B.skip()}return M}function p(B){const D=[1,1,1,1];for(;B.next();)switch(B.tag()){case 1:D[0]=B.getDouble();break;case 2:D[1]=B.getDouble();break;case 4:D[2]=B.getDouble();break;case 3:D[3]=B.getDouble();break;default:B.skip()}return D}function e(B){const D=[0,0,0,0];for(;B.next();)switch(B.tag()){case 1:D[0]=B.getDouble();break;case 2:D[1]=B.getDouble();break;case 4:D[2]=B.getDouble();break;case 3:D[3]=B.getDouble();break;
default:B.skip()}return D}function h(B){const D={originPosition:0>=C.length?null:C[0]};for(;B.next();)switch(B.tag()){case 1:var G=B.getEnum();D.originPosition=G>=C.length?null:C[G];break;case 2:D.scale=B.processMessage(p);break;case 3:D.translate=B.processMessage(e);break;default:B.skip()}return D}function v(B){const D={};for(;B.next();)switch(B.tag()){case 1:D.shapeAreaFieldName=B.getString();break;case 2:D.shapeLengthFieldName=B.getString();break;case 3:D.units=B.getString();break;default:B.skip()}return D}
function x(B,D){for(D=D.createSpatialReference();B.next();)switch(B.tag()){case 1:D.wkid=B.getUInt32();break;case 5:D.wkt=B.getString();break;case 2:D.latestWkid=B.getUInt32();break;case 3:D.vcsWkid=B.getUInt32();break;case 4:D.latestVcsWkid=B.getUInt32();break;default:B.skip()}return D}function A(B,D){const G=D.createFeatureResult();G.geometryType=0>=D.geometryTypes.length?null:D.geometryTypes[0];let K=!1;for(;B.next();)switch(B.tag()){case 1:G.objectIdFieldName=B.getString();break;case 3:G.globalIdFieldName=
B.getString();break;case 4:G.geohashFieldName=B.getString();break;case 5:G.geometryProperties=B.processMessage(v);break;case 7:var M=B.getEnum();G.geometryType=M>=D.geometryTypes.length?null:D.geometryTypes[M];break;case 8:G.spatialReference=B.processMessageWithArgs(x,D);break;case 10:G.hasZ=B.getBool();break;case 11:G.hasM=B.getBool();break;case 12:G.transform=B.processMessage(h);break;case 9:M=B.getBool();G.exceededTransferLimit=M;break;case 13:D.addField(G,B.processMessage(r));break;case 15:K||
(D.prepareFeatures(G),K=!0);D.addFeature(G,B.processMessageWithArgs(k,D,G,G.fields));break;case 2:G.uniqueIdField=B.processMessage(q);break;default:B.skip()}D.finishFeatureResult(G);return G}function w(B,D){const G={};let K=null;for(;B.next();)switch(B.tag()){case 4:K=B.processMessageWithArgs(n);break;case 1:G.featureResult=B.processMessageWithArgs(A,D);break;default:B.skip()}c.isSome(K)&&G.featureResult&&D.addQueryGeometry(G,K);return G}const y="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),
z="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),C=["upperLeft","lowerLeft"];a.parseFeatureQuery=function(B,D){try{const G=new f(new Uint8Array(B),new DataView(B));
for(B={};G.next();)switch(G.tag()){case 2:B.queryResult=G.processMessageWithArgs(w,D);break;default:G.skip()}return B}catch(G){throw new b("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:G});}};a.parseFieldType=u;a.parseTransform=h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/pbf":function(){define(["./has","./ObjectPool"],function(a,b){var c;(function(l){l[l.varint=0]="varint";l[l.fixed64=1]="fixed64";l[l.delimited=2]="delimited";l[l.fixed32=5]="fixed32";
l[l.unknown=99]="unknown"})(c||(c={}));const f=new TextDecoder("utf-8"),d=a("safari")||a("ios")?6:a("ff")?12:32;a=function(){function l(t,g,n=0,m=t?t.byteLength:0){this._tag=0;this._dataType=c.unknown;this._init(t,g,n,m)}var u=l.prototype;u._init=function(t,g,n,m){this._data=t;this._dataView=g;this._pos=n;this._end=m};u.clone=function(){return new l(this._data,this._dataView,this._pos,this._end)};u.pos=function(){return this._pos};u.move=function(t){this._pos=t};u.nextTag=function(t){for(;;){if(this._pos===
this._end)return!1;const g=this._decodeVarint();this._tag=g>>3;this._dataType=g&7;if(!t||t===this._tag)break;this.skip()}return!0};u.next=function(){if(this._pos===this._end)return!1;const t=this._decodeVarint();this._tag=t>>3;this._dataType=t&7;return!0};u.empty=function(){return this._pos>=this._end};u.tag=function(){return this._tag};u.getInt32=function(){return this._decodeVarint()};u.getInt64=function(){return this._decodeVarint()};u.getUInt32=function(){let t=4294967295;t=(this._data[this._pos]&
127)>>>0;if(128>this._data[this._pos++])return t;t=(t|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return t;t=(t|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return t;t=(t|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return t;t=(t|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return t};u.getUInt64=function(){return this._decodeVarint()};u.getSInt32=function(){const t=this.getUInt32();return t>>>1^-(t&1)|0};u.getSInt64=
function(){return this._decodeSVarint()};u.getBool=function(){const t=0!==this._data[this._pos];this._skip(1);return t};u.getEnum=function(){return this._decodeVarint()};u.getFixed64=function(){var t=this._dataView;const g=this._pos;t=t.getUint32(g,!0)+4294967296*t.getUint32(g+4,!0);this._skip(8);return t};u.getSFixed64=function(){var t=this._dataView;const g=this._pos;t=t.getUint32(g,!0)+4294967296*t.getInt32(g+4,!0);this._skip(8);return t};u.getDouble=function(){const t=this._dataView.getFloat64(this._pos,
!0);this._skip(8);return t};u.getFixed32=function(){const t=this._dataView.getUint32(this._pos,!0);this._skip(4);return t};u.getSFixed32=function(){const t=this._dataView.getInt32(this._pos,!0);this._skip(4);return t};u.getFloat=function(){const t=this._dataView.getFloat32(this._pos,!0);this._skip(4);return t};u.getString=function(){const t=this._getLength();var g=this._pos;g=this._toString(this._data,g,g+t);this._skip(t);return g};u.getBytes=function(){const t=this._getLength();var g=this._pos;g=
this._toBytes(this._data,g,g+t);this._skip(t);return g};u.getLength=function(){return this._getLengthUnsafe()};u.processMessageWithArgs=function(t,g,n,m){const r=this.getMessage();t=t(r,g,n,m);r.release();return t};u.processMessage=function(t){const g=this.getMessage();t=t(g);g.release();return t};u.getMessage=function(){const t=this._getLength(),g=l.pool.acquire();g._init(this._data,this._dataView,this._pos,this._pos+t);this._skip(t);return g};u.release=function(){l.pool.release(this)};u.dataType=
function(){return this._dataType};u.skip=function(){switch(this._dataType){case c.varint:this._decodeVarint();break;case c.fixed64:this._skip(8);break;case c.delimited:this._skip(this._getLength());break;case c.fixed32:this._skip(4);break;default:throw Error("Invalid data type!");}};u.skipLen=function(t){this._skip(t)};u._skip=function(t){if(this._pos+t>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=t};u._decodeVarint=function(){const t=this._data;let g=this._pos,n=0,
m;if(10<=this._end-g){if(m=t[g++],n|=m&127,0!==(m&128)&&(m=t[g++],n|=(m&127)<<7,0!==(m&128)&&(m=t[g++],n|=(m&127)<<14,0!==(m&128)&&(m=t[g++],n|=(m&127)<<21,0!==(m&128)&&(m=t[g++],n+=268435456*(m&127),0!==(m&128)&&(m=t[g++],n+=34359738368*(m&127),0!==(m&128)&&(m=t[g++],n+=4398046511104*(m&127),0!==(m&128)&&(m=t[g++],n+=562949953421312*(m&127),0!==(m&128)&&(m=t[g++],n+=72057594037927936*(m&127),0!==(m&128)&&(m=t[g++],n+=0x7fffffffffffffff*(m&127),0!==(m&128)))))))))))throw Error("Varint too long!");
}else{let r=1;for(;g!==this._end;){m=t[g];if(0===(m&128))break;++g;n+=(m&127)*r;r*=128}if(g===this._end)throw Error("Varint overrun!");++g;n+=m*r}this._pos=g;return n};u._decodeSVarint=function(){const t=this._decodeVarint();return t%2?-(t+1)/2:t/2};u._getLength=function(){if(this._dataType!==c.delimited)throw Error("Not a delimited data type!");return this._decodeVarint()};u._getLengthUnsafe=function(){return this.getUInt32()};u._toString=function(t,g,n){n=Math.min(this._end,n);if(n-g>d)return t=
t.subarray(g,n),f.decode(t);let m="",r="";for(;g<n;++g){const q=t[g];q&128?r+="%"+q.toString(16):(m+=decodeURIComponent(r)+String.fromCharCode(q),r="")}r.length&&(m+=decodeURIComponent(r));return m};u._toBytes=function(t,g,n){n=Math.min(this._end,n);return new Uint8Array(t.buffer,g,n-g)};return l}();a.pool=new b(a,null,l=>{l._data=null;l._dataView=null});return a})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function b(f=
[],d=[],l=!1){this.lengths=null!=f?f:[];this.coords=null!=d?d:[];this.hasIndeterminateRingOrder=l}var c=b.prototype;c.forEachVertex=function(f){let d=0;this.lengths.length||f(this.coords[0],this.coords[1]);for(let l=0;l<this.lengths.length;l++){const u=this.lengths[l];for(let t=0;t<u;t++)f(this.coords[2*(t+d)],this.coords[2*(t+d)+1]);d+=u}};c.clone=function(f){return f?(f.set(this.coords),new b(this.lengths.slice(),f,this.hasIndeterminateRingOrder)):new b(this.lengths.slice(),this.coords.slice(),
this.hasIndeterminateRingOrder)};a._createClass(b,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max(...this.lengths)}},{key:"size",get:function(){return this.lengths.reduce((f,d)=>f+d)}}]);return b}()})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(a,b,c,f,d,l){const u=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let t=function(){function g(m){this.options=m;this.geometryTypes=u;this._vertexDimension=this._coordinatePtr=0}var n=g.prototype;n.createFeatureResult=function(){return new d};n.prepareFeatures=function(m){this._vertexDimension=2;m.hasZ&&this._vertexDimension++;m.hasM&&this._vertexDimension++};n.finishFeatureResult=function(m){if(m&&m.features&&m.hasZ&&this.options.sourceSpatialReference&&
m.spatialReference&&!c.equals(m.spatialReference,this.options.sourceSpatialReference)&&!m.spatialReference.vcsWkid){var r=b.getMetersPerVerticalUnitForSR(this.options.sourceSpatialReference),q=b.getMetersPerVerticalUnitForSR(m.spatialReference);r/=q;if(1!==r)for(const k of m.features)if(f.hasGeometry(k))for(m=k.geometry.coords,q=2;q<m.length;q+=3)m[q]*=r}};n.addFeature=function(m,r){m.features.push(r)};n.createFeature=function(){return new f.OptimizedFeature};n.createSpatialReference=function(){return{wkid:0}};
n.createGeometry=function(){return new l};n.addField=function(m,r){m.fields.push(r)};n.allocateCoordinates=function(m){m.coords.length=m.lengths.reduce((r,q)=>r+q,0)*this._vertexDimension;this._coordinatePtr=0};n.addCoordinate=function(m,r){m.coords[this._coordinatePtr++]=r};n.addCoordinatePoint=function(m,r){m.coords.push(r)};n.addLength=function(m,r){m.lengths.push(r)};n.addQueryGeometry=function(m,r){m.queryGeometry=r.queryGeometry;m.queryGeometryType=r.queryGeometryType};n.createPointGeometry=
function(){return new l};return g}();a.OPTIMIZED_GEOMETRY_TYPES=u;a.OptimizedFeatureSetParserContext=t;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/maybe"],function(a,b,c){let f=function(){function l(u=null,t={},g,n){this.geometry=u;this.attributes=t;this.centroid=g;this.objectId=n;this.geohashY=this.geohashX=this.displayId=0}l.prototype.weakClone=function(){const u=new l(this.geometry,
this.attributes,this.centroid,this.objectId);u.displayId=this.displayId;u.geohashX=this.geohashX;u.geohashY=this.geohashY;return u};return l}(),d=function(l){function u(){return l.apply(this,arguments)||this}b._inheritsLoose(u,l);return u}(f);a.OptimizedFeature=f;a.OptimizedFeatureWithGeometry=d;a.hasGeometry=function(l){return!(c.isNone(l.geometry)||!l.geometry.coords||!l.geometry.coords.length)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function a(){this.spatialReference=
this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}a.prototype.weakClone=function(){const b=new a;b.objectIdFieldName=this.objectIdFieldName;b.globalIdFieldName=this.globalIdFieldName;b.geohashFieldName=this.geohashFieldName;b.geometryProperties=this.geometryProperties;
b.geometryType=this.geometryType;b.spatialReference=this.spatialReference;b.hasZ=this.hasZ;b.hasM=this.hasM;b.features=this.features;b.fields=this.fields;b.transform=this.transform;b.exceededTransferLimit=this.exceededTransferLimit;b.uniqueIdField=this.uniqueIdField;b.queryGeometry=this.queryGeometry;b.queryGeometryType=this.queryGeometryType;return b};return a}()})},"esri/rest/query/executeForExtent":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../utils ./operations/query ../support/Query ../../geometry/Extent".split(" "),
function(a,b,c,f,d,l,u){function t(){t=b._asyncToGenerator(function*(g,n,m){g=f.parseUrl(g);return d.executeQueryForExtent(g,l.from(n),{...m}).then(r=>({count:r.data.count,extent:u.fromJSON(r.data.extent)}))});return t.apply(this,arguments)}a.executeForExtent=function(g,n,m){return t.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeForIds":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../utils","./operations/query","../support/Query"],
function(a,b,c,f,d){function l(){l=b._asyncToGenerator(function*(u,t,g){u=c.parseUrl(u);return f.executeQueryForIds(u,d.from(t),{...g}).then(n=>n.data.objectIds)});return l.apply(this,arguments)}a.executeForIds=function(u,t,g){return l.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeQueryJSON":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../utils ./operations/query ../support/FeatureSet ../support/Query".split(" "),function(a,
b,c,f,d,l){function u(){u=b._asyncToGenerator(function*(n,m,r){n=yield t(n,m,r);return d.fromJSON(n)});return u.apply(this,arguments)}function t(n,m,r){return g.apply(this,arguments)}function g(){g=b._asyncToGenerator(function*(n,m,r){n=c.parseUrl(n);r={...r};m=l.from(m);({data:m}=yield f.executeQuery(n,m,m.sourceSpatialReference,r));return m});return g.apply(this,arguments)}a.executeQueryJSON=function(n,m,r){return u.apply(this,arguments)};a.executeRawQueryJSON=t;Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/rest/query/executeQueryPBF":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../utils ./operations/pbfJSONFeatureSet ./operations/query ../support/FeatureSet ../support/Query".split(" "),function(a,b,c,f,d,l,u){function t(){t=b._asyncToGenerator(function*(m,r,q){m=yield g(m,r,q);return l.fromJSON(m)});return t.apply(this,arguments)}function g(m,r,q){return n.apply(this,arguments)}function n(){n=b._asyncToGenerator(function*(m,r,q){m=c.parseUrl(m);q={...q};r=u.from(r);
({data:r}=yield d.executeQueryPBF(m,r,new f.JSONFeatureSetParserContext({sourceSpatialReference:r.sourceSpatialReference,applyTransform:!r.quantizationParameters}),q));return r});return n.apply(this,arguments)}a.executeQueryPBF=function(m,r,q){return t.apply(this,arguments)};a.executeRawQueryPBF=g;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfJSONFeatureSet":function(){define(["exports","../../../core/compilerUtils","../../../core/maybe","../../../geometry/support/zscale",
"../../../layers/graphics/featureConversionUtils"],function(a,b,c,f,d){function l(k,p){return p}function u(k,p,e,h){switch(e){case 0:return m(k,p+h,0);case 1:return"lowerLeft"===k.originPosition?m(k,p+h,1):r(k,p+h,1)}}function t(k,p,e,h){switch(e){case 2:return m(k,p,2);default:return u(k,p,e,h)}}function g(k,p,e,h){switch(e){case 2:return m(k,p,3);default:return u(k,p,e,h)}}function n(k,p,e,h){switch(e){case 3:return m(k,p,3);default:return t(k,p,e,h)}}function m({translate:k,scale:p},e,h){return k[h]+
e*p[h]}function r({translate:k,scale:p},e,h){return k[h]-e*p[h]}let q=function(){function k(e){this.options=e;this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];this.previousCoordinate=[0,0];this.transform=null;this.applyTransform=l;this.lengths=[];this.vertexDimension=this.toAddInCurrentPath=this.currentLengthIndex=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;this._attributesConstructor=function(){}}var p=k.prototype;p.createFeatureResult=
function(){return{fields:[],features:[]}};p.finishFeatureResult=function(e){this.options.applyTransform&&(e.transform=null);this._attributesConstructor=function(){};this.coordinateBuffer=null;this.lengths.length=0;if(e.hasZ){var h=f.getGeometryZScaler(e.geometryType,this.options.sourceSpatialReference,e.spatialReference);if(!c.isNone(h))for(const v of e.features)h(v.geometry)}};p.createSpatialReference=function(){return{}};p.addField=function(e,h){e.fields.push(h);const v=e.fields.map(x=>x.name);
this._attributesConstructor=function(){for(const x of v)this[x]=null}};p.addFeature=function(e,h){e.features.push(h)};p.prepareFeatures=function(e){this.transform=e.transform;this.options.applyTransform&&e.transform&&(this.applyTransform=this._deriveApplyTransform(e));this.vertexDimension=2;e.hasZ&&this.vertexDimension++;e.hasM&&this.vertexDimension++;switch(e.geometryType){case "esriGeometryPoint":this.addCoordinate=(h,v,x)=>this.addCoordinatePoint(h,v,x);this.createGeometry=h=>this.createPointGeometry(h);
break;case "esriGeometryPolygon":this.addCoordinate=(h,v,x)=>this._addCoordinatePolygon(h,v,x);this.createGeometry=h=>this._createPolygonGeometry(h);break;case "esriGeometryPolyline":this.addCoordinate=(h,v,x)=>this._addCoordinatePolyline(h,v,x);this.createGeometry=h=>this._createPolylineGeometry(h);break;case "esriGeometryMultipoint":this.addCoordinate=(h,v,x)=>this._addCoordinateMultipoint(h,v,x);this.createGeometry=h=>this._createMultipointGeometry(h);break;default:b.neverReached(e.geometryType)}};
p.createFeature=function(){this.currentLengthIndex=this.lengths.length=0;this.previousCoordinate[0]=0;this.previousCoordinate[1]=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;return{attributes:new this._attributesConstructor}};p.allocateCoordinates=function(){};p.addLength=function(e,h,v){0===this.lengths.length&&(this.toAddInCurrentPath=h);this.lengths.push(h)};p.addQueryGeometry=function(e,h){const {queryGeometry:v,queryGeometryType:x}=h;h=d.unquantizeOptimizedGeometry(v.clone(),v,!1,
!1,this.transform);h=d.convertToGeometry(h,x,!1,!1);e.queryGeometryType=x;e.queryGeometry={...h}};p.createPointGeometry=function(e){const h={x:0,y:0,spatialReference:e.spatialReference};e.hasZ&&(h.z=0);e.hasM&&(h.m=0);return h};p.addCoordinatePoint=function(e,h,v){h=this.applyTransform(this.transform,h,v,0);switch(v){case 0:e.x=h;break;case 1:e.y=h;break;case 2:"z"in e?e.z=h:e.m=h;break;case 3:e.m=h}};p._transformPathLikeValue=function(e,h){let v=0;1>=h&&(v=this.previousCoordinate[h],this.previousCoordinate[h]+=
e);return this.applyTransform(this.transform,e,h,v)};p._addCoordinatePolyline=function(e,h,v){this._dehydratedAddPointsCoordinate(e.paths,h,v)};p._addCoordinatePolygon=function(e,h,v){this._dehydratedAddPointsCoordinate(e.rings,h,v)};p._addCoordinateMultipoint=function(e,h,v){0===v&&e.points.push([]);h=this._transformPathLikeValue(h,v);e.points[e.points.length-1].push(h)};p._createPolygonGeometry=function(e){return{rings:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}};p._createPolylineGeometry=
function(e){return{paths:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}};p._createMultipointGeometry=function(e){return{points:[],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}};p._dehydratedAddPointsCoordinate=function(e,h,v){0===v&&0===this.toAddInCurrentPath--&&(e.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);h=this._transformPathLikeValue(h,v);e=e[e.length-1];0===v&&
(this.coordinateBufferPtr=0,this.coordinateBuffer=Array(this.vertexDimension),e.push(this.coordinateBuffer));this.coordinateBuffer[this.coordinateBufferPtr++]=h};p._deriveApplyTransform=function(e){const {hasZ:h,hasM:v}=e;return h&&v?n:h?t:v?g:u};return k}();a.JSONFeatureSetParserContext=q;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(a,b,c,f,d,l,u,t){function g(Q,T){return Q?T?4:3:T?3:2}function n(Q,T,da,ea){if(Q){if(da)return T&&ea?H:Ca;if(T&&ea)return Ia}else if(T&&ea)return Ca;return aa}function m({scale:Q,translate:T},da){return Math.round((da-T[0])/Q[0])}function r({scale:Q,translate:T},da){return Math.round((T[1]-da)/Q[1])}function q({scale:Q,translate:T},da){return da*Q[0]+T[0]}function k({scale:Q,translate:T},da){return T[1]-da*Q[1]}function p(Q){Q=Q.coords;return{x:Q[0],y:Q[1]}}function e(Q,T){Q.coords[0]=T.x;
Q.coords[1]=T.y;return Q}function h(Q){Q=Q.coords;return{x:Q[0],y:Q[1],z:Q[2]}}function v(Q,T){Q.coords[0]=T.x;Q.coords[1]=T.y;Q.coords[2]=T.z;return Q}function x(Q){Q=Q.coords;return{x:Q[0],y:Q[1],m:Q[2]}}function A(Q,T){Q.coords[0]=T.x;Q.coords[1]=T.y;Q.coords[2]=T.m;return Q}function w(Q){Q=Q.coords;return{x:Q[0],y:Q[1],z:Q[2],m:Q[3]}}function y(Q,T){Q.coords[0]=T.x;Q.coords[1]=T.y;Q.coords[2]=T.z;Q.coords[3]=T.m;return Q}function z(Q,T){return Q&&T?y:Q?v:T?A:e}function C(Q,T,da,ea,pa){da=z(da,
ea);for(const ma of T){const {geometry:L,attributes:R}=ma;let U;L&&(U=da(new t,L));Q.push(new l.OptimizedFeature(U,R,null,R[pa]))}return Q}function B(Q,T,da,ea){for(const pa of T){const {geometry:ma,attributes:L}=pa;let R;ma&&(R=D(ma,da,ea));Q.push({attributes:L,geometry:R})}return Q}function D(Q,T,da){if(f.isNone(Q))return null;const ea=g(T,da),pa=[];for(let ma=0;ma<Q.coords.length;ma+=ea){const L=[];for(let R=0;R<ea;R++)L.push(Q.coords[ma+R]);pa.push(L)}return T?da?{points:pa,hasZ:T,hasM:da}:{points:pa,
hasZ:T}:da?{points:pa,hasM:da}:{points:pa}}function G(Q,T,da,ea,pa){da=g(da,ea);for(const ma of T){T=ma.geometry;ea=ma.attributes;let L;T&&(L=K(new t,T,da));Q.push(new l.OptimizedFeature(L,ea,null,ea[pa]))}return Q}function K(Q,T,da=g(T.hasZ,T.hasM)){Q.lengths[0]=T.points.length;const ea=Q.coords;let pa=0;for(const ma of T.points)for(T=0;T<da;T++)ea[pa++]=ma[T];return Q}function M(Q,T,da){if(!Q)return null;const ea=g(T,da),{coords:pa,lengths:ma}=Q;Q=[];let L=0;for(const R of ma){const U=[];for(let sa=
0;sa<R;sa++){const Aa=[];for(let La=0;La<ea;La++)Aa.push(pa[L++]);U.push(Aa)}Q.push(U)}return T?da?{paths:Q,hasZ:T,hasM:da}:{paths:Q,hasZ:T}:da?{paths:Q,hasM:da}:{paths:Q}}function N(Q,T,da,ea,pa){da=g(da,ea);for(const ma of T){T=ma.geometry;ea=ma.attributes;let L;T&&(L=I(new t,T,da));Q.push(new l.OptimizedFeature(L,ea,null,ea[pa]))}return Q}function I(Q,T,da=g(T.hasZ,T.hasM)){const {lengths:ea,coords:pa}=Q;let ma=0;for(const L of T.paths){for(const R of L)for(T=0;T<da;T++)pa[ma++]=R[T];ea.push(L.length)}return Q}
function F(Q,T,da){if(!Q)return null;const ea=g(T,da),{coords:pa,lengths:ma}=Q;Q=[];let L=0;for(const R of ma){const U=[];for(let sa=0;sa<R;sa++){const Aa=[];for(let La=0;La<ea;La++)Aa.push(pa[L++]);U.push(Aa)}Q.push(U)}return T?da?{rings:Q,hasZ:T,hasM:da}:{rings:Q,hasZ:T}:da?{rings:Q,hasM:da}:{rings:Q}}function E(Q,T,da,ea,pa){for(const ma of T){T=ma.geometry;const L=ma.centroid,R=ma.attributes;let U;T&&(U=J(new t,T,da,ea));f.isSome(L)?Q.push(new l.OptimizedFeature(U,R,e(new t,L),R[pa])):Q.push(new l.OptimizedFeature(U,
R,null,R[pa]))}return Q}function J(Q,T,da=T.hasZ,ea=T.hasM){P(Q,T.rings,da,ea);return Q}function P(Q,T,da,ea){da=g(da,ea);const {lengths:pa,coords:ma}=Q;ea=0;pa.length=ma.length=0;for(const L of T){for(const R of L)for(T=0;T<da;T++)ma[ea++]=R[T];pa.push(L.length)}return Q}function W(Q,T,da,ea,pa,ma){Q.length=0;if(!da){for(const L of T)Q.push(new l.OptimizedFeature(null,L.attributes,null,L.attributes[ma]));return Q}switch(da){case "esriGeometryPoint":return C(Q,T,ea,pa,ma);case "esriGeometryMultipoint":return G(Q,
T,ea,pa,ma);case "esriGeometryPolyline":return N(Q,T,ea,pa,ma);case "esriGeometryPolygon":return E(Q,T,ea,pa,ma);default:la.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${da}'`)),Q.length=0}return Q}function Z(Q,T,da,ea){Q=Q&&("coords"in Q?Q:Q.geometry);if(f.isNone(Q))return null;switch(T){case "esriGeometryPoint":return T=p,da&&ea?T=w:da?T=h:ea&&(T=x),T(Q);case "esriGeometryMultipoint":return D(Q,da,ea);case "esriGeometryPolyline":return M(Q,da,ea);case "esriGeometryPolygon":return F(Q,
da,ea);default:la.error("convertToGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${T}'`))}}function Y(Q,T,da,ea,pa){Q.length=0;if(f.isNone(da)){for(const R of T)Q.push({attributes:R.attributes});return Q}switch(da){case "esriGeometryPoint":var ma=p;ea&&pa?ma=w:ea?ma=h:pa&&(ma=x);for(var L of T){const {geometry:R,attributes:U}=L;ea=f.isSome(R)?ma(R):null;Q.push({attributes:U,geometry:ea})}break;case "esriGeometryMultipoint":return B(Q,T,ea,pa);case "esriGeometryPolyline":for(const R of T){const {geometry:U,
attributes:sa}=R;let Aa;f.isSome(U)&&(Aa=M(U,ea,pa));Q.push({attributes:sa,geometry:Aa})}break;case "esriGeometryPolygon":for(ma of T){const {geometry:R,attributes:U,centroid:sa}=ma;let Aa;f.isSome(R)&&(Aa=F(R,ea,pa));f.isSome(sa)?(L=p(sa),Q.push({attributes:U,centroid:L,geometry:Aa})):Q.push({attributes:U,geometry:Aa})}break;default:la.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${da}'`))}return Q}function S(Q,T,da,ea,pa,ma,L=da,R=ea){Q.lengths.length&&
(Q.lengths.length=0);Q.coords.length&&(Q.coords.length=0);if(f.isNone(T)||!T.coords.length)return null;pa=V[pa];const {coords:U,lengths:sa}=T;T=g(da,ea);const Aa=g(da&&L,ea&&R);da=n(da,ea,L,R);if(!sa.length)return da(Q.coords,U,0,0,m(ma,U[0]),r(ma,U[1])),Q.lengths.length&&(Q.lengths.length=0),Q.coords.length=T,Q;let La,Pa=0,Sa,Xa=0;for(const ka of sa){if(ka<pa)continue;let va=0;Sa=Xa;R=ea=m(ma,U[Pa]);La=L=r(ma,U[Pa+1]);da(Q.coords,U,Sa,Pa,R,La);va++;Pa+=T;Sa+=Aa;for(let wa=1;wa<ka;wa++,Pa+=T)if(R=
m(ma,U[Pa]),La=r(ma,U[Pa+1]),R!==ea||La!==L)da(Q.coords,U,Sa,Pa,R-ea,La-L),Sa+=Aa,va++,ea=R,L=La;va>=pa&&(Q.lengths.push(va),Xa=Sa)}Q.coords.length=Xa;return Q.coords.length?Q:null}function qa(Q,T,da,ea,pa,ma,L){let R=ea,U=0;for(let Aa=ma+da;Aa<L;Aa+=da){{var sa=T[Aa];const La=T[Aa+1],Pa=T[L],Sa=T[L+1];let Xa=T[ma],ka=T[ma+1],va=Pa-Xa,wa=Sa-ka;if(0!==va||0!==wa){const Ja=((sa-Xa)*va+(La-ka)*wa)/(va*va+wa*wa);1<Ja?(Xa=Pa,ka=Sa):0<Ja&&(Xa+=va*Ja,ka+=wa*Ja)}va=sa-Xa;wa=La-ka;sa=va*va+wa*wa}sa>R&&(U=
Aa,R=sa)}R>ea&&(U-ma>da&&qa(Q,T,da,ea,pa,ma,U),pa(Q,T,Q.length,U,T[U],T[U+1]),L-U>da&&qa(Q,T,da,ea,pa,U,L))}function xa(Q,T,da,ea,pa){const {coords:ma,lengths:L}=T,R=da?ea?H:Ca:ea?Ca:aa;da=g(da,ea);if(!ma.length)return Q!==T&&(Q.lengths.length=0,Q.coords.length=0),Q;if(!L.length)return R(Q.coords,ma,0,0,q(pa,ma[0]),k(pa,ma[1])),Q!==T&&(Q.lengths.length=0,Q.coords.length=da),Q;const [U,sa]=pa.scale;ea=0;for(let Aa=0;Aa<L.length;Aa++){const La=L[Aa];Q.lengths[Aa]=La;let Pa=q(pa,ma[ea]),Sa=k(pa,ma[ea+
1]);R(Q.coords,ma,ea,ea,Pa,Sa);ea+=da;for(let Xa=1;Xa<La;Xa++,ea+=da)Pa+=ma[ea]*U,Sa-=ma[ea+1]*sa,R(Q.coords,ma,ea,ea,Pa,Sa)}Q!==T&&(Q.lengths.length=L.length,Q.coords.length=ma.length);return Q}function Fa(Q,T,da,ea){let pa=0,ma=Q[ea*T],L=Q[ea*(T+1)];for(let R=1;R<da;R++){const U=ma+Q[ea*(T+R)],sa=L+Q[ea*(T+R)+1],Aa=(U-ma)*(sa+L);ma=U;L=sa;pa+=Aa}return.5*pa}const la=c.getLogger("esri.layers.graphics.featureConversionUtils"),V={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},
aa=(Q,T,da,ea,pa,ma)=>{Q[da]=pa;Q[da+1]=ma},Ca=(Q,T,da,ea,pa,ma)=>{Q[da]=pa;Q[da+1]=ma;Q[da+2]=T[ea+2]},Ia=(Q,T,da,ea,pa,ma)=>{Q[da]=pa;Q[da+1]=ma;Q[da+2]=T[ea+3]},H=(Q,T,da,ea,pa,ma)=>{Q[da]=pa;Q[da+1]=ma;Q[da+2]=T[ea+2];Q[da+3]=T[ea+3]},O=[],fa=[];a.convertFromFeature=function(Q,T,da,ea,pa){O[0]=Q;[Q]=W(fa,O,T,da,ea,pa);O.length=fa.length=0;return Q};a.convertFromFeatureSet=function(Q,T){const da=new u,{hasM:ea,hasZ:pa,features:ma,objectIdFieldName:L,spatialReference:R,geometryType:U,exceededTransferLimit:sa,
transform:Aa,fields:La}=Q;La&&(da.fields=La);da.geometryType=U;da.objectIdFieldName=L||T;da.spatialReference=R;if(!da.objectIdFieldName)return la.error(new b("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),da;ma&&W(da.features,ma,U,pa,ea,da.objectIdFieldName);sa&&(da.exceededTransferLimit=sa);ea&&(da.hasM=ea);pa&&(da.hasZ=pa);Aa&&(da.transform=Aa);return da};a.convertFromFeatures=W;a.convertFromGeometry=function(Q,T,da){if(f.isNone(Q))return null;const ea=new t;"hasZ"in
Q&&null==T&&(T=Q.hasZ);"hasM"in Q&&null==da&&(da=Q.hasM);if(d.isPoint(Q))return z(null!=T?T:null!=Q.z,null!=da?da:null!=Q.m)(ea,Q);if(d.isPolygon(Q))return J(ea,Q,T,da);if(d.isPolyline(Q))return I(ea,Q,g(T,da));if(d.isMultipoint(Q))return K(ea,Q,g(T,da));la.error("convertFromGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${Q}'`))};a.convertFromGraphics=function(Q,T,da,ea,pa,ma){const L=Q.length;switch(da){case "esriGeometryPoint":C(Q,T,ea,pa,ma);break;case "esriGeometryMultipoint":G(Q,
T,ea,pa,ma);break;case "esriGeometryPolyline":N(Q,T,ea,pa,ma);break;case "esriGeometryPolygon":E(Q,T,ea,pa,ma);break;default:la.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${da}'`))}for(ea=0;ea<T.length;ea++)Q[ea+L].geometryType=da,Q[ea+L].insertAfter=T[ea].insertAfter,Q[ea+L].groupId=T[ea].groupId;return Q};a.convertFromMultipoint=K;a.convertFromMultipointFeatures=G;a.convertFromNestedArray=P;a.convertFromPoint=function(Q,T,da=z(null!=T.z,null!=T.m)){return da(Q,
T)};a.convertFromPointFeatures=C;a.convertFromPolygon=J;a.convertFromPolyline=I;a.convertFromPolylineFeatures=N;a.convertToFeature=function(Q,T,da,ea){fa[0]=Q;Y(O,fa,T,da,ea);Q=O[0];O.length=fa.length=0;return Q};a.convertToFeatureSet=function(Q){const {objectIdFieldName:T,spatialReference:da,transform:ea,fields:pa,hasM:ma,hasZ:L,features:R,geometryType:U,exceededTransferLimit:sa,uniqueIdField:Aa,queryGeometry:La,queryGeometryType:Pa}=Q;Q=Y([],R,U,L,ma);const Sa=Z(La,Pa,!1,!1);Q={features:Q,fields:pa,
geometryType:U,objectIdFieldName:T,spatialReference:da,uniqueIdField:Aa,queryGeometry:Sa};ea&&(Q.transform=ea);sa&&(Q.exceededTransferLimit=sa);ma&&(Q.hasM=ma);L&&(Q.hasZ=L);return Q};a.convertToFeatures=Y;a.convertToGeometry=Z;a.convertToMultipoint=D;a.convertToMultipointFeatures=B;a.convertToPoint=function(Q,T,da){return Q?T?da?w(Q):h(Q):da?x(Q):p(Q):null};a.convertToPolygon=F;a.convertToPolyline=M;a.deltaDecodeGeometry=function(Q,T){if(f.isNone(Q))return null;const da=Q.clone(),ea=Q.coords;Q=Q.lengths;
let pa=0;for(let R=0;R<Q.length;R++){const U=Q[R];var ma=ea[T*pa],L=ea[T*pa+1];for(let sa=1;sa<U;sa++)ma+=ea[T*(pa+sa)],L+=ea[T*(pa+sa)+1],da.coords[T*(pa+sa)]=ma,da.coords[T*(pa+sa)+1]=L;pa+=U}return da};a.deltaEncodeGeometry=function(Q,T){const da=Q.clone(),ea=Q.coords;Q=Q.lengths;let pa=0;for(let L=0;L<Q.length;L++){const R=Q[L];let U=ea[T*pa];var ma=ea[T*pa+1];for(let sa=1;sa<R;sa++){const Aa=ea[T*(pa+sa)],La=ea[T*(pa+sa)+1];ma=La-ma;da.coords[T*(pa+sa)]=Aa-U;da.coords[T*(pa+sa)+1]=ma;U=Aa;ma=
La}pa+=R}return da};a.generalizeOptimizedGeometry=function(Q,T,da,ea,pa,ma,L=da,R=ea){Q.lengths.length&&(Q.lengths.length=0);Q.coords.length&&(Q.coords.length=0);if(!T||!T.coords.length)return null;pa=V[pa];const {coords:U,lengths:sa}=T;T=g(da,ea);const Aa=g(da&&L,ea&&R);da=n(da,ea,L,R);if(!sa.length)return da(Q.coords,U,0,0,U[0],U[1]),Q.lengths.length&&(Q.lengths.length=0),Q.coords.length=T,Q;ea=0;ma*=ma;for(const La of sa){if(La<pa){ea+=La*T;continue}L=Q.coords.length/Aa;R=ea;const Pa=ea+(La-1)*
T;da(Q.coords,U,Q.coords.length,R,U[R],U[R+1]);qa(Q.coords,U,T,ma,da,R,Pa);da(Q.coords,U,Q.coords.length,Pa,U[Pa],U[Pa+1]);R=Q.coords.length/Aa-L;R>=pa?Q.lengths.push(R):Q.coords.length=L*Aa;ea+=La*T}return Q.coords.length?Q:null};a.getBoundsOptimizedGeometry=function(Q,T,da,ea){if(f.isNone(T)||!T.coords||!T.coords.length)return null;da=g(da,ea);let pa=ea=Number.POSITIVE_INFINITY,ma=Number.NEGATIVE_INFINITY,L=Number.NEGATIVE_INFINITY;if(T&&T.coords){T=T.coords;for(let R=0;R<T.length;R+=da){const U=
T[R],sa=T[R+1];ea=Math.min(ea,U);ma=Math.max(ma,U);pa=Math.min(pa,sa);L=Math.max(L,sa)}}Q[0]=ea;Q[1]=pa;Q[2]=ma;Q[3]=L;return Q};a.getQuantizedArea=function(Q,T){const {coords:da,lengths:ea}=Q;let pa=Q=0;for(let ma=0;ma<ea.length;ma++)pa+=Fa(da,Q,ea[ma],T),Q+=ma;return Math.abs(pa)};a.getQuantizedBoundsOptimizedGeometry=function(Q,T,da,ea){da=g(da,ea);const {lengths:pa,coords:ma}=T;ea=T=Number.POSITIVE_INFINITY;let L=Number.NEGATIVE_INFINITY,R=Number.NEGATIVE_INFINITY,U=0;for(const sa of pa){let Aa=
ma[U],La=ma[U+1];T=Math.min(Aa,T);ea=Math.min(La,ea);L=Math.max(Aa,L);R=Math.max(La,R);U+=da;for(let Pa=1;Pa<sa;Pa++,U+=da){const Sa=ma[U],Xa=ma[U+1];Aa+=Sa;La+=Xa;0>Sa&&(T=Math.min(T,Aa));0<Sa&&(L=Math.max(L,Aa));0>Xa?ea=Math.min(ea,La):0<Xa&&(R=Math.max(R,La))}}Q[0]=T;Q[1]=ea;Q[2]=L;Q[3]=R;return Q};a.getSignedQuantizedRingArea=Fa;a.quantizeOptimizedFeatureSet=function(Q,T){const {geometryType:da,features:ea,hasM:pa,hasZ:ma}=T;if(!Q)return T;for(let L=0;L<ea.length;L++){const R=ea[L],U=R.weakClone();
U.geometry=new t;S(U.geometry,R.geometry,pa,ma,da,Q);R.centroid&&(U.centroid=new t,S(U.centroid,R.centroid,pa,ma,"esriGeometryPoint",Q));ea[L]=U}T.transform=Q;return T};a.quantizeOptimizedGeometry=S;a.quantizeX=m;a.quantizeY=r;a.removeCollinearVectices=function(Q,T,da,ea,pa){if(!T||!T.coords||!T.coords.length)return null;da=V[da];const {coords:ma,lengths:L}=T;T=n(ea,pa,ea,pa);ea=g(ea,pa);let R=pa=0,U=0,sa=0;for(const Pa of L){R=sa;T(Q.coords,ma,R,pa,ma[pa],ma[pa+1]);pa+=ea;var Aa=ma[pa];let Sa=ma[pa+
1],Xa=Aa,ka=Sa;var La=Sa/Aa;R+=ea;T(Q.coords,ma,R,pa,Xa,ka);pa+=ea;for(let va=2;va<Pa;va++){Aa=ma[pa];Sa=ma[pa+1];const wa=Sa/Aa,Ja=La===wa||!isFinite(La)&&!isFinite(wa);La=Ja&&isFinite(wa)?0<=La&&0<=wa||0>=La&&0>=wa:0<=ka&&0<=Sa||0>=ka&&0>=Sa;Ja&&La?(Xa+=Aa,ka+=Sa):(Xa=Aa,ka=Sa,R+=ea);T(Q.coords,ma,R,pa,Xa,ka);pa+=ea;La=wa}R+=ea;Aa=(R-sa)/ea;Aa>=da&&(Q.lengths[U]=Aa,sa=R,U++)}Q.coords.length>sa&&(Q.coords.length=sa);Q.lengths.length>U&&(Q.lengths.length=U);return Q.coords.length&&Q.lengths.length?
Q:null};a.removeZMValues=function(Q,T,da,ea,pa,ma){const L=g(da,ea);da=n(da,ea,pa,ma);ea=T.coords;Q.coords.length=0;Q.lengths.length=0;Q.lengths.push(...T.lengths);for(T=0;T<ea.length;T+=L)da(Q.coords,ea,Q.coords.length,T,ea[T],ea[T+1]);return Q};a.unquantizeOptimizedFeatureSet=function(Q){const {transform:T,features:da,hasM:ea,hasZ:pa}=Q;if(!T)return Q;for(const ma of da)f.isSome(ma.geometry)&&xa(ma.geometry,ma.geometry,ea,pa,T),f.isSome(ma.centroid)&&xa(ma.centroid,ma.centroid,ea,pa,T);Q.transform=
null;return Q};a.unquantizeOptimizedGeometry=xa;a.unquantizeX=q;a.unquantizeY=k;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeRelationshipQuery":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../utils ./operations/queryRelatedRecords ../support/FeatureSet ../support/RelationshipQuery".split(" "),function(a,b,c,f,d,l){function u(){u=b._asyncToGenerator(function*(g,n,m){n=l.from(n);g=c.parseUrl(g);return f.executeRelationshipQuery(g,n,m).then(r=>{const q=
r.data,k={};Object.keys(q).forEach(p=>k[p]=d.fromJSON(q[p]));return k})});return u.apply(this,arguments)}function t(){t=b._asyncToGenerator(function*(g,n,m){n=l.from(n);g=c.parseUrl(g);return f.executeRelationshipQueryForCount(g,n,{...m}).then(r=>r.data)});return t.apply(this,arguments)}a.executeRelationshipQuery=function(g,n,m){return u.apply(this,arguments)};a.executeRelationshipQueryForCount=function(g,n,m){return t.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/queryRelatedRecords":function(){define(["exports",
"../../../chunks/_rollupPluginBabelHelpers","../../../request","../../operations/urlUtils"],function(a,b,c,f){function d(n,m){n=n.toJSON();n.objectIds&&(n.objectIds=n.objectIds.join(","));n.orderByFields&&(n.orderByFields=n.orderByFields.join(","));!n.outFields||null!=m&&m.returnCountOnly?delete n.outFields:-1!==n.outFields.indexOf("*")?n.outFields="*":n.outFields=n.outFields.join(",");n.outSpatialReference&&(n.outSR=n.outSR.wkid||JSON.stringify(n.outSR.toJSON()),delete n.outSpatialReference);n.dynamicDataSource&&
(n.layer=JSON.stringify({source:n.dynamicDataSource}),delete n.dynamicDataSource);return n}function l(){l=b._asyncToGenerator(function*(n,m,r){n=yield t(n,m,r);m=n.data;r=m.geometryType;const q=m.spatialReference,k={};for(const p of m.relatedRecordGroups){const e={fields:void 0,objectIdFieldName:void 0,geometryType:r,spatialReference:q,hasZ:!!m.hasZ,hasM:!!m.hasM,features:p.relatedRecords};if(null!=p.objectId)k[p.objectId]=e;else for(const h in p)p.hasOwnProperty(h)&&"relatedRecords"!==h&&(k[p[h]]=
e)}return{...n,data:k}});return l.apply(this,arguments)}function u(){u=b._asyncToGenerator(function*(n,m,r){n=yield t(n,m,r,{returnCountOnly:!0});m=n.data;r={};for(const q of m.relatedRecordGroups)null!=q.objectId&&(r[q.objectId]=q.count);return{...n,data:r}});return u.apply(this,arguments)}function t(n,m){return g.apply(this,arguments)}function g(){g=b._asyncToGenerator(function*(n,m,r={},q){m=f.mapParameters({...n.query,f:"json",...q,...d(m,q)});return c(n.path+"/queryRelatedRecords",{...r,query:{...r.query,
...m}})});return g.apply(this,arguments)}a.executeRelationshipQuery=function(n,m,r){return l.apply(this,arguments)};a.executeRelationshipQueryForCount=function(n,m,r){return u.apply(this,arguments)};a.toQueryStringParameters=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeTopFeaturesQuery":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../utils ./operations/queryTopFeatures ../support/FeatureSet ../support/TopFeaturesQuery".split(" "),function(a,b,
c,f,d,l){function u(){u=b._asyncToGenerator(function*(t,g,n,m){t=c.parseUrl(t);m={...m};({data:g}=yield f.executeTopFeaturesQuery(t,l.from(g),n,m));return d.fromJSON(g)});return u.apply(this,arguments)}a.executeTopFeaturesQuery=function(t,g,n,m){return u.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/queryTopFeatures":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../request ../../../core/maybe ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../operations/urlUtils ./queryZScale".split(" "),
function(a,b,c,f,d,l,u,t,g){function n(p,e){var h,v;const x=p.geometry;p=p.toJSON();f.isSome(x)&&(p.geometry=JSON.stringify(x),p.geometryType=l.getJsonType(x),p.inSR=x.spatialReference.wkid||JSON.stringify(x.spatialReference));null!=(h=p.topFilter)&&h.groupByFields&&(p.topFilter.groupByFields=p.topFilter.groupByFields.join(","));null!=(v=p.topFilter)&&v.orderByFields&&(p.topFilter.orderByFields=p.topFilter.orderByFields.join(","));p.topFilter&&(p.topFilter=JSON.stringify(p.topFilter));p.objectIds&&
(p.objectIds=p.objectIds.join(","));p.orderByFields&&(p.orderByFields=p.orderByFields.join(","));!p.outFields||null!=e&&e.returnCountOnly||null!=e&&e.returnExtentOnly||null!=e&&e.returnIdsOnly?delete p.outFields:-1!==p.outFields.indexOf("*")?p.outFields="*":p.outFields=p.outFields.join(",");p.outSR?p.outSR=p.outSR.wkid||JSON.stringify(p.outSR):x&&p.returnGeometry&&(p.outSR=p.inSR);p.returnGeometry&&delete p.returnGeometry;if(p.timeExtent){const {start:A,end:w}=p.timeExtent;if(null!=A||null!=w)p.time=
A===w?A:`${null==A?"null":A},${null==w?"null":w}`;delete p.timeExtent}return p}function m(){m=b._asyncToGenerator(function*(p,e,h,v){p=yield k(p,e,"json",v);g.applyFeatureSetZUnitScaling(e,h,p.data);return p});return m.apply(this,arguments)}function r(){r=b._asyncToGenerator(function*(p,e,h){return f.isSome(e.timeExtent)&&e.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):k(p,e,"json",h,{returnIdsOnly:!0})});return r.apply(this,arguments)}function q(){q=b._asyncToGenerator(function*(p,e,
h){return f.isSome(e.timeExtent)&&e.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):k(p,e,"json",h,{returnExtentOnly:!0,returnCountOnly:!0}).then(v=>{const x=v.data;if(x.hasOwnProperty("extent"))return v;if(x.features)throw Error("Layer does not support extent calculation.");if(x.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return v})});return q.apply(this,arguments)}function k(p,e,h,v={},x={}){const A="string"===typeof p?d.urlToObject(p):p;p=
e.geometry?[e.geometry]:[];v.responseType="pbf"===h?"array-buffer":"json";return u.normalizeCentralMeridian(p,null,v).then(w=>{w=w&&w[0];f.isSome(w)&&(e=e.clone(),e.geometry=w);w=t.mapParameters({...A.query,f:h,...x,...n(e,x)});return c(d.join(A.path,"queryTopFeatures"),{...v,query:{...w,...v.query}})})}a.executeQueryForTopCount=function(p,e,h){return f.isSome(e.timeExtent)&&e.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):k(p,e,"json",h,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForTopExtents=
function(p,e,h){return q.apply(this,arguments)};a.executeQueryForTopIds=function(p,e,h){return r.apply(this,arguments)};a.executeTopFeaturesQuery=function(p,e,h,v){return m.apply(this,arguments)};a.queryToQueryStringParameters=n;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeForTopIds":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../utils","./operations/queryTopFeatures","../support/TopFeaturesQuery"],function(a,b,c,f,d){function l(){l=b._asyncToGenerator(function*(u,
t,g){u=c.parseUrl(u);return(yield f.executeQueryForTopIds(u,d.from(t),{...g})).data.objectIds});return l.apply(this,arguments)}a.executeForTopIds=function(u,t,g){return l.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeForTopExtents":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../utils ./operations/queryTopFeatures ../support/TopFeaturesQuery ../../geometry/Extent".split(" "),function(a,b,c,f,d,l,u){function t(){t=
b._asyncToGenerator(function*(g,n,m){g=f.parseUrl(g);n=yield d.executeQueryForTopExtents(g,l.from(n),{...m});return{count:n.data.count,extent:u.fromJSON(n.data.extent)}});return t.apply(this,arguments)}a.executeForTopExtents=function(g,n,m){return t.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeForTopCount":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../utils","./operations/queryTopFeatures","../support/TopFeaturesQuery"],
function(a,b,c,f,d){function l(){l=b._asyncToGenerator(function*(u,t,g){u=c.parseUrl(u);return(yield f.executeQueryForTopCount(u,d.from(t),{...g})).data.count});return l.apply(this,arguments)}a.executeForTopCount=function(u,t,g){return l.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/Task":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/urlUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g){c=function(n){function m(...q){q=n.call(this,...q)||this;q.requestOptions=null;q.url=null;return q}a._inheritsLoose(m,n);var r=m.prototype;r.normalizeCtorArgs=function(q,k){return"string"!==typeof q?q:{url:q,...k}};r._parseUrl=function(q){return q?f.urlToObject(q):null};r._encode=function(q,k,p){const e={};for(const v in q)if("declaredClass"!==v){var h=q[v];if(null!=h&&"function"!==typeof h)if(Array.isArray(h)){e[v]=[];for(let x=0;x<h.length;x++)e[v][x]=this._encode(h[x])}else"object"===
typeof h?h.toJSON?(h=h.toJSON(p&&p[v]),e[v]=k?h:JSON.stringify(h)):e[v]=k?h:JSON.stringify(h):e[v]=h}return e};a._createClass(m,[{key:"parsedUrl",get:function(){return this._parseUrl(this.url)}}]);return m}(c);b.__decorate([d.property({readOnly:!0})],c.prototype,"parsedUrl",null);b.__decorate([d.property()],c.prototype,"requestOptions",void 0);b.__decorate([d.property({type:String})],c.prototype,"url",void 0);return c=b.__decorate([g.subclass("esri.tasks.Task")],c)})},"esri/views/View":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Map ../TimeExtent ../core/Accessor ../core/Collection ../core/CollectionFlattener ../core/Error ../core/Evented ../core/HandleOwner ../core/handleUtils ../core/Loadable ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/accessorSupport/decorators/aliasOf ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ../geometry/support/spatialReferenceUtils ../support/AnalysesCollection ../support/GraphicsCollection ./BasemapView ./LayerViewManager ./Magnifier ./ToolViewManager ./input/Input ./input/ViewEvents ./navigation/Navigation ./support/DefaultsFromMap".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A,w,y,z,C,B,D,G,K,M,N,I,F,E,J,P,W,Z,Y){var S;const qa=q.getLogger("esri.views.View");d=S=function(xa){function Fa(V){var aa=xa.call(this,V)||this;aa._userSpatialReference=null;aa._cursor=null;aa.allLayerViews=new u({getCollections:()=>{var Ca,Ia,H;return[null==(Ca=aa.basemapView)?void 0:Ca.baseLayerViews,null==(Ia=aa.groundView)?void 0:Ia.layerViews,aa.layerViews,null==(H=aa.basemapView)?void 0:H.referenceLayerViews]},getChildrenFunction:Ca=>Ca.layerViews});
aa.groundView=null;aa.animation=null;aa.basemapView=null;aa.fatalError=null;aa.extent=null;aa.graphics=new N.GraphicsCollection;aa.analyses=new M.AnalysesCollection;aa.navigating=!1;aa.typeSpecificPreconditionsReady=!0;aa.layerViews=new l;aa.magnifier=new E;aa.padding={left:0,top:0,right:0,bottom:0};aa.ready=!1;aa.spatialReferenceWarningDelay=1E3;aa.supportsGround=!0;aa.timeExtent=null;aa.type=null;aa.scale=null;aa.updating=!1;aa.initialExtentRequired=!0;aa.input=new P;aa.navigation=new Z;aa.layerViewManager=
null;aa.analysisViewManager=null;aa.isHeightModelInfoRequired=!1;aa.width=null;aa.height=null;aa.resizing=!1;aa.suspended=!1;aa.viewEvents=new W.ViewEvents(a._assertThisInitialized(aa));aa.persistableViewModels=new l;aa._isValid=!1;aa._readyCycleForced=!1;aa.handles.add(aa.watch("preconditionsReady",Ca=>{Ca?(aa._currentSpatialReference=aa.spatialReference,S.views.add(a._assertThisInitialized(aa))):(aa._currentSpatialReference=null,S.views.remove(a._assertThisInitialized(aa)));aa.notifyChange("spatialReference");
if(!Ca&&aa.ready){var Ia,H;null==(Ia=aa.layerViewManager)?void 0:Ia.clear();null==(H=aa.toolViewManager)?void 0:H.detach();k.isSome(aa.analysisViewManager)&&aa.analysisViewManager.detach();aa._teardown()}else Ca&&!aa.ready&&(k.isSome(aa.analysisViewManager)&&aa.analysisViewManager.attach(),aa._startup(),aa.toolViewManager.attach())},!0));return aa}a._inheritsLoose(Fa,xa);var la=Fa.prototype;la.initialize=function(){this.addResolvingPromise(this.validate().then(()=>{this._isValid=!0;return h.whenOnce(()=>
this.ready)}));this.basemapView=new I.BasemapView({view:this});this.layerViewManager=new F({view:this,layerViewImporter:{importLayerView:V=>this.importLayerView(V),hasLayerViewModule:V=>this.hasLayerViewModule(V)},supportsGround:this.supportsGround});this.toolViewManager=new J({view:this});this._setupSpatialReferenceLogger();this.handles.add([h.watch(()=>this.initialExtentRequired,V=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:V},{sync:!0,initial:!0}),h.watch(()=>this.ready,
V=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=V,this.defaultsFromMap.userSpatialReference=V?this.spatialReference:this._userSpatialReference)},{sync:!0}),h.watch(()=>this._userSpatialReference,V=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=V)},{sync:!0,initial:!0})])};la._setupSpatialReferenceLogger=function(){var V=this;let aa=null;this.handles.add([h.watch(()=>{var Ca;return null==(Ca=this.defaultsFromMap)?void 0:Ca.ready},Ca=>{var Ia;const H=0<(null==(Ia=this.map)?
void 0:Ia.allLayers.length);Ca&&!this.spatialReference&&H?k.isSome(aa)||(Ca=m.makeHandle(()=>aa=k.abortMaybe(aa)),aa=e.createTask(function(){var O=a._asyncToGenerator(function*(fa){try{yield e.after(V.spatialReferenceWarningDelay,null,fa)}catch{return}finally{aa=null}qa.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")});return function(fa){return O.apply(this,arguments)}}()),this.handles.add(Ca,"spatial-reference-logger-task")):this.handles.remove("spatial-reference-logger-task")},
{sync:!0})])};la.destroy=function(){if(!this.destroyed){this.viewEvents.destroy();this.allLayerViews.destroy();this.navigation&&(this.navigation.destroy(),this._set("navigation",null));this.graphics=k.destroyMaybe(this.graphics);this.analyses=k.destroyMaybe(this.analyses);this.handles.remove("defaultsFromMap");this.defaultsFromMap.destroy();this._set("defaultsFromMap",null);this.toolViewManager=k.destroyMaybe(this.toolViewManager);this.layerViewManager=k.destroyMaybe(this.layerViewManager);this.basemapView=
k.destroyMaybe(this.basemapView);this.invalidate();this._emitter.clear();this.handles.removeAll();var V=this.map;this.map=null;null==V?void 0:V.destroy()}};la._startup=function(){this._set("ready",!0)};la._teardown=function(){this._set("ready",!1)};la.whenReady=function(){return Promise.resolve(this)};la.toMap=function(){qa.error("#toMap()","Not implemented on this instance of View");return null};la._spatialReferenceChanged=function(V){};la.whenLayerView=function(V){return this.layerViewManager.whenLayerView(V)};
la.getDefaultSpatialReference=function(){var V;return null==(V=this.defaultsFromMap)?void 0:V.spatialReference};la.getDefaultHeightModelInfo=function(){var V,aa,Ca;return null!=(V=null!=(aa=this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)?aa:null==(Ca=this.defaultsFromMap)?void 0:Ca.heightModelInfo)?V:null};la.importLayerView=function(V){throw new t("importLayerView() not implemented");};la.hasLayerViewModule=function(V){return!1};la.validate=function(){var V=a._asyncToGenerator(function*(){});
return function(){return V.apply(this,arguments)}}();la.invalidate=function(){this._isValid=!1};la.getSpatialReferenceSupport=function(){return{}};la._validateSpatialReference=function(V){return k.isSome(this.getSpatialReferenceSupport({spatialReference:V}))};la.when=function(V,aa){this.isResolved()&&!this.ready&&qa.warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() \x3d\x3e view.ready).then(...) instead.");
return xa.prototype.when.call(this,V,aa)};la.forceReadyCycle=function(){this.ready&&(h.when(()=>!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)};la.addAndActivateTool=function(V){this.toolViewManager.tools.add(V);this.activeTool=V};la.tryFatalErrorRecovery=function(){this.fatalError=null};a._createClass(Fa,[{key:"_defaultsFromMapSettings",get:function(){return{}}},{key:"defaultsFromMap",get:function(){return new Y({required:{tileInfo:!1,heightModelInfo:!1,
extent:!1},map:()=>this.map,getSpatialReferenceSupport:V=>this.getSpatialReferenceSupport(V),...this._defaultsFromMapSettings})}},{key:"heightModelInfo",get:function(){return this.getDefaultHeightModelInfo()}},{key:"interacting",get:function(){return this.navigating}},{key:"preconditionsReady",get:function(){var V;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||r.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||
!(this._currentSpatialReference||null!=(V=this.defaultsFromMap)&&V.ready)||!this.typeSpecificPreconditionsReady)}},{key:"map",set:function(V){var aa;const Ca=this._get("map");V!==Ca&&(null!=(aa=V)&&aa.destroyed&&(qa.warn("#map","The provided map is already destroyed",{map:V}),V=null),r.isLoadable(V)&&V.load().catch(()=>{}),this.initialized&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",V))}},{key:"spatialReference",get:function(){var V,aa;let Ca=this._userSpatialReference||
this._currentSpatialReference||this.getDefaultSpatialReference()||null;Ca&&null!=(V=this.defaultsFromMap)&&null!=(aa=V.required)&&aa.heightModelInfo&&(Ca=Ca.clone(),Ca.vcsWkid=this.defaultsFromMap.vcsWkid,Ca.latestVcsWkid=this.defaultsFromMap.latestVcsWkid);return Ca},set:function(V){const aa=!K.equals(V,this._get("spatialReference"));this._set("_userSpatialReference",V);aa&&(this._set("spatialReference",V),this._spatialReferenceChanged(V))}},{key:"stationary",get:function(){return!this.animation&&
!this.navigating&&!this.resizing}},{key:"initialExtent",get:function(){var V;return null==(V=this.defaultsFromMap)?void 0:V.extent}},{key:"cursor",get:function(){const V=this.toolViewManager?this.toolViewManager.cursor:null;return k.isSome(V)?V:this._cursor||"default"},set:function(V){this._cursor=V;this.notifyChange("cursor")}},{key:"size",get:function(){return[this.width,this.height]}}]);return Fa}(n.HandleOwnerMixin(g.EventedMixin(p.EsriPromiseMixin(d))));d.views=new l;b.__decorate([y.property()],
d.prototype,"_userSpatialReference",void 0);b.__decorate([v.aliasOf("toolViewManager.activeTool")],d.prototype,"activeTool",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"allLayerViews",void 0);b.__decorate([y.property()],d.prototype,"groundView",void 0);b.__decorate([y.property()],d.prototype,"animation",void 0);b.__decorate([y.property()],d.prototype,"basemapView",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"_defaultsFromMapSettings",null);b.__decorate([y.property()],
d.prototype,"defaultsFromMap",null);b.__decorate([y.property()],d.prototype,"fatalError",void 0);b.__decorate([y.property({type:B})],d.prototype,"extent",void 0);b.__decorate([y.property(C.owningCollectionProperty(N.GraphicsCollection,"graphics"))],d.prototype,"graphics",void 0);b.__decorate([y.property(C.owningCollectionProperty(M.AnalysesCollection,"analyses"))],d.prototype,"analyses",void 0);b.__decorate([y.property({readOnly:!0,type:D})],d.prototype,"heightModelInfo",null);b.__decorate([y.property({readOnly:!0})],
d.prototype,"interacting",null);b.__decorate([y.property({readOnly:!0})],d.prototype,"navigating",void 0);b.__decorate([y.property({readOnly:!0,dependsOn:"fatalError _isValid _readyCycleForced map map.loaded? width height spatialReference _currentSpatialReference defaultsFromMap.ready typeSpecificPreconditionsReady".split(" ")})],d.prototype,"preconditionsReady",null);b.__decorate([y.property({readOnly:!0})],d.prototype,"typeSpecificPreconditionsReady",void 0);b.__decorate([y.property({type:l,readOnly:!0})],
d.prototype,"layerViews",void 0);b.__decorate([y.property({type:E})],d.prototype,"magnifier",void 0);b.__decorate([y.property({value:null,type:c})],d.prototype,"map",null);b.__decorate([y.property()],d.prototype,"padding",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"ready",void 0);b.__decorate([y.property({type:G})],d.prototype,"spatialReference",null);b.__decorate([y.property()],d.prototype,"spatialReferenceWarningDelay",void 0);b.__decorate([y.property()],d.prototype,"stationary",
null);b.__decorate([y.property({readOnly:!0})],d.prototype,"supportsGround",void 0);b.__decorate([y.property({type:f})],d.prototype,"timeExtent",void 0);b.__decorate([v.aliasOf("toolViewManager.tools")],d.prototype,"tools",void 0);b.__decorate([y.property()],d.prototype,"toolViewManager",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"type",void 0);b.__decorate([y.property({type:Number})],d.prototype,"scale",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"updating",void 0);
b.__decorate([y.property({readOnly:!0})],d.prototype,"initialExtentRequired",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"initialExtent",null);b.__decorate([y.property()],d.prototype,"cursor",null);b.__decorate([y.property({readOnly:!0})],d.prototype,"input",void 0);b.__decorate([y.property({type:Z,nonNullable:!0})],d.prototype,"navigation",void 0);b.__decorate([y.property()],d.prototype,"layerViewManager",void 0);b.__decorate([y.property()],d.prototype,"analysisViewManager",void 0);
b.__decorate([y.property()],d.prototype,"width",void 0);b.__decorate([y.property()],d.prototype,"height",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"resizing",void 0);b.__decorate([y.property({value:null,readOnly:!0})],d.prototype,"size",null);b.__decorate([y.property({readOnly:!0})],d.prototype,"suspended",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"viewEvents",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"persistableViewModels",void 0);b.__decorate([y.property()],
d.prototype,"_isValid",void 0);b.__decorate([y.property()],d.prototype,"_readyCycleForced",void 0);b.__decorate([y.property()],d.prototype,"_currentSpatialReference",void 0);return d=S=b.__decorate([z.subclass("esri.views.View")],d)})},"esri/core/support/OwningCollection":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../Collection ../collectionUtils ../HandleOwner ../has ../Logger ../maybe ../accessorSupport/decorators/property ../arrayUtils ../accessorSupport/ensureType ../accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q){t.getLogger("esri.core.support.OwningCollection");a.OwningCollection=function(k){function p(h){var v=k.call(this,h)||this;v.handles.add([v.on("before-add",x=>{g.isNone(x.item)&&x.preventDefault()}),v.on("after-add",x=>v._own(x.item)),v.on("after-remove",x=>v._release(x.item))]);return v}b._inheritsLoose(p,k);var e=p.prototype;e._ownAll=function(){for(const h of this.items)this._own(h)};e._releaseAll=function(){for(const h of this.items)this._release(h)};e._createNewInstance=
function(h){return this.itemType?new (f.ofType(this.itemType.Type))(h):new f(h)};b._createClass(p,[{key:"owner",get:function(){return this._get("owner")},set:function(h){h!==this._get("owner")&&(this._releaseAll(),this._set("owner",h),this._ownAll())}}]);return p}(l.HandleOwnerMixin(f));c.__decorate([n.property()],a.OwningCollection.prototype,"owner",null);a.OwningCollection=c.__decorate([q.subclass("esri.core.support.OwningCollection")],a.OwningCollection);a.owningCollectionProperty=function(k,p){return{type:k,
cast:d.castForReferenceSetter,set(e){e=d.referenceSetter(e,this._get(p),k);e.owner=this;this._set(p,e)}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/AnalysesCollection":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/set ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),function(a,b,c,
f,d,l,u,t,g,n,m){const r=f.getLogger("esri.support.AnalysesCollection");a.AnalysesCollection=function(q){function k(e){var h=q.call(this,e)||this;h.handles.add(h.on("before-add",v=>{d.isNone(v.item)||v.item.parent!==h.owner||(r.warn("Analysis inside the collection must be unique. Not adding this element again."),v.preventDefault())}));return h}b._inheritsLoose(k,q);var p=k.prototype;p._own=function(e){e.parent=this.owner};p._release=function(e){e.parent=null};return k}(m.OwningCollection);a.AnalysesCollection=
c.__decorate([n.subclass("esri.support.AnalysesCollection")],a.AnalysesCollection);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/GraphicsCollection":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Graphic ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/set ../core/accessorSupport/decorators/shared ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r){a.GraphicsCollection=function(q){function k(){return q.apply(this,arguments)||this}b._inheritsLoose(k,q);var p=k.prototype;p._own=function(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e);e.layer=this.owner};p._release=function(e){e.layer===this.owner&&(e.layer=null)};return k}(r.OwningCollection);c.__decorate([n.shared({Type:f,ensureType:l.ensureType(f)})],a.GraphicsCollection.prototype,"itemType",void 0);a.GraphicsCollection=c.__decorate([m.subclass("esri.support.GraphicsCollection")],
a.GraphicsCollection);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/BasemapView":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/watchUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t,g,n,m){a.BasemapView=function(r){function q(k){k=r.call(this,k)||this;k.view=
null;k.baseLayerViews=new d;k.referenceLayerViews=new d;k._loadingHandle=l.init(b._assertThisInitialized(k),"view.map.basemap",p=>{p&&p.load().catch(()=>{})});return k}b._inheritsLoose(q,r);q.prototype.destroy=function(){this._set("view",null);this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)};b._createClass(q,[{key:"suspended",get:function(){return this.view?this.view.suspended:!0}},{key:"updating",get:function(){var k,p;if(this.view&&this.view.suspended)return!1;const e=
null==(k=this.view)?void 0:null==(p=k.map)?void 0:p.basemap;return e&&e.loaded?this.baseLayerViews.some(h=>h.updating)||this.referenceLayerViews.some(h=>h.updating):!1}}]);return q}(f);c.__decorate([u.property({constructOnly:!0})],a.BasemapView.prototype,"view",void 0);c.__decorate([u.property({readOnly:!0})],a.BasemapView.prototype,"baseLayerViews",void 0);c.__decorate([u.property({readOnly:!0})],a.BasemapView.prototype,"referenceLayerViews",void 0);c.__decorate([u.property({readOnly:!0})],a.BasemapView.prototype,
"suspended",null);c.__decorate([u.property({type:Boolean,readOnly:!0})],a.BasemapView.prototype,"updating",null);a.BasemapView=c.__decorate([m.subclass("esri.views.BasemapView")],a.BasemapView);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/watchUtils":function(){define(["exports","./events","./lang","./promiseUtils"],function(a,b,c,f){function d(p,e,h,v){var x=Array.isArray(e)?e:-1<e.indexOf(",")?e.split(","):[e];e=p.watch(e,h,v);for(const A of x)x=A.trim().replace(k,"$1"),v=p.get(x),
h.call(p,v,v,x,p);return e}function l(p,e,h,v,x){x=p.watch(e,(w,y,z,C)=>{if(!h||h(w))null==v?void 0:v.call(p,w,y,z,C)},x);if(Array.isArray(e))for(var A of e){const w=p.get(A);h&&h(w)&&(null==v?void 0:v.call(p,w,w,e,p))}else A=p.get(e),h&&h(A)&&(null==v?void 0:v.call(p,A,A,e,p));return x}function u(p,e,h,v,x){function A(){C&&(C.remove(),C=null)}const w="function"===typeof v?v:null,y="object"===typeof v?v:null;"boolean"===typeof v&&(x=v);let z=!1,C;const B=f.createDeferred();f.onAbort(y,()=>{A();B.reject(f.createAbortError())});
v={then:B.promise.then.bind(B.promise),catch:B.promise.catch.bind(B.promise),remove:A};Object.freeze(v);C=l(p,e,h,(D,G,K,M)=>{z=!0;A();w&&w.call(p,D,G,K,M);B.resolve({value:D,oldValue:G,propertyName:K,target:M})},x);z&&A();return v}function t(p){return!!p}function g(p){return!p}function n(p){return!0===p}function m(p){return!1===p}function r(p){return void 0!==p}function q(p){return void 0===p}const k=/\?(\.|$)/g;a.init=d;a.on=function(p,e,h,v,x,A,w){function y(B){const D=z[B];D&&(A&&A(D.target,B,
p,h),D.handle.remove(),delete z[B])}const z={},C=d(p,e,(B,D,G)=>{y(G);b.isEventTarget(B)&&(z[G]={handle:b.on(B,h,v),target:B},x&&x(B,G,p,h))},w);return{remove(){C.remove();for(const B in z)y(B)}}};a.once=function(p,e,h,v){return u(p,e,null,h,v)};a.pausable=function(p,e,h,v){let x=!1;const A=p.watch(e,(w,y,z,C)=>{x||h.call(p,w,y,z,C)},v);return{remove(){A.remove()},pause(){x=!0},resume(){x=!1}}};a.watch=function(p,e,h,v){return p.watch(e,h,v)};a.when=function(p,e,h,v){return l(p,e,t,h,v)};a.whenDefined=
function(p,e,h,v){return l(p,e,r,h,v)};a.whenDefinedOnce=function(p,e,h,v){return u(p,e,r,h,v)};a.whenEqual=function(p,e,h,v,x){return l(p,e,A=>c.equals(h,A),v,x)};a.whenEqualOnce=function(p,e,h,v,x){return u(p,e,A=>c.equals(h,A),v,x)};a.whenFalse=function(p,e,h,v){return l(p,e,m,h,v)};a.whenFalseOnce=function(p,e,h,v){return u(p,e,m,h,v)};a.whenNot=function(p,e,h,v){return l(p,e,g,h,v)};a.whenNotOnce=function(p,e,h,v){return u(p,e,g,h,v)};a.whenOnce=function(p,e,h,v){return u(p,e,t,h,v)};a.whenTrue=
function(p,e,h,v){return l(p,e,n,h,v)};a.whenTrueOnce=function(p,e,h,v){return u(p,e,n,h,v)};a.whenUndefined=function(p,e,h,v){return l(p,e,q,h,v)};a.whenUndefinedOnce=function(p,e,h,v){return u(p,e,q,h,v)};a.whenValidOnce=u;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/LayerViewManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/CollectionFlattener ../core/Error ../core/HandleOwner ../core/Logger ../core/MapUtils ../core/maybe ../core/promiseUtils ../core/reactiveUtils ../core/scheduling ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/WatchUpdatingTracking".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h){const v=l.getLogger("esri.views.LayerViewManager");let x=function(){function A(y,z,C){this.layer=y;this.view=z;this.layerViewImporter=C;this._controller=new AbortController;this._deferred=g.createDeferred();this.done=this._started=!1;g.onAbort(this._controller.signal,()=>{const B=new f("cancelled:layerview-create","layerview creation cancelled",{layer:y});this._deferred.reject(B)})}var w=A.prototype;w.destroy=function(){this._controller.abort();const {layerView:y}=
this;if(y){var {layer:z,view:C}=this;z.emit("layerview-destroy",{view:C,layerView:y});C.emit("layerview-destroy",{layer:z,layerView:y});this.done=!0;this.layerViewImporter=this.view=this.layerView=this.layer=null}};w.start=function(){var y=a._asyncToGenerator(function*(){if(!this._started){this._started=!0;var {_controller:{signal:z},layer:C,view:B}=this;this._map=B.map;try{var D,G;yield C.load({signal:z});"prefetchResources"in C&&(yield C.prefetchResources({signal:z}));let M;if(C.createLayerView)M=
yield C.createLayerView(B,{signal:z});else{if(!this.layerViewImporter.hasLayerViewModule(C))throw new f("layer:view-not-supported","No layerview implementation was found");var K=yield this.layerViewImporter.importLayerView(C);g.throwIfAborted(z);M="default"in K?new K.default({layer:C,view:B}):new K({layer:C,view:B})}let N;K=()=>{N=t.removeMaybe(N);M.destroyed||M.destroy();M.layer=null;M.parent=null;M.view=null;this.done=!0};N=g.onAbort(z,K);g.throwIfAborted(z);try{yield M.when()}catch(I){throw K(),
I;}(null==(D=this._map)?0:null==(G=D.allLayers)?0:G.includes(C))?(this.layerView=M,C.emit("layerview-create",{view:B,layerView:M}),B.emit("layerview-create",{layer:C,layerView:M}),this.done=!0,this._deferred.resolve(M)):(K(),this._deferred.reject(new f("view:no-layerview-for-layer","The layer has been removed from the map",{layer:C})))}catch(M){C.emit("layerview-create-error",{view:B,error:M}),B.emit("layerview-create-error",{layer:C,error:M}),this.done=!0,this._deferred.reject(new f("layerview:create-error",
"layerview creation failed",{layer:C,error:M}))}}});return function(){return y.apply(this,arguments)}}();a._createClass(A,[{key:"promise",get:function(){return this._deferred.promise}}]);return A}();d=function(A){function w(z){var C=A.call(this,z)||this;C._layerLayerViewInfoMap=new Map;C._watchUpdatingTracking=new h.WatchUpdatingTracking;C.supportsGround=!0;C._preloadLayerViewModules=()=>{var B;const D=null==(B=C.view.map)?void 0:B.allLayers;if(D)for(const G of D)C.layerViewImporter.hasLayerViewModule(G)&&
C.layerViewImporter.importLayerView(G)};C._reschedule=()=>{t.isNone(C._workPromise)&&(C._workPromise=g.createDeferred());C.handles.remove("reschedule");C.handles.add(m.schedule(C._doWork),"reschedule");return C._workPromise.promise};C._doWork=()=>{var B,D,G,K=C.view.map;C._map!==K&&(C.clear(),C._map=K);if(t.isNone(C._workPromise))C.notifyChange("updating");else{C.handles.remove("reschedule");C.handles.remove("collection-change");var M=new c({getCollections:()=>C._rootCollectionNames.map(N=>C.get(N)),
getChildrenFunction:N=>N&&"layers"in N?N.layers:null});for(const N of M)C._createLayerView(N);C._refreshCollections();for(const [N,I]of C._layerLayerViewInfoMap)M.includes(N)||(C._layerLayerViewInfoMap.delete(I.layer),I.destroy());M=M.filter(N=>"group"===N.type).map(N=>N.layers);K=[null==K?void 0:null==(B=K.ground)?void 0:B.layers,null==K?void 0:null==(D=K.basemap)?void 0:D.baseLayers,null==K?void 0:null==(G=K.basemap)?void 0:G.referenceLayers,null==K?void 0:K.layers,...M].filter(N=>!!N);C.handles.add(K.map(N=>
C._watchUpdatingTracking.addOnCollectionChange(()=>N,C._reschedule)),"collection-change");C._workPromise.resolve();C._workPromise=null}};return C}a._inheritsLoose(w,A);var y=w.prototype;y.initialize=function(){this.handles.add([n.on(()=>{var z,C;return null==(z=this.view)?void 0:null==(C=z.map)?void 0:C.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),n.watch(()=>{const z=this.view,C=null==z?void 0:z.map;return[null==C?void 0:C.basemap,null==C?void 0:
C.ground,null==C?void 0:C.layers,null==z?void 0:z.ready]},()=>this._reschedule(),n.syncAndInitial)]);this._preloadLayerViewModules();this._reschedule()};y.destroy=function(){this.clear();this._watchUpdatingTracking.destroy();this._map=null};y.clear=function(){if(!this.destroyed){for(const z of this._layerLayerViewInfoMap.values())z.destroy();this._layerLayerViewInfoMap.clear();this._refreshCollections()}};y.whenLayerView=function(){var z=a._asyncToGenerator(function*(C){yield this._reschedule();if(!this._layerLayerViewInfoMap.has(C))throw new f("view:no-layerview-for-layer",
"No layerview has been found for the layer",{layer:C});return this._layerLayerViewInfoMap.get(C).promise});return function(C){return z.apply(this,arguments)}}();y._refreshCollections=function(){for(const [z,C]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(z),this.get(C),this.view);this.notifyChange("updating");this.notifyChange("updatingRemaining")};y._populateLayerViewsOwners=function(z,C,B){if(z&&C){var D=0;for(const G of z)(z=this._layerLayerViewInfoMap.get(G))&&z.layerView&&
(z=z.layerView,z.layer=G,z.parent=B,C.getItemAt(D)!==z&&C.splice(D,0,z),G.layers&&this._populateLayerViewsOwners(G.layers,z.layerViews,z),D+=1);D<C.length&&C.splice(D,C.length)}else C&&C.removeAll()};y._createLayerView=function(z){if(this._layerLayerViewInfoMap.has(z))this.view.ready&&this._layerLayerViewInfoMap.get(z).start();else{z.load().catch(()=>{});this.layerViewImporter.hasLayerViewModule(z)&&this.layerViewImporter.importLayerView(z);var C=new x(z,this.view,this.layerViewImporter);C.promise.then(()=>
this._refreshCollections(),B=>{if(!B||!g.isAbortError(B)&&"cancelled:layerview-create"!==B.name){var D,G;v.error(`Failed to create layerview for layer title:'${null!=(D=z.title)?D:"no title"}', id:'${null!=(G=z.id)?G:"no id"}' of type '${z.type}'.`,{layer:z,error:B})}this._refreshCollections()});this._layerLayerViewInfoMap.set(z,C);this.view.ready&&C.start()}this.notifyChange("updating");this.notifyChange("updatingRemaining")};a._createClass(w,[{key:"_layersToLayerViews",get:function(){const z=[["view.map.basemap.baseLayers",
"view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];this.supportsGround&&z.push(["view.map.ground.layers","view.groundView.layerViews"]);return new Map(z)}},{key:"_rootCollectionNames",get:function(){return Array.from(this._layersToLayerViews.keys())}},{key:"updating",get:function(){return t.isSome(this._workPromise)||this._watchUpdatingTracking.updating||u.someMap(this._layerLayerViewInfoMap,z=>!z.done)}},
{key:"updatingRemaining",get:function(){let z=0;for(const C of this._layerLayerViewInfoMap.values())C.done||++z;return z}}]);return w}(d.HandleOwner);b.__decorate([r.property()],d.prototype,"_workPromise",void 0);b.__decorate([r.property({readOnly:!0})],d.prototype,"_watchUpdatingTracking",void 0);b.__decorate([r.property({readOnly:!0})],d.prototype,"_layersToLayerViews",null);b.__decorate([r.property({readOnly:!0})],d.prototype,"_rootCollectionNames",null);b.__decorate([r.property()],d.prototype,
"layerViewImporter",void 0);b.__decorate([r.property()],d.prototype,"supportsGround",void 0);b.__decorate([r.property({readOnly:!0})],d.prototype,"updating",null);b.__decorate([r.property({readOnly:!0})],d.prototype,"updatingRemaining",null);b.__decorate([r.property({constructOnly:!0})],d.prototype,"view",void 0);return d=b.__decorate([e.subclass("esri.views.LayerViewManager")],d)})},"esri/views/Magnifier":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/screenUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g){c=function(n){function m(r){r=n.call(this,r)||this;r.factor=1.5;r.offset=f.createScreenPoint(0,0);r.position=null;r.size=120;r.maskUrl=null;r.maskEnabled=!0;r.overlayUrl=null;r.overlayEnabled=!0;r.visible=!0;return r}a._inheritsLoose(m,n);a._createClass(m,[{key:"version",get:function(){this.commitProperty("factor");this.commitProperty("offset");this.commitProperty("position");this.commitProperty("visible");this.commitProperty("size");this.commitProperty("maskUrl");this.commitProperty("maskEnabled");
this.commitProperty("overlayUrl");this.commitProperty("overlayEnabled");return(this._get("version")||0)+1}}]);return m}(c);b.__decorate([d.property({type:Number})],c.prototype,"factor",void 0);b.__decorate([d.property({nonNullable:!0})],c.prototype,"offset",void 0);b.__decorate([d.property()],c.prototype,"position",void 0);b.__decorate([d.property({type:Number,range:{min:0}})],c.prototype,"size",void 0);b.__decorate([d.property()],c.prototype,"maskUrl",void 0);b.__decorate([d.property()],c.prototype,
"maskEnabled",void 0);b.__decorate([d.property()],c.prototype,"overlayUrl",void 0);b.__decorate([d.property()],c.prototype,"overlayEnabled",void 0);b.__decorate([d.property({readOnly:!0})],c.prototype,"version",null);b.__decorate([d.property({type:Boolean})],c.prototype,"visible",void 0);return c=b.__decorate([g.subclass("esri.views.Magnifier")],c)})},"esri/views/ToolViewManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/HandleOwner ../core/handleUtils ../core/Logger ../core/maybe ../core/watchUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./3d/support/TextureCollection ./input/InputManager ./input/ViewEvents ./interactive/interactiveToolUtils ./interactive/interfaces ./interactive/ToolViewManagerManipulatorState".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A){const w=u.getLogger("esri.views.ToolViewManager");d=function(y){function z(B){var D=y.call(this,B)||this;D._manipulatorState=new A;D.tools=new f;D.cursor=null;D._forEachTool=G=>{for(const K of D.tools.items)if(G(K))break};return D}a._inheritsLoose(z,y);var C=z.prototype;C.initialize=function(){this.handles.add([this.view.on(h.eventTypes,B=>{this._handleInputEvent(B)},e.ViewEventPriorities.TOOL),...v.getToolCollectionHandles(this.tools),this.tools.on("before-remove",
({item:B})=>{this._manipulatorState.clearPointers(B,this._forEachTool)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])};C.destroy=function(){this.detach();this.handles.removeAll()};C.attach=function(){"3d"===this.view.type?(this._set("textures",new p.TextureCollection(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([this.view.state.watch("camera",()=>{this._forEachManipulator(B=>{if(null!=B.onViewChange)B.onViewChange()})}),this.view.elevationProvider.on("elevation-change",
B=>{this._forEachManipulator(D=>{if(null!=D.onElevationChange)D.onElevationChange(B)})}),l.makeHandle(()=>this._set("textures",t.destroyMaybe(this.textures)))],"attached")):this.handles.add(this.view.watch("extent",()=>{this._forEachManipulator(B=>{if(null!=B.onViewChange)B.onViewChange()})}))};C.detach=function(){t.isSome(this.activeTool)&&(this.activeTool=null);this.tools.removeAll();this.handles.remove("attached")};C._forEachManipulator=function(B){this._forEachTool(D=>{D.manipulators&&D.manipulators.forEach(({manipulator:G})=>
B(G,D))})};C._handleInputEvent=function(B){let D=!1;const G={...B,stopPropagation:()=>{D=!0;B.stopPropagation()}};t.isSome(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(G):this._forEachTool(K=>{!D&&K.visible&&K.handleInputEvent(G)});!D&&"key-down"===B.type&&"Escape"===B.key&&this.activeTool&&(B.stopPropagation(),this.activeTool=null);this._manipulatorState.handleInputEvent(G,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:K=>{this.activeTool=
K},view:this.view});!D&&t.isSome(this.activeTool)&&this.activeTool.handleInputEventAfter(G);this._manipulatorState.handleHoverEvent(G,this._forEachTool);this._updateCursor()};C._refreshToolWatchers=function(){this.handles.remove("tools");this._forEachTool(B=>{if(B instanceof c){const D=g.watch(B,["cursor","visible","editable"],()=>{v.areToolManipulatorsEditable(B)||this._manipulatorState.clearPointers(B,this._forEachTool);this._updateCursor()});this.handles.add(D,"tools")}B.manipulators&&this.handles.add(B.manipulators.on("change",
D=>{D.removed.forEach(({id:G})=>{this._manipulatorState.clearPointers(B,this._forEachTool,!0,G)});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()}),"tools")});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()};C._updateCursor=function(){let B=this._manipulatorState.cursor;this._forEachTool(D=>t.isSome(D.cursor)&&D.visible?(B=D.cursor,!0):!1);this._get("cursor")!==B&&this._set("cursor",B)};C._removeIncompleteTools=
function(B){this.tools.filter(D=>(t.isNone(B)||D!==B)&&!D.created).forEach(D=>{this.tools.remove(D)})};a._createClass(z,[{key:"activeTool",set:function(B){if(t.isSome(B)&&!this.view.ready)w.error("Cannot set active tool while view is not ready.");else if(B===this.activeTool)t.isSome(B)&&w.warn("Tool is already active - ignoring activation request.");else{var D=this.activeTool;this._set("activeTool",B);t.isSome(D)&&D.deactivate();t.isSome(B)&&B.activate();this._removeIncompleteTools(B);B=t.isNone(this.activeTool);
for(const G of this.tools)G.setEditableFlag(x.EditableFlag.MANAGER,B||G===this.activeTool),D=v.areToolManipulatorsEditable(G),!B&&D||this._manipulatorState.clearPointers(G,this._forEachTool,!D);this._updateCursor()}}},{key:"updating",get:function(){var B,D;return this.updatingHandles.updating||this.tools.some(G=>G.updating)||(null!=(B=null==(D=this.textures)?void 0:D.updating)?B:!1)}}]);return z}(d.HandleOwner);b.__decorate([n.property({constructOnly:!0,nonNullable:!0})],d.prototype,"view",void 0);
b.__decorate([n.property({readOnly:!0,nonNullable:!0})],d.prototype,"textures",void 0);b.__decorate([n.property({value:null})],d.prototype,"activeTool",null);b.__decorate([n.property({readOnly:!0,type:f})],d.prototype,"tools",void 0);b.__decorate([n.property({readOnly:!0})],d.prototype,"cursor",void 0);b.__decorate([n.property({readOnly:!0})],d.prototype,"updating",null);return d=b.__decorate([k.subclass("esri.views.ToolViewManager")],d)})},"esri/views/3d/support/TextureCollection":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/maybe ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../support/Scheduler".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m){a.TextureCollection=function(r){function q(p,e){var h;var v=r.call(this,{})||this;v._stage=p;v._textureRequests=new Map;v._frameTask=null!=(h=null==e?void 0:e.registerTask(m.TaskPriority.TEXTURE_UNLOAD))?h:m.ImmediateTask;return v}b._inheritsLoose(q,r);var k=q.prototype;k.normalizeCtorArgs=function(){return{}};k.destroy=function(){r.prototype.destroy.call(this);this._frameTask.remove();this._textureRequests.forEach(p=>this._releaseTextureRequest(p));this._textureRequests.clear()};
k.fromData=function(p,e,h){const v=this.makeUid(p);p=this._textureRequests.get(v);p||(p={referenceCount:0,texture:e(),textureAsync:null,abortController:null,onRemove:h},this._stage&&(this._stage.add(p.texture),this._stage.loadImmediate(p.texture)),this._textureRequests.set(v,p));p.referenceCount++;return{uid:v,texture:p.texture,release:()=>this._release(v)}};k._release=function(p){const e=this._textureRequests.get(p);e?(1>e.referenceCount&&console.warn("TextureCollection: reference count is \x3c 1 for "+
p),e.referenceCount--,1>e.referenceCount&&this._frameTask.schedule(()=>this._releaseNow(p))):console.warn(`TextureCollection: texture doesn't exist: '${p}'`)};k._releaseNow=function(p){if(this._textureRequests){var e=this._textureRequests.get(p);!e||0<e.referenceCount||(this._releaseTextureRequest(e),this._textureRequests.delete(p))}};k._releaseTextureRequest=function(p){if(p.onRemove)p.onRemove();if(p.texture){var e;null==(e=this._stage)?void 0:e.remove(p.texture)}else p.abortController&&(p.abortController.abort(),
p.abortController=null)};k.makeUid=function(p,e=null){return d.isSome(e)?`${p}.${e}px`:p};b._createClass(q,[{key:"updating",get:function(){return this._frameTask.updating}},{key:"test",get:function(){return{textureRequests:this._textureRequests}}}]);return q}(f);c.__decorate([l.property()],a.TextureCollection.prototype,"_frameTask",void 0);c.__decorate([l.property()],a.TextureCollection.prototype,"updating",null);a.TextureCollection=c.__decorate([n.subclass("esri.views.3d.support.TextureCollection")],
a.TextureCollection);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/support/Scheduler":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Handles ../../core/Logger ../../core/maybe ../../core/PerformanceSampler ../../core/PooledArray ../../core/promiseUtils ../../core/reactiveUtils ../../core/time ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../layers/support/PromiseQueue ./debugFlags".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x){function A(F){return y.has(F)?y.get(F):"number"===typeof F?F:1}const w=l.getLogger("esri.views.support.Scheduler");a.TaskPriority=void 0;(function(F){F.RESOURCE_CONTROLLER="schedule";F.SLIDE="slide";F.STREAM_DATA_LOADER="stream loader";F.ELEVATION_QUERY="elevation query";F.TERRAIN_SURFACE="terrain";F.SURFACE_GEOMETRY_UPDATES="surface geometry updates";F.GRAPHICS_CORE="Graphics3D";F.I3S_CONTROLLER="I3S";F.POINT_CLOUD_LAYER="point cloud";F.FEATURE_TILE_FETCHER=
"feature fetcher";F.OVERLAY="overlay";F.STAGE="stage";F.GRAPHICS_DECONFLICTOR="graphics deconflictor";F.FILTER_VISIBILITY="Graphics3D filter visibility";F.SCALE_VISIBILITY="Graphics3D scale visibility";F.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";F.POINT_OF_INTEREST_FREQUENT="POI frequent";F.POINT_OF_INTEREST_INFREQUENT="POI infrequent";F.LABELER="labeler";F.FEATURE_QUERY_ENGINE="feature query";F.FEATURE_TILE_TREE="feature tile tree";F.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";F.ELEVATION_ALIGNMENT=
"elevation alignment";F.TEXT_TEXTURE_ATLAS="text texture atlas";F.TEXTURE_UNLOAD="texture unload";F.LINE_OF_SIGHT_TOOL="line of sight tool";F.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool";F.ELEVATION_PROFILE="elevation profile";F.SNAPPING="snapping";F.SHADOW_ACCUMULATOR="shadow accumulator";F.CLOUDS_GENERATOR="cloud generator";F[F.TEST_PRIO=1]="TEST_PRIO"})(a.TaskPriority||(a.TaskPriority={}));const y=new Map([[a.TaskPriority.RESOURCE_CONTROLLER,0],[a.TaskPriority.SLIDE,0],[a.TaskPriority.STREAM_DATA_LOADER,
0],[a.TaskPriority.ELEVATION_QUERY,0],[a.TaskPriority.TERRAIN_SURFACE,1],[a.TaskPriority.SURFACE_GEOMETRY_UPDATES,1],[a.TaskPriority.GRAPHICS_CORE,2],[a.TaskPriority.I3S_CONTROLLER,2],[a.TaskPriority.POINT_CLOUD_LAYER,2],[a.TaskPriority.FEATURE_TILE_FETCHER,2],[a.TaskPriority.OVERLAY,4],[a.TaskPriority.STAGE,4],[a.TaskPriority.GRAPHICS_DECONFLICTOR,4],[a.TaskPriority.FILTER_VISIBILITY,4],[a.TaskPriority.SCALE_VISIBILITY,4],[a.TaskPriority.FRUSTUM_VISIBILITY,4],[a.TaskPriority.POINT_OF_INTEREST_FREQUENT,
6],[a.TaskPriority.POINT_OF_INTEREST_INFREQUENT,30],[a.TaskPriority.LABELER,8],[a.TaskPriority.FEATURE_QUERY_ENGINE,8],[a.TaskPriority.FEATURE_TILE_TREE,16],[a.TaskPriority.FEATURE_TILE_TREE_ACTIVE,0],[a.TaskPriority.ELEVATION_ALIGNMENT,12],[a.TaskPriority.TEXT_TEXTURE_ATLAS,12],[a.TaskPriority.CLOUDS_GENERATOR,12],[a.TaskPriority.TEXTURE_UNLOAD,12],[a.TaskPriority.LINE_OF_SIGHT_TOOL,16],[a.TaskPriority.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[a.TaskPriority.SNAPPING,0],[a.TaskPriority.SHADOW_ACCUMULATOR,
30]]);a.State=void 0;(function(F){F[F.ANIMATING=0]="ANIMATING";F[F.INTERACTING=1]="INTERACTING";F[F.IDLE=2]="IDLE"})(a.State||(a.State={}));const z=r.Milliseconds(6.5),C=r.Milliseconds(1),B=r.Milliseconds(30),D=r.Milliseconds(1E3/30),G=r.Milliseconds(100);var K;(function(F){let E=function(W){function Z(S){var qa=W.call(this,S)||this;qa.updating=!0;qa._microTaskQueued=!1;qa.performanceInfo={total:new t("total"),tasks:new Map};qa._frameTaskTimes=new Map;qa._budget=null;qa._state=a.State.INTERACTING;
qa._tasks=new g;qa._runQueue=new g;qa._load=0;qa._idleStateCallbacks=new g;qa._idleUpdatesStartFired=!1;qa._maxReschedule=I;qa._forceTask=!1;qa._debug=!1;qa._debugHandle=m.watch(()=>x.SCHEDULER_LOG_SLOW_TASKS,la=>qa._debug=la,m.initial);qa._budget=new P(S.nowFunc);for(const la of Object.keys(a.TaskPriority))qa.performanceInfo.tasks.set(a.TaskPriority[la],new t(a.TaskPriority[la]));let xa;const Fa=b._assertThisInitialized(qa);qa._test={get state(){return u.unwrapOr(xa,Fa._state)},set state(la){xa=
la},FRAME_SAFETY_BUDGET:z,INTERACTING_BUDGET:D,IDLE_BUDGET:G,get budget(){return Fa._budget.budget},usedBudget:0,setBudget:la=>Fa._budget=la,updateTask:la=>qa._updateTask(la),getState:la=>qa._getState(la),getRuntime:la=>qa._getRuntime(la),frameTaskTimes:qa._frameTaskTimes,resetRuntimes:()=>qa._resetRuntimes(),getRunning:()=>qa._getRunning()};return qa}b._inheritsLoose(Z,W);var Y=Z.prototype;Y.destroy=function(){this._tasks.toArray().forEach(S=>S.remove());this._tasks.clear();u.removeMaybe(this._debugHandle);
this.updating=this._microTaskQueued=!1};Y.activate=function(){this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.done||(this._maxReschedule=I,this._schedule(),this.frame()))}))};Y.registerTask=function(S,qa){const xa=A(S);qa=new J(this,S,qa,xa);this._tasks.push(qa);this.performanceInfo.tasks.has(S)||this.performanceInfo.tasks.set(S,new t(S));return qa};Y.registerIdleStateCallbacks=function(S,qa){const xa=
{idleBegin:S,idleEnd:qa};this._idleStateCallbacks.push(xa);this.state===a.State.IDLE&&this._idleUpdatesStartFired&&xa.idleBegin();const Fa=this;return{remove:()=>this._removeIdleStateCallbacks(xa),set idleBegin(la){Fa._idleUpdatesStartFired&&(xa.idleEnd(),Fa._state===a.State.IDLE&&la());xa.idleBegin=la},set idleEnd(la){xa.idleEnd=la}}};Y.updateBudget=function(S){this._test.usedBudget=0;let qa=z,xa=S.frameDuration,Fa=C;switch(this.state){case a.State.IDLE:qa=r.Milliseconds(0);xa=r.Milliseconds(Math.max(G,
S.frameDuration));Fa=B;break;case a.State.INTERACTING:xa=r.Milliseconds(Math.max(D,S.frameDuration))}xa=r.Milliseconds(xa-S.elapsedFrameTime-qa);if(this.state!==a.State.IDLE&&xa<C&&!this._forceTask)return this._forceTask=!0,!1;xa=r.Milliseconds(Math.max(xa,Fa));this._budget.reset(xa,this.state);this._maxReschedule=I;this._updateLoad();return this._schedule()};Y.frame=function(){this._microTaskQueued=this._forceTask=!1;switch(this.state){case a.State.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=
!0,this._idleStateCallbacks.forAll(S=>S.idleBegin()));this._runIdle();break;case a.State.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};Y.stopFrame=function(){this._budget.reset(r.Milliseconds(0),this._state);this._budget.madeProgress()};Y._removeIdleStateCallbacks=function(S){this._idleUpdatesStartFired&&S.idleEnd();this._idleStateCallbacks.removeUnordered(S)};Y.removeTask=function(S){this._tasks.removeUnordered(S);this._runQueue.removeUnordered(S)};
Y._updateTask=function(S){this._tasks.forAll(qa=>{qa.name===S&&qa.setPriority(S)})};Y._getState=function(S){if(this._runQueue.some(xa=>xa.name===S))return a.TaskState.SCHEDULED;let qa=a.TaskState.IDLE;this._tasks.forAll(xa=>{xa.name===S&&xa.needsUpdate&&(1>=xa.schedulePriority?qa=a.TaskState.READY:qa!==a.TaskState.READY&&(qa=a.TaskState.WAITING))});return qa};Y._getRuntime=function(S){let qa=0;this._tasks.forAll(xa=>{xa.name===S&&(qa+=xa.runtime)});return qa};Y._resetRuntimes=function(){this._tasks.forAll(S=>
S.runtime=0)};Y._getRunning=function(){const S=new Map;this._tasks.forAll(xa=>{xa.needsUpdate&&S.set(xa.name,(S.get(xa.name)||0)+1)});if(0===S.size)return null;let qa="";S.forEach((xa,Fa)=>{qa=1<xa?qa+` ${xa}x ${Fa}`:qa+` ${Fa}`});return qa};Y._runIdle=function(){this._run()};Y._runInteracting=function(){this._run()};Y._runAnimating=function(){this._run()};Y._updateLoad=function(){const S=this._tasks.reduce((qa,xa)=>xa.needsUpdate?++qa:qa,0);this._load=.9*this._load+S*(1-.9)};Y._schedule=function(){if(0>=
this._maxReschedule)return!1;this._runQueue.filterInPlace(S=>{if(S.needsUpdate)return!0;S.schedulePriority=S.basePriority;return!1});for(this._tasks.forAll(S=>{0===S.basePriority&&S.needsUpdate&&!this._runQueue.some(qa=>qa===S)&&this._runQueue.unshift(S)});0===this._runQueue.length;){let S=!1,qa=0;this._tasks.forAll(xa=>{if(xa.needsUpdate&&0!==xa.schedulePriority&&0!==xa.basePriority)switch(S=!0,qa=Math.max(qa,xa.basePriority),xa.schedulePriority){case 1:xa.schedulePriority=0;this._runQueue.push(xa);
break;default:--xa.schedulePriority}});if(!S)return this.updating=!1;this._maxReschedule===I&&(this._maxReschedule=qa);--this._maxReschedule}return this.updating=!0};Y._run=function(){const S=this._budget.now();this._startFrameTaskTimes();do for(;0<this._runQueue.length;){var qa=this._budget.now();const xa=this._runQueue.pop();this._budget.resetProgress();try{xa.task.runTask(this._budget)}catch(Fa){w.error(`Exception in task "${xa.name}"`,Fa)}xa.schedulePriority=xa.basePriority;qa=this._budget.now()-
qa;xa.runtime+=qa;this._frameTaskTimes.set(xa.priority,this._frameTaskTimes.get(xa.priority)+qa);this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",xa.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms");if(0>=this._budget.remaining){this.updating=this._tasks.some(Fa=>Fa.needsUpdate);this._recordFrameTaskTimes(this._budget.now()-S);return}}while(this._schedule());this.updating=this._tasks.some(xa=>xa.needsUpdate);this._recordFrameTaskTimes(this._budget.now()-
S)};Y._startFrameTaskTimes=function(){for(const S of Object.keys(a.TaskPriority))this._frameTaskTimes.set(a.TaskPriority[S],0)};Y._recordFrameTaskTimes=function(S){this._frameTaskTimes.forEach((qa,xa)=>this.performanceInfo.tasks.get(xa).record(qa));this.performanceInfo.total.record(S)};b._createClass(Z,[{key:"now",get:function(){return this.nowFunc()}},{key:"load",get:function(){return this._load}},{key:"state",get:function(){return u.isNone(this._test.state)?this._state:this._test.state},set:function(S){this._state!==
S&&(this._state=S,this.state!==a.State.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(qa=>qa.idleEnd())))}},{key:"test",get:function(){return this._test}}]);return Z}(f);c.__decorate([q.property()],E.prototype,"updating",void 0);c.__decorate([q.property()],E.prototype,"nowFunc",void 0);E=c.__decorate([h.subclass("esri.views.support.Scheduler")],E);F.Scheduler=E;let J=function(W){function Z(S,qa,xa,Fa){var la=W.call(this,{})||this;la._scheduler=S;
la.name=qa;la._basePriority=Fa;la.runtime=0;la._queue=new v.PromiseQueue;la._handles=new d;la.schedulePriority=la._basePriority;la.task=u.isSome(xa)?xa:la._queue;la._handles.add(m.when(()=>la.task.running,()=>S.activate()));return la}b._inheritsLoose(Z,W);var Y=Z.prototype;Y.normalizeCtorArgs=function(){return{}};Y.remove=function(){this.processQueue(M);this._scheduler.removeTask(this);this.schedule=N.schedule;this.reschedule=N.reschedule;this._handles.destroy()};Y.setPriority=function(S){this.name=
S;S=A(S);if(0===this._basePriority||0!==this.schedulePriority)this.schedulePriority=S;this._basePriority=S};Y.schedule=function(S,qa,xa){return this._queue.push(S,qa,xa)};Y.reschedule=function(S,qa,xa){return this._queue.unshift(S,qa,xa)};Y.processQueue=function(S){this._queue.runTask(S)};b._createClass(Z,[{key:"updating",get:function(){return this._queue.running}},{key:"basePriority",get:function(){return this._basePriority}},{key:"priority",get:function(){return this.name},set:function(S){this.setPriority(S)}},
{key:"needsUpdate",get:function(){return this.updating||this.task.running}}]);return Z}(f);c.__decorate([q.property({constructOnly:!0})],J.prototype,"task",void 0);c.__decorate([q.property({readOnly:!0})],J.prototype,"updating",null);J=c.__decorate([h.subclass("esri.views.support.SchedulerTask")],J);let P=function(){function W(Y){this.now=Y;this._budget=this._begin=0;this._state=a.State.IDLE;this._didWork=!1;this._enabled=!0}var Z=W.prototype;Z.run=function(Y){if(this.done)return!1;!0===Y()&&(this._didWork=
!0);return!0};Z.madeProgress=function(){this._didWork=!0};Z.reset=function(Y,S){this._begin=this.now();this._budget=Y;this._state=S;this._didWork=!1};Z.resetProgress=function(){this._didWork=!1};b._createClass(W,[{key:"done",get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}},{key:"budget",get:function(){return this._budget}},{key:"state",get:function(){return this._state}},{key:"enabled",get:function(){return this._enabled},set:function(Y){this._enabled=Y}},{key:"remaining",
get:function(){return Math.max(this._budget-this.elapsed,0)}},{key:"elapsed",get:function(){return this.now()-this._begin}},{key:"hasProgressed",get:function(){return this._didWork}}]);return W}();F.Budget=P})(K||(K={}));a.TaskState=void 0;(function(F){F.SCHEDULED="s";F.READY="r";F.WAITING="w";F.IDLE="i"})(a.TaskState||(a.TaskState={}));const M=(()=>{const F=new K.Budget(()=>performance.now());F.enabled=!1;return F})(),N=new (function(){function F(){}var E=F.prototype;E.remove=function(){};E.processQueue=
function(){};E.schedule=function(J,P,W){try{if(n.isAborted(P)){const Z=n.createAbortError();return W?Promise.resolve(W(Z)):Promise.reject(Z)}return n.when(J(M))}catch(Z){return Promise.reject(Z)}};E.reschedule=function(J,P,W){return this.schedule(J,P,W)};return F}()),I=Number.MAX_SAFE_INTEGER;a.ImmediateTask=N;a.getTaskPriority=A;a.newScheduler=function(F){return new K.Scheduler({nowFunc:F})};a.noBudget=M;a.taskPriorities=y;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/PromiseQueue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t,g,n){a.PromiseQueue=function(r){function q(){var p=r.apply(this,arguments)||this;p._tasks=[];p.running=!1;return p}b._inheritsLoose(q,r);var k=q.prototype;k.destroy=function(){this.cancelAll()};k.runTask=function(p){for(;!p.done&&this._process(p);)p.madeProgress()};k.push=function(p,e,h){this.running=!0;return new Promise((v,x)=>this._tasks.push(new m(v,x,p,e,h)))};k.unshift=function(p,e,h){this.running=!0;return new Promise((v,x)=>this._tasks.unshift(new m(v,x,p,e,h)))};
k._process=function(p){if(0===this._tasks.length)return!1;const e=this._tasks.shift();try{const h=d.isAborted(e.signal);if(h&&!e.abortCallback)e.reject(d.createAbortError());else{const v=h?e.abortCallback(d.createAbortError()):e.callback(p);d.isPromiseLike(v)?v.then(e.resolve,e.reject):e.resolve(v)}}catch(h){e.reject(h)}this.running=0<this._tasks.length;return!0};k.cancelAll=function(){const p=d.createAbortError();for(const e of this._tasks)if(e.abortCallback){const h=e.abortCallback(p);e.resolve(h)}else e.reject(p);
this._tasks.length=0;this.running=!1};b._createClass(q,[{key:"length",get:function(){return this._tasks.length}}]);return q}(f);c.__decorate([l.property()],a.PromiseQueue.prototype,"running",void 0);a.PromiseQueue=c.__decorate([n.subclass("esri.layers.support.PromiseQueue")],a.PromiseQueue);let m=function(r,q,k,p,e){this.resolve=r;this.reject=q;this.callback=k;this.signal=p;this.abortCallback=e};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/support/debugFlags":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){c=function(g){function n(){var m=g.apply(this,arguments)||this;m.SCHEDULER_LOG_SLOW_TASKS=!1;m.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1;return m}a._inheritsLoose(n,g);return n}(c);b.__decorate([f.property()],c.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);b.__decorate([f.property()],c.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0);c=b.__decorate([t.subclass("esri.views.support.DebugFlags")],c);return new c})},"esri/views/input/InputManager":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Logger ../../core/Queue ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./keys ./handlers/LatestPointerType".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q){const k=d.getLogger("esri.views.input.InputManager");a.InputManager=function(v){function x(w){var y=v.call(this,w)||this;y._pointerCaptures=new Map;y._nameToGroup={};y._handlers=[];y._currentPropagation=null;y._updateDependenciesAfterPropagation=!1;y._sourceEvents=new Set;y._keyModifiers=new Set;y._activeKeyModifiers=new Set;y._stoppedPropagationEventIds=new Set;y.primaryKey=r.primaryKey;y.latestPointerType="mouse";y.test={timestamp:void 0,hasCurrentPropagation:()=>
!!y._currentPropagation};return y}b._inheritsLoose(x,v);var A=x.prototype;A.initialize=function(){this.eventSource.onEventReceived=this._onEventReceived.bind(this);this._installRecognizers()};A.destroy=function(){const w=Object.keys(this._nameToGroup);for(const y of w)this.uninstallHandlers(y);this._currentPropagation=this.eventSource=null};A.installHandlers=function(w,y,z=h.INTERNAL){if(this._nameToGroup[w])k.error("There is already an InputHandler group registered under the name `"+w+"`");else if(0===
y.length)k.error("Can't register a group of zero handlers");else{var C={name:w,handlers:y.map(B=>({handler:B,active:!0,removed:!1,priorityIndex:0,groupPriority:z,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[w]=C;for(w=C.handlers.length-1;0<=w;w--){const B=C.handlers[w];this._handlers.push(B);B.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(D,G,K,M,N)=>{this._emitInputEvent(B.priorityIndex+1,D,G,K,N,M)},setPointerCapture:(D,G)=>{this._setPointerCapture(C,
B,D,G)},setEventCallback:D=>{B.eventCallback=D},setUninstallCallback:D=>{B.uninstallCallback=D},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}};A.uninstallHandlers=function(w){const y=this._nameToGroup[w];y?(y.handlers.forEach(z=>{z.removed=!0;z.uninstallCallback()}),delete this._nameToGroup[w],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):k.error("There is no InputHandler group registered under the name `"+
w+"`")};A.hasHandlers=function(w){return void 0!==this._nameToGroup[w]};A.updateDependencies=function(){if(this._currentPropagation)this._updateDependenciesAfterPropagation=!0;else{this._updateDependenciesAfterPropagation=!1;var w=new Set,y=new Set;this._handlersPriority=[];for(var z=this._handlers.length-1;0<=z;z--){var C=this._handlers[z];C.priorityIndex=z;this._handlersPriority.push(C)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(z=this._handlersPriority.length-
1;0<=z;z--){C=this._handlersPriority[z];C.priorityIndex=z;let B=C.handler.hasSideEffects;if(!B)for(const D of C.handler.outgoingEventTypes)if(w.has(D)){B=!0;break}if(B)for(const D of C.handler.incomingEventMatches){w.add(D.eventType);for(const G of D.keyModifiers)r.isSystemModifier(G)||y.add(G)}C.active=B}this._sourceEvents=w;this._keyModifiers=y;0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up"));
this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}};A._setLatestPointerType=function(w){this._set("latestPointerType",w)};A._onEventReceived=function(w,y){"pointer-capture-lost"===w&&this._pointerCaptures.delete(y.native.pointerId);this._updateKeyModifiers(w,y);this._emitInputEventFromSource(w,y,null!=this.test.timestamp?this.test.timestamp:y.native?y.native.timestamp:void 0,y.native?y.native.cancelable:void 0)};A._updateKeyModifiers=function(w,y){if(y){var z=!1,C=()=>{if(!z){const D=
new Set;this._activeKeyModifiers.forEach(G=>{D.add(G)});this._activeKeyModifiers=D;z=!0}},B=(D,G)=>{G&&!this._activeKeyModifiers.has(D)?(C(),this._activeKeyModifiers.add(D)):!G&&this._activeKeyModifiers.has(D)&&(C(),this._activeKeyModifiers.delete(D))};if("key-down"===w||"key-up"===w){const D=y.key;this._keyModifiers.has(D)&&B(D,"key-down"===w)}w=y.native;B("Alt",!(!w||!w.altKey));B("Ctrl",!(!w||!w.ctrlKey));B("Shift",!(!w||!w.shiftKey));B("Meta",!(!w||!w.metaKey));B("Primary",this._activeKeyModifiers.has(this.primaryKey))}};
A._installRecognizers=function(){this._latestPointerTypeHandler=new q.LatestPointerType(w=>this._setLatestPointerType(w));0<this.recognizers.length&&this.installHandlers("default",this.recognizers,h.INTERNAL);this.installHandlers("input-manager-logic",[this._latestPointerTypeHandler],h.INTERNAL)};A._setPointerCapture=function(w,y,z,C){w=w.name+"-"+y.priorityIndex;y=this._pointerCaptures.get(z.pointerId)||new Set;this._pointerCaptures.set(z.pointerId,y);C?(y.add(w),1===y.size&&this.eventSource&&this.eventSource.setPointerCapture(z,
!0)):y.has(w)&&(y.delete(w),0===y.size&&(this._pointerCaptures.delete(z.pointerId),this.eventSource&&this.eventSource.setPointerCapture(z,!1)))};A._garbageCollectRemovedHandlers=function(){this._handlers=this._handlers.filter(w=>!w.removed);this.updateDependencies()};A._emitInputEventFromSource=function(w,y,z,C){this._emitInputEvent(0,w,y,z,C)};A._emitInputEvent=function(w,y,z,C,B,D){C=void 0!==C?C:this._currentPropagation?this._currentPropagation.timestamp:performance.now();w={event:new p(y,z,C,
D||this._activeKeyModifiers,void 0!==B?B:!1),priorityIndex:w};this._currentPropagation?this._currentPropagation.events.push(w):this._doNewPropagation(w)};A._doNewPropagation=function(w){this._currentPropagation={events:new l,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:w.event.timestamp};this._currentPropagation.events.push(w);this._continuePropagation()};A._continuePropagation=function(){const w=this._currentPropagation;if(w){for(;0<this._currentPropagation.events.length;){const {event:y,
priorityIndex:z}=this._currentPropagation.events.pop(),C=y.data&&y.data.eventId;if(null==C||!this._stoppedPropagationEventIds.has(C))for(w.currentHandler=this._handlersPriority[z];w.currentHandler;){if(w.currentHandler.removed)w.needsHandlerGarbageCollect=!0;else{w.currentHandler.active&&!y.shouldStopPropagation()&&w.currentHandler.eventCallback(y);if(y.shouldStopPropagation()){null!=C&&this._stoppedPropagationEventIds.add(C);break}if(y.shouldPausePropagation(()=>this._continuePropagation())){this._pausePropagation({event:y,
priorityIndex:w.currentHandler.priorityIndex+1});return}}w.currentHandler=this._handlersPriority[w.currentHandler.priorityIndex+1]}}w.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this.hasPendingInputs||this._stoppedPropagationEventIds.clear();this._currentPropagation=null;this._updateDependenciesAfterPropagation&&this.updateDependencies()}};A._pausePropagation=function(w){const y=new l;for(y.push(w);this._currentPropagation.events.length;)y.push(this._currentPropagation.events.pop());
this._currentPropagation.events=y;this._currentPropagation.currentHandler=null};A._compareHandlerPriority=function(w,y){if(w.handler.hasSideEffects!==y.handler.hasSideEffects)return w.handler.hasSideEffects?1:-1;if(w.groupPriority!==y.groupPriority)return w.groupPriority>y.groupPriority?-1:1;for(const z of w.handler.incomingEventMatches)for(const C of y.handler.incomingEventMatches){if(z.eventType!==C.eventType)continue;const B=z.keyModifiers.filter(D=>-1!==C.keyModifiers.indexOf(D));if(B.length===
z.keyModifiers.length!==(B.length===C.keyModifiers.length))return z.keyModifiers.length>C.keyModifiers.length?-1:1}return w.priorityIndex>y.priorityIndex?-1:1};A._sortHandlersPriority=function(w){const y=[];for(const z of w){for(w=0;w<y.length&&0<=this._compareHandlerPriority(z,y[w]);)w++;y.splice(w,0,z)}return y};b._createClass(x,[{key:"hasPendingInputs",get:function(){return this._handlers.some(w=>w.handler.hasPendingInputs)}},{key:"debug",get:function(){const w=y=>{const z=this._setPointerCapture;
this._setPointerCapture=()=>{};y();this._setPointerCapture=z};return{injectEvent:(y,z)=>{w(()=>{this._onEventReceived(y,z)})},disablePointerCapture:w}}}]);return x}(f);c.__decorate([u.property({readOnly:!0})],a.InputManager.prototype,"hasPendingInputs",null);c.__decorate([u.property()],a.InputManager.prototype,"eventSource",void 0);c.__decorate([u.property()],a.InputManager.prototype,"recognizers",void 0);c.__decorate([u.property({readOnly:!0})],a.InputManager.prototype,"latestPointerType",void 0);
a.InputManager=c.__decorate([m.subclass("esri.views.input.InputManager")],a.InputManager);let p=function(){function v(A,w,y,z,C){this.type=A;this.data=w;this.timestamp=y;this.modifiers=z;this.cancelable=C;this._propagationState=e.NONE;this._resumeCallback=null}var x=v.prototype;x.stopPropagation=function(){this._propagationState|=e.STOPPED};x.shouldStopPropagation=function(){return 0!==(this._propagationState&e.STOPPED)};x.async=function(A){this._propagationState|=e.PAUSED;const w=(y,z)=>{this._propagationState&=
~e.PAUSED;const C=this._resumeCallback;this._resumeCallback=null;C&&C();if(z)throw y;return y};return("function"===typeof A?A():A).then(y=>w(y,!1),y=>w(y,!0))};x.shouldPausePropagation=function(A){return this._propagationState&e.PAUSED?(this._resumeCallback=A,!0):!1};x.preventDefault=function(){this.data.native.preventDefault()};return v}();var e;(function(v){v[v.NONE=0]="NONE";v[v.STOPPED=1]="STOPPED";v[v.PAUSED=2]="PAUSED"})(e||(e={}));const h={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};a.ViewEventPriorities=
h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Queue":function(){define(["../chunks/_rollupPluginBabelHelpers","./maybe"],function(a,b){return function(){function c(d=l=>l.values().next().value){this._peeker=d;this._items=new Set}var f=c.prototype;f.clear=function(){this._items.clear()};f.last=function(){if(0!==this._items.size){for(var d of this._items);return d}};f.peek=function(){if(0!==this._items.size)return this._peeker(this._items)};f.push=function(d){this.contains(d)||this._items.add(d)};
f.contains=function(d){return this._items.has(d)};f.pop=function(){if(0!==this.length){var d=this.peek();this._items.delete(b.assumeNonNull(d));return d}};f.popLast=function(){if(0!==this.length){var d=this.last();this._items.delete(b.assumeNonNull(d));return d}};f.remove=function(d){this._items.delete(d)};f.filter=function(d){this._items.forEach(l=>{d(l)||this._items.delete(l)});return this};a._createClass(c,[{key:"length",get:function(){return this._items.size}}]);return c}()})},"esri/views/input/keys":function(){define(["exports",
"../../core/events","../../core/has"],function(a,b,c){c=c("mac")?"Meta":"Ctrl";const f={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(var d=48;58>d;d++)f[d]=String.fromCharCode(d);for(d=1;25>d;d++)f[111+d]=`F${d}`;for(d=65;91>d;d++)f[d]=[String.fromCharCode(d+32),String.fromCharCode(d)];a.eventKey=function(l){if(void 0!==l.key)return b.eventKey(l);const u=f[l.keyCode];
return Array.isArray(u)?l.shiftKey?u[1]:u[0]:u};a.isSystemModifier=function(l){switch(l){case "Ctrl":case "Alt":case "Shift":case "Meta":case "Primary":return!0}return!1};a.primaryKey=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/handlers/LatestPointerType":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../InputHandler"],function(a,b,c){c=function(f){function d(l){var u=f.call(this,!0)||this;u._onChange=l;u._value="mouse";u.registerIncoming("pointer-down",
t=>{u._setValue("touch"===t.data.native.pointerType?"touch":"mouse")});u._moveHandler=u.registerIncoming("pointer-move",t=>{u._setValue("touch"===t.data.native.pointerType?"touch":"mouse")});u._moveHandler.pause();return u}b._inheritsLoose(d,f);d.prototype._setValue=function(l){l!==this._value&&("touch"===l?this._moveHandler.resume():this._moveHandler.pause(),this._value=l,this._onChange(l))};return d}(c.InputHandler);a.LatestPointerType=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/InputHandler":function(){define(["exports",
"../../chunks/_rollupPluginBabelHelpers","../../core/Logger","./EventMatch"],function(a,b,c,f){const d=c.getLogger("esri.views.input.InputHandler");c=function(){function t(n){this._manager=null;this._incoming={};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=null;this._hasSideEffects=n}var g=t.prototype;g.onInstall=function(n){this._manager?d.error("This InputHandler has already been registered with an InputManager"):(n.setEventCallback(m=>this._handleEvent(m)),
n.setUninstallCallback(()=>this._onUninstall()),this._manager=n)};g.onUninstall=function(){};g.registerIncoming=function(n,m,r){"function"===typeof m?(r=m,m=[]):m=m||[];n="string"===typeof n?new f.EventMatch(n,m):n;const q=()=>{this._incomingEventMatches=this._incomingEventTypes=null};m=k=>{const p=this._incoming[k.match.eventType];p&&(k=p.indexOf(k),p.splice(k,1),q(),this._manager&&this._manager.updateDependencies())};r=new l(n,r,{onPause:m,onRemove:m,onResume:k=>{const p=this._incoming[k.match.eventType];
p&&-1===p.indexOf(k)&&(p.push(k),q(),this._manager&&this._manager.updateDependencies())}});m=this._incoming[n.eventType];m||(m=[],this._incoming[n.eventType]=m);m.push(r);q();this._manager&&this._manager.updateDependencies();return r};g.registerOutgoing=function(n){if(this._outgoing[n])throw Error("There is already a callback registered for this outgoing InputEvent: "+n);const m=new u(n,{onEmit:(r,q,k,p)=>{this._manager.emit(r.eventType,q,k,p)},onRemove:r=>{delete this._outgoing[r.eventType];this._manager.updateDependencies()}});
this._outgoing[n]=m;this._outgoingEventTypes=null;this._manager&&this._manager.updateDependencies();return m};g.startCapturingPointer=function(n){this._manager.setPointerCapture(n,!0)};g.stopCapturingPointer=function(n){this._manager.setPointerCapture(n,!1)};g.refreshHasPendingInputs=function(){this._manager.refreshHasPendingInputs()};g._onUninstall=function(){this._manager?(this.onUninstall(),this._manager=null):d.error("This InputHandler is not registered with an InputManager")};g._handleEvent=
function(n){const m=this._incoming[n.type];if(m)for(const r of m)if(r.match.matches(n)&&(r.callback(n),n.shouldStopPropagation()))break};b._createClass(t,[{key:"incomingEventMatches",get:function(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const n in this._incoming){const m=this._incoming[n];for(const r of m)this._incomingEventMatches.push(r.match)}}return this._incomingEventMatches}},{key:"incomingEventTypes",get:function(){this._incomingEventTypes||(this._incomingEventTypes=
this.incomingEventMatches.map(n=>n.eventType));return this._incomingEventTypes}},{key:"outgoingEventTypes",get:function(){this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing));return this._outgoingEventTypes}},{key:"hasSideEffects",get:function(){return this._hasSideEffects}},{key:"hasPendingInputs",get:function(){return!1}}]);return t}();let l=function(){function t(n,m,r){this.match=n;this._callback=m;this._handler=r}var g=t.prototype;g.pause=function(){this._handler.onPause(this)};
g.resume=function(){this._handler.onResume(this)};g.remove=function(){this._handler.onRemove(this)};b._createClass(t,[{key:"callback",get:function(){return this._callback}}]);return t}(),u=function(){function t(n,m){this.eventType=n;this._removed=!1;this._handler=m}var g=t.prototype;g.emit=function(n,m,r){if(!this._removed)this._handler.onEmit(this,n,m,r)};g.remove=function(){this._removed=!0;this._handler.onRemove(this)};return t}();a.InputHandler=c;Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/views/input/EventMatch":function(){define(["exports"],function(a){let b=function(){function c(f,d=[]){this.eventType=f;this.keyModifiers=d}c.prototype.matches=function(f){if(f.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;f=f.modifiers;for(const d of this.keyModifiers)if(!f.has(d))return!1;return!0};return c}();a.EventMatch=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/ViewEvents":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/has ../../core/mathUtils ../../core/screenUtils ./InputHandler ./InputManager ./IViewEvents".split(" "),
function(a,b,c,f,d,l,u,t){function g(k){return!!m[k]}function n(k){for(const p of k)if(!g(p))return!1;return!0}c="click double-click immediate-click immediate-double-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");const m={};c.forEach(k=>{m[k]=!0});let r=function(){function k(e){this.handlers=new Map;this.counter=0;this.handlerCounts=new Map;this.view=e;this.inputManager=null}var p=k.prototype;
p.connect=function(e){e&&this.disconnect();this.inputManager=e;this.handlers.forEach(({handler:h,priority:v},x)=>this.inputManager.installHandlers(x,[h],v))};p.disconnect=function(){this.inputManager&&this.handlers.forEach((e,h)=>this.inputManager.uninstallHandlers(h));this.inputManager=null};p.destroy=function(){this.disconnect();this.handlers.clear();this.view=null};p.on=function(e,h,v,x){const A=Array.isArray(e)?e:e.split(",");if(!n(A))return A.some(g)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),
null;if(Array.isArray(h))e=h;else{var w=h;e=[]}"function"===typeof v?w=v:x=v;x=null!=x?x:u.ViewEventPriorities.DEFAULT;const y=this._createUniqueGroupName();v=new q(this.view,A,e,w);this.handlers.set(y,{handler:v,priority:x});for(const z of A)w=this.handlerCounts.get(z)||0,this.handlerCounts.set(z,w+1);this.inputManager&&this.inputManager.installHandlers(y,[v],x);return{remove:()=>this._removeHandler(y,A)}};p.hasHandler=function(e){return!!this.handlerCounts.get(e)};p._removeHandler=function(e,h){if(this.handlers.has(e)){this.handlers.delete(e);
for(const v of h)h=this.handlerCounts.get(v),void 0===h?console.error("Trying to remove handler for event that has no handlers registered: ",v):1===h?this.handlerCounts.delete(v):this.handlerCounts.set(v,h-1)}this.inputManager&&this.inputManager.uninstallHandlers(e)};p._createUniqueGroupName=function(){this.counter+=1;return`viewEvents_${this.counter}`};return k}(),q=function(k){function p(h,v,x,A){var w=k.call(this,!0)||this;w.view=h;for(const y of v)switch(y){case "click":w.registerIncoming("click",
x,z=>A(w._wrapClick(z)));break;case "double-click":w.registerIncoming("double-click",x,z=>A(w._wrapDoubleClick(z)));break;case "immediate-click":w.registerIncoming("immediate-click",x,z=>A(w._wrapImmediateClick(z)));break;case "immediate-double-click":w.registerIncoming("immediate-double-click",x,z=>A(w._wrapImmediateDoubleClick(z)));break;case "hold":w.registerIncoming("hold",x,z=>A(w._wrapHold(z)));break;case "drag":w.registerIncoming("drag",x,z=>{(z=w._wrapDrag(z))&&A(z)});break;case "key-down":w.registerIncoming("key-down",
x,z=>A(w._wrapKeyDown(z)));break;case "key-up":w.registerIncoming("key-up",x,z=>A(w._wrapKeyUp(z)));break;case "pointer-down":w.registerIncoming("pointer-down",x,z=>A(w._wrapPointer(z,"pointer-down")));break;case "pointer-move":w.registerIncoming("pointer-move",x,z=>A(w._wrapPointer(z,"pointer-move")));break;case "pointer-up":w.registerIncoming("pointer-up",x,z=>A(w._wrapPointer(z,"pointer-up")));break;case "pointer-drag":w.registerIncoming("pointer-drag",x,z=>A(w._wrapPointerDrag(z)));break;case "mouse-wheel":w.registerIncoming("mouse-wheel",
x,z=>A(w._wrapMouseWheel(z)));break;case "pointer-enter":w.registerIncoming("pointer-enter",x,z=>A(w._wrapPointer(z,"pointer-enter")));break;case "pointer-leave":w.registerIncoming("pointer-leave",x,z=>A(w._wrapPointer(z,"pointer-leave")));break;case "gamepad":w.registerIncoming("gamepad",x,z=>{A(w._wrapGamepad(z))});break;case "focus":w.registerIncoming("focus",x,z=>{A(w._wrapFocus(z))});break;case "blur":w.registerIncoming("blur",x,z=>{A(w._wrapBlur(z))})}return w}b._inheritsLoose(p,k);var e=p.prototype;
e._wrapFocus=function(h){return{type:"focus",timestamp:h.timestamp,native:h.data.native,cancelable:h.cancelable,stopPropagation:()=>h.stopPropagation(),async:v=>h.async(v),preventDefault:()=>h.preventDefault()}};e._wrapBlur=function(h){return{type:"blur",timestamp:h.timestamp,native:h.data.native,cancelable:h.cancelable,stopPropagation:()=>h.stopPropagation(),async:v=>h.async(v),preventDefault:()=>h.preventDefault()}};e._wrapClick=function(h){const {pointerType:v,button:x,buttons:A,x:w,y,native:z,
eventId:C}=h.data,{cancelable:B,timestamp:D}=h,G=d.createScreenPoint(w,y),K=this._getMapPoint(w,y);return{type:"click",pointerType:v,button:x,buttons:A,x:w,y,native:z,timestamp:D,screenPoint:G,mapPoint:K,eventId:C,cancelable:B,stopPropagation:()=>h.stopPropagation(),async:M=>h.async(M),preventDefault:()=>h.preventDefault()}};e._wrapDoubleClick=function(h){const {pointerType:v,button:x,buttons:A,x:w,y,native:z,eventId:C}=h.data,{cancelable:B,timestamp:D}=h;return{type:"double-click",pointerType:v,
button:x,buttons:A,x:w,y,native:z,timestamp:D,mapPoint:this._getMapPoint(w,y),eventId:C,cancelable:B,stopPropagation:()=>h.stopPropagation(),async:G=>h.async(G),preventDefault:()=>h.preventDefault()}};e._wrapImmediateClick=function(h){const {pointerType:v,button:x,buttons:A,x:w,y,native:z,eventId:C}=h.data,B=z.pointerId,{cancelable:D,timestamp:G}=h;return{type:"immediate-click",pointerId:B,pointerType:v,button:x,buttons:A,x:w,y,native:z,timestamp:G,mapPoint:this._getMapPoint(w,y),eventId:C,cancelable:D,
stopPropagation:()=>h.stopPropagation(),async:K=>h.async(K),preventDefault:()=>h.preventDefault()}};e._wrapImmediateDoubleClick=function(h){const {pointerType:v,button:x,buttons:A,x:w,y,native:z,eventId:C}=h.data,B=z.pointerId,{cancelable:D,timestamp:G}=h;return{type:"immediate-double-click",pointerId:B,pointerType:v,button:x,buttons:A,x:w,y,native:z,timestamp:G,mapPoint:this._getMapPoint(w,y),eventId:C,cancelable:D,stopPropagation:()=>h.stopPropagation(),async:K=>h.async(K),preventDefault:()=>h.preventDefault()}};
e._wrapHold=function(h){const {pointerType:v,button:x,buttons:A,x:w,y,native:z}=h.data,{cancelable:C,timestamp:B}=h;return{type:"hold",pointerType:v,button:x,buttons:A,x:w,y,native:z,timestamp:B,mapPoint:this._getMapPoint(w,y),cancelable:C,stopPropagation:()=>h.stopPropagation(),async:D=>h.async(D),preventDefault:()=>h.preventDefault()}};e._getMapPoint=function(h,v){return this.view.toMap(d.createScreenPoint(h,v),{exclude:[]})};e._wrapDrag=function(h){const v=h.data,{x,y:A}=v.center,{action:w,pointerType:y,
button:z}=v;"start"===w&&(this.latestDragStart=v);if(this.latestDragStart){var C=v.pointer.native,B=v.buttons,{cancelable:D,timestamp:G}=h,K={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};"end"===w&&(this.latestDragStart=void 0);return{type:"drag",action:w,x,y:A,origin:K,pointerType:y,button:z,buttons:B,radius:v.radius,angle:f.rad2deg(v.angle),native:C,timestamp:G,cancelable:D,stopPropagation:()=>h.stopPropagation(),async:M=>h.async(M),preventDefault:()=>h.preventDefault()}}};e._wrapKeyDown=
function(h){const {key:v,repeat:x,native:A}=h.data,{cancelable:w,timestamp:y}=h;return{type:"key-down",key:v,repeat:x,native:A,timestamp:y,cancelable:w,stopPropagation:()=>h.stopPropagation(),async:z=>h.async(z),preventDefault:()=>h.preventDefault()}};e._wrapKeyUp=function(h){const {key:v,native:x}=h.data,{cancelable:A,timestamp:w}=h;return{type:"key-up",key:v,native:x,timestamp:w,cancelable:A,stopPropagation:()=>h.stopPropagation(),async:y=>h.async(y),preventDefault:()=>h.preventDefault()}};e._wrapPointer=
function(h,v){const {x,y:A,button:w,buttons:y,native:z,eventId:C}=h.data,B=z.pointerId,D=z.pointerType,{cancelable:G,timestamp:K}=h;return{type:v,x,y:A,pointerId:B,pointerType:D,button:w,buttons:y,native:z,timestamp:K,eventId:C,cancelable:G,stopPropagation:()=>h.stopPropagation(),async:M=>h.async(M),preventDefault:()=>h.preventDefault()}};e._wrapPointerDrag=function(h){const {x:v,y:x,buttons:A,native:w,eventId:y}=h.data.currentEvent,{button:z}=h.data.startEvent,C=h.data.startEvent.native.pointerId,
B=h.data.startEvent.native.pointerType,D=h.data.action,G={x:h.data.startEvent.x,y:h.data.startEvent.y},{cancelable:K,timestamp:M}=h;return{type:"pointer-drag",x:v,y:x,pointerId:C,pointerType:B,button:z,buttons:A,action:D,origin:G,native:w,timestamp:M,eventId:y,cancelable:K,stopPropagation:()=>h.stopPropagation(),async:N=>h.async(N),preventDefault:()=>h.preventDefault()}};e._wrapMouseWheel=function(h){const {cancelable:v,data:x,timestamp:A}=h,{x:w,y,deltaY:z,native:C}=x;return{type:"mouse-wheel",x:w,
y,deltaY:z,native:C,timestamp:A,cancelable:v,stopPropagation:()=>h.stopPropagation(),async:B=>h.async(B),preventDefault:()=>h.preventDefault()}};e._wrapGamepad=function(h){const {action:v,state:x,device:A}=h.data,{cancelable:w,timestamp:y}=h,{buttons:z,axes:C}=x;return{type:"gamepad",device:A,timestamp:y,action:v,buttons:z,axes:C,cancelable:w,stopPropagation:()=>h.stopPropagation(),async:B=>h.async(B),preventDefault:()=>h.preventDefault()}};return p}(l.InputHandler);Object.defineProperty(a,"MouseButton",
{enumerable:!0,get:()=>t.MouseButton});a.ViewEvents=r;a.eventTypes=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/IViewEvents":function(){define(["exports"],function(a){a.MouseButton=void 0;var b=a.MouseButton||(a.MouseButton={});b[b.Left=0]="Left";b[b.Middle=1]="Middle";b[b.Right=2]="Right";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/interactive/interactiveToolUtils":function(){define(["exports","../../core/Logger","./interfaces"],function(a,b,c){const f=
b.getLogger("esri.views.interactive.interactiveToolUtils");a.areToolManipulatorsEditable=function(d){return d.visible&&d.getEditableFlag(c.EditableFlag.USER)&&d.getEditableFlag(c.EditableFlag.MANAGER)};a.getToolCollectionHandles=function(d){return[d.on("before-add",l=>{const u=l.item;if(null==u||d.includes(u))f.warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),l.preventDefault()}),d.on("after-remove",l=>{l=l.item;l.visible=!1;l.active&&(l.view.activeTool=null);
l.destroy()})]};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/interactive/interfaces":function(){define(["exports"],function(a){a.EditableFlag=void 0;(function(b){b[b.USER=0]="USER";b[b.MANAGER=1]="MANAGER"})(a.EditableFlag||(a.EditableFlag={}));a.ManipulatorStateFlags=void 0;(function(b){b[b.None=0]="None";b[b.Unfocused=1]="Unfocused";b[b.Focused=2]="Focused";b[b.Unselected=4]="Unselected";b[b.Selected=8]="Selected";b[b.All=15]="All"})(a.ManipulatorStateFlags||(a.ManipulatorStateFlags=
{}));a.ManipulatorStateCustomFlags=void 0;(function(b){b[b.None=0]="None";b[b.Custom1=16]="Custom1";b[b.Custom2=32]="Custom2";b[b.Custom3=64]="Custom3";b[b.Custom4=128]="Custom4";b[b.Custom5=256]="Custom5";b[b.Custom6=512]="Custom6";b[b.Custom7=1024]="Custom7";b[b.Custom8=2048]="Custom8";b[b.Custom9=4096]="Custom9";b[b.Custom10=8192]="Custom10";b[b.Custom11=16384]="Custom11";b[b.Custom12=32768]="Custom12";b[b.All=65520]="All"})(a.ManipulatorStateCustomFlags||(a.ManipulatorStateCustomFlags={}));Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/views/interactive/ToolViewManagerManipulatorState":function(){define("../../chunks/_rollupPluginBabelHelpers ../../core/MapUtils ../../core/mathUtils ../../core/maybe ../../core/screenUtils ./interactiveToolUtils ../support/screenUtils".split(" "),function(a,b,c,f,d,l,u){const t={manipulator:null,tool:null};return function(){function g(){this._pointerLocations=new Map;this._hoveredManipulators=new Map;this._grabbedManipulators=new Map;this._draggedManipulators=new Map;
this._stopDrag=!1;this._currentlyActiveTool=null;this._revertToActiveTool=!1;this._cursor=null}var n=g.prototype;n.handleInputEvent=function(m,r){var q=()=>m.stopPropagation();switch(m.type){case "pointer-move":"mouse"===m.pointerType&&this._pointerLocations.set(m.pointerId,{x:m.x,y:m.y,pointerType:m.pointerType});break;case "drag":0<this._grabbedManipulators.size&&(this._stopDrag=!0);this._stopDrag&&(m.stopPropagation(),"end"===m.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===
m.pointerType&&0!==m.button)break;q=u.createScreenPointFromEvent(m);var k=this._intersect(q,m.pointerType,r.forEachTool);if(f.isNone(k))break;var p=this._findToolAndManipulatorByKey(k,r.forEachTool,t),e=f.applySome(p,v=>v.manipulator);p=f.applySome(p,v=>v.tool);!(f.isSome(e)&&f.isSome(p)&&e.interactive)||e.grabbable&&e.grabbableForEvent(m)||!e.grabbing||e.dragging||this._ungrabManipulatorBeforeDragging(e,p,m);f.isSome(e)&&e.interactive&&e.grabbable&&e.grabbableForEvent(m)&&!e.grabbing&&(this._grabbedManipulators.set(m.pointerId,
{key:k,start:q,pointerType:m.pointerType}),1===this._grabbedManipulators.size&&r.activeTool!==k.tool&&(this._currentlyActiveTool=r.activeTool,this._revertToActiveTool=!0,r.setActiveTool(k.tool)),e.grabbing=!0,e.events.emit("grab-changed",{action:"start",pointerType:m.pointerType,screenPoint:q}),m.stopPropagation());break;case "pointer-up":this._handlePointerEnd(m,r);break;case "pointer-drag":if("mouse"===m.pointerType&&0!==m.button)break;var h=this._grabbedManipulators.get(m.pointerId);q=this._draggedManipulators.get(m.pointerId);
k=f.applySome(h||q,({key:v})=>v);e=this._findManipulatorByKey(k,r.forEachTool);if(f.isNone(e))break;p=u.createScreenPointFromEvent(m);p.x=c.clamp(p.x,0,r.view.width);p.y=c.clamp(p.y,0,r.view.height);h=f.unwrap(h||q).start;switch(m.action){case "start":case "update":if("update"===m.action||1===this._grabbedManipulators.size)e.dragging=!0,q?e.events.emit("drag",{action:"update",start:h,screenPoint:p}):e.events.emit("drag",{action:"start",start:h,screenPoint:p,pointerType:m.pointerType}),this._draggedManipulators.set(m.pointerId,
{key:f.unwrap(k),start:h});break;case "end":e.dragging=!1,q&&e.events.emit("drag",{action:"end",start:h,screenPoint:p}),this._draggedManipulators.delete(m.pointerId),this._handlePointerEnd(m,r)}m.stopPropagation();break;case "immediate-click":{k=u.createScreenPointFromEvent(m);e=this._intersect(k,m.pointerType,r.forEachTool);const v=this._findToolAndManipulatorByKey(e,r.forEachTool,t);m.native.shiftKey||r.forEachTool(w=>{if((!f.isSome(v)||v.tool!==w||w.automaticManipulatorSelection)&&w.manipulators){let y=
!1;w.manipulators.forEach(({manipulator:z})=>{z.selected&&(z.selected=!1,y=!0)});y&&w.manipulatorSelectionChanged&&w.manipulatorSelectionChanged()}});if(f.isNone(v))break;const {manipulator:x,tool:A}=v;if(!x.interactive)break;x.selectable&&A.automaticManipulatorSelection&&(x.selected=!x.selected,A.manipulatorSelectionChanged&&A.manipulatorSelectionChanged());x.events.emit("immediate-click",{screenPoint:k,button:m.button,pointerType:m.pointerType,shiftKey:m.native.shiftKey,stopPropagation:q});break}case "click":q=
u.createScreenPointFromEvent(m);k=this._intersect(q,m.pointerType,r.forEachTool);k=this._findManipulatorByKey(k,r.forEachTool);if(f.isNone(k)||!k.interactive)break;k.events.emit(m.type,{screenPoint:q,button:m.button,pointerType:m.pointerType,shiftKey:m.native.shiftKey});m.stopPropagation();break;case "double-click":k=u.createScreenPointFromEvent(m);e=this._intersect(k,m.pointerType,r.forEachTool);e=this._findManipulatorByKey(e,r.forEachTool);if(f.isNone(e)||!e.interactive)break;e.events.emit("double-click",
{screenPoint:k,button:m.button,pointerType:m.pointerType,shiftKey:m.native.shiftKey,stopPropagation:q});break;case "immediate-double-click":k=u.createScreenPointFromEvent(m),e=this._intersect(k,m.pointerType,r.forEachTool),e=this._findManipulatorByKey(e,r.forEachTool),!f.isNone(e)&&e.interactive&&e.events.emit("immediate-double-click",{screenPoint:k,button:m.button,pointerType:m.pointerType,shiftKey:m.native.shiftKey,stopPropagation:q})}this._updateCursor(r.forEachTool)};n._ungrabManipulatorBeforeDragging=
function(m,r,q){m.grabbing=!1;m.events.emit("grab-changed",{action:"end",pointerType:q.pointerType,screenPoint:u.createScreenPointFromEvent(q)});this._grabbedManipulators.forEach(({key:k},p)=>{k.tool===r&&r.manipulators.findById(k.manipulatorId)===m&&this._grabbedManipulators.delete(p)})};n._handlePointerEnd=function(m,r){var q=f.applySome(this._grabbedManipulators.get(m.pointerId),({key:k})=>k);q=this._findManipulatorByKey(q,r.forEachTool);f.isSome(q)&&!q.dragging&&(1===this._grabbedManipulators.size&&
0===this._draggedManipulators.size&&this._revertToActiveTool&&(r.setActiveTool(this._currentlyActiveTool),this._revertToActiveTool=!1,this._currentlyActiveTool=null),q.grabbing&&(q.grabbing=!1,q.events.emit("grab-changed",{action:"end",pointerType:m.pointerType,screenPoint:u.createScreenPointFromEvent(m)})),this._grabbedManipulators.delete(m.pointerId))};n._cursorFromMap=function(m,r){let q=null;b.someMap(m,({key:k})=>{k=this._findManipulatorByKey(k,r);return f.isSome(k)&&k.interactive&&"cursor"in
k&&k.cursor?(q=k.cursor,!0):!1});return q};n._updateCursor=function(m){this._cursor=0<this._grabbedManipulators.size?this._cursorFromMap(this._grabbedManipulators,m)||"grabbing":0<this._hoveredManipulators.size?this._cursorFromMap(this._hoveredManipulators,m)||"pointer":null};n.clearPointers=function(m,r,q=!0,k){const p=e=>e.tool===m&&(f.isNone(k)||e.manipulatorId===k);this._grabbedManipulators.forEach(({key:e,pointerType:h},v)=>{p(e)&&(this._grabbedManipulators.delete(v),e=this._findManipulatorByKey(e,
r),f.isSome(e)&&(e.grabbing=!1,e.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:h})))});this._draggedManipulators.forEach(({key:e},h)=>{p(e)&&(this._draggedManipulators.delete(h),e=this._findManipulatorByKey(e,r),f.isSome(e)&&(e.dragging=!1,e.events.emit("drag",{action:"cancel"})))});q&&this._hoveredManipulators.forEach(({key:e},h)=>{p(e)&&(this._hoveredManipulators.delete(h),e=this._findManipulatorByKey(e,r),f.isSome(e)&&(e.hovering=!1))});this._updateCursor(r)};n._intersect=
function(m,r,q){let k=null;q(p=>{if(null==p.manipulators||!l.areToolManipulatorsEditable(p))return!1;const e=p.manipulators.intersect(m,r);if(f.isNone(e))return!1;k={manipulatorId:e.id,tool:p};return!0});return k};n.updateHoveredStateFromKnownPointers=function(m){this._pointerLocations.forEach((r,q)=>{this._updateHoveredStateForPointerAtScreenPosition(d.createScreenPoint(r.x,r.y),q,r.pointerType,m)})};n.handleHoverEvent=function(m,r){"pointer-up"!==m.type&&"immediate-click"!==m.type&&"pointer-move"!==
m.type||"mouse"!==m.pointerType||this._updateHoveredStateForPointerAtScreenPosition(u.createScreenPointFromEvent(m),m.pointerId,m.pointerType,r)};n._updateHoveredStateForPointerAtScreenPosition=function(m,r,q,k){m=this._intersect(m,q,k);q=this._findManipulatorByKey(m,k);var p=f.applySome(this._hoveredManipulators.get(r),({key:e})=>e);p=this._findManipulatorByKey(p,k);f.isSome(q)&&!q.interactive&&(q=null);p!==q&&(f.isSome(p)&&(p.hovering=!1),f.isSome(q)?(q.hovering=!0,this._hoveredManipulators.set(r,
{key:f.unwrap(m)})):this._hoveredManipulators.delete(r),this._updateCursor(k))};n._findManipulatorByKey=function(m,r){return this._findToolAndManipulatorByKey(m,r,t)?t.manipulator:null};n._findToolAndManipulatorByKey=function(m,r,q){if(f.isNone(m))return null;q.tool=null;q.manipulator=null;r(k=>{if(k!==m.tool||null==k.manipulators||!l.areToolManipulatorsEditable(k))return!1;const p=k.manipulators.findById(m.manipulatorId);return f.isSome(p)?(q.manipulator=p,q.tool=k,!0):!1});return q.manipulator?
q:null};a._createClass(g,[{key:"cursor",get:function(){return this._cursor}}]);return g}()})},"esri/views/support/screenUtils":function(){define(["exports","../../core/has","../../core/screenUtils"],function(a,b,c){function f(l){return c.createScreenPoint(l.x,l.y)}function d(l,u){l=(l instanceof HTMLElement?l:l.surface).getBoundingClientRect();return c.createScreenPoint(u.clientX-l.left,u.clientY-l.top)}a.createScreenPointFromEvent=f;a.createScreenPointFromNativeEvent=d;a.createScreenPointFromSupportedEvent=
function(l,u){return u instanceof Event?d(l,u):f(u)};a.isSupportedScreenPointEvent=function(l){if(l instanceof Event)return!0;if("object"===typeof l&&"type"in l)switch(l.type){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0}return!1};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/Input":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),
function(a,b,c,f,d,l,u,t,g){c=function(n){function m(){var r=n.apply(this,arguments)||this;r.gamepad=new g;return r}a._inheritsLoose(m,n);return m}(c);b.__decorate([f.property({readOnly:!0})],c.prototype,"gamepad",void 0);return c=b.__decorate([t.subclass("esri.views.input.Input")],c)})},"esri/views/input/gamepad/GamepadSettings":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Collection ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./GamepadInputDevice".split(" "),
function(a,b,c,f,d,l,u,t,g,n){c=function(m){function r(...q){q=m.call(this,...q)||this;q.devices=new f;q.enabledFocusMode="document";return q}a._inheritsLoose(r,m);return r}(c);b.__decorate([d.property({type:f.ofType(n),readOnly:!0})],c.prototype,"devices",void 0);b.__decorate([d.property({type:["document","view","none"]})],c.prototype,"enabledFocusMode",void 0);return c=b.__decorate([g.subclass("esri.views.input.gamepad.GamepadSettings")],c)})},"esri/views/input/gamepad/GamepadInputDevice":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,d,l,u,t){c=function(m){function r(q){var k=m.call(this)||this;k.nativeIndex=null;k._detectedDeviceType="unknown";"standard"===q.mapping?k._detectedDeviceType="standard":g.test(q.id)?k._detectedDeviceType="spacemouse":k._detectedDeviceType="unknown";k.nativeIndex=q.index;return k}a._inheritsLoose(r,m);a._createClass(r,[{key:"native",get:function(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}},{key:"deviceType",get:function(){return this._detectedDeviceType}},
{key:"axisThreshold",get:function(){return n[this.deviceType]}}]);return r}(c);b.__decorate([f.property({nonNullable:!0,readOnly:!0})],c.prototype,"nativeIndex",void 0);b.__decorate([f.property({type:String,readOnly:!0})],c.prototype,"deviceType",null);b.__decorate([f.property({type:Number,readOnly:!0})],c.prototype,"axisThreshold",null);c=b.__decorate([t.subclass("esri.views.input.gamepad.GamepadInputDevice")],c);const g=/^(3dconnexion|space(mouse|navigator|pilot|explorer))/i,n={standard:.15,spacemouse:.025,
unknown:0};return c})},"esri/views/navigation/Navigation":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),function(a,b,c,f,d,l,u,t,g){c=function(n){function m(r){r=n.call(this,r)||this;r.browserTouchPanEnabled=!0;r.gamepad=new g;r.momentumEnabled=
!0;r.mouseWheelZoomEnabled=!0;return r}a._inheritsLoose(m,n);return m}(c);b.__decorate([f.property({type:Boolean})],c.prototype,"browserTouchPanEnabled",void 0);b.__decorate([f.property({type:g,nonNullable:!0})],c.prototype,"gamepad",void 0);b.__decorate([f.property({type:Boolean})],c.prototype,"momentumEnabled",void 0);b.__decorate([f.property({type:Boolean})],c.prototype,"mouseWheelZoomEnabled",void 0);return c=b.__decorate([t.subclass("esri.views.navigation.Navigation")],c)})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../input/gamepad/GamepadInputDevice".split(" "),
function(a,b,c,f,d,l,u,t,g){c=function(n){function m(r){r=n.call(this,r)||this;r.enabled=!0;r.device=null;r.mode="pan";r.tiltDirection="forward-down";r.velocityFactor=1;return r}a._inheritsLoose(m,n);return m}(c);b.__decorate([f.property({type:Boolean,nonNullable:!0})],c.prototype,"enabled",void 0);b.__decorate([f.property({type:g})],c.prototype,"device",void 0);b.__decorate([f.property({type:["pan","zoom"],nonNullable:!0})],c.prototype,"mode",void 0);b.__decorate([f.property({type:["forward-down",
"forward-up"],nonNullable:!0})],c.prototype,"tiltDirection",void 0);b.__decorate([f.property({type:Number,nonNullable:!0})],c.prototype,"velocityFactor",void 0);return c=b.__decorate([t.subclass("esri.views.navigation.gamepad.GamepadSettings")],c)})},"esri/views/support/DefaultsFromMap":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../geometry/support/heightModelInfoUtils ../ViewingMode ./projectionUtils".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k){const p=f.getLogger("esri.views.support.DefaultsFromMap");p.level="info";c=function(e){function h(x){x=e.call(this,x)||this;x.required={tileInfo:!1,heightModelInfo:!1,extent:!1};x.defaultSpatialReference=null;x.userSpatialReference=null;x.sourcePreloadCount=10;x.priorityCollection=null;x.logDebugInformation=!1;x.requiresExtentInSpatialReference=!0;x.suspended=!1;x._projectExtentTask={task:null,input:null,output:null,spatialReference:null};return x}a._inheritsLoose(h,
e);var v=h.prototype;v.destroy=function(){this._projectExtentTask.task&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=d.abortMaybe(this._projectExtentTask.task));this._set("map",null)};v._processSpatialReferenceCandidates=function(x,A){var w;const y=this._getSupportedSpatialReferences(x);if(0!==y.length)if(this._debug("Spatial reference candidates from",null!=(w=x.title)?w:x.id,":",y.map(z=>`${z.spatialReference.wkid}:${d.isSome(z.viewingMode)?q.stringFromViewingMode(z.viewingMode):
"global/local"}`).join(", ")),A.candidates){x=[];w=(z,C)=>d.isNone(z.viewingMode)?C.viewingMode:d.isNone(C.viewingMode)?z.viewingMode:z.viewingMode===C.viewingMode?z.viewingMode:!1;for(const z of A.candidates)for(const C of y){if(!z.spatialReference.equals(C.spatialReference))continue;const B=w(z,C);if(!1!==B){x.push({spatialReference:z.spatialReference,viewingMode:B});break}}0<x.length&&(A.candidates=x)}else A.candidates=y};v._pickSpatialReferenceCandidate=function(x){const A=this.defaultSpatialReference;
if(!x||1>x.length)return d.isSome(A)?{spatialReference:A,viewingMode:null}:null;d.isSome(A)&&1<x.length&&x.some(({spatialReference:w})=>w.equals(A))&&(x=x.filter(({spatialReference:w})=>w.equals(A)));1<x.length&&x.some(({viewingMode:w})=>w!==q.ViewingMode.Local)&&(x=x.filter(({viewingMode:w})=>w!==q.ViewingMode.Local));return x[0]};v._getSupportedSpatialReferences=function(x){var A="supportedSpatialReferences"in x&&x.supportedSpatialReferences||(x.spatialReference?[x.spatialReference]:[]);if(0===
A.length)return[];const w=[];for(const y of A)if(A=this.getSpatialReferenceSupport({spatialReference:y,layer:x}),d.isSome(A)){A=d.isSome(A.constraints)?A.constraints:[{spatialReference:y}];for(const {spatialReference:z,viewingMode:C}of A)(!this.requiresExtentInSpatialReference||d.isNone(this.userSpatialReference)||z.equals(this.userSpatialReference))&&w.push({spatialReference:z,viewingMode:C})}return w};v._pickExtentCandidate=function(x){const A=this.spatialReference;return x.find(({extent:w})=>A.equals(w.spatialReference))||
x[0]};v._collectLayers=function(x){var A;if("loaded"!==this._loadMaybe(null==(A=this.map)?void 0:A.call(this)))return{layers:[],updating:!0};A={layers:[],preloading:-1,updating:!1};for(const w of x)if(this._collectCollection(w,A),A.preloading===this.sourcePreloadCount)break;return{layers:A.layers,updating:A.updating}};v._collectCollection=function(x,A){if(x.layers){switch(this._loadMaybe(x.parent)){case "loading":A.updating=!0;++A.preloading;return;case "failed":return}for(const z of x.layers){switch(this._loadMaybe(z)){case "failed":continue;
case "loading":A.updating=!0;++A.preloading;break;case "loaded":if(!A.updating){var w,y;this._debug("Considering layer",null!=(w=null!=(y=z.title)?y:z.id)?w:z.declaredClass);A.layers.push(z)}"layers"in z&&this._collectCollection({layers:z.layers},A)}if(A.preloading===this.sourcePreloadCount)break}}};v._loadMaybe=function(x){if(!(x&&"loadStatus"in x))return"loaded";if("not-loaded"===x.loadStatus){var A,w;this._debug("Triggering load",null!=(A=null!=(w=x.title)?w:x.id)?A:x.declaredClass);x.load();return"loading"}return x.loadStatus};
v._debug=function(...x){this.logDebugInformation&&p.info(...x)};a._createClass(h,[{key:"ready",get:function(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}},{key:"heightModelInfoReady",get:function(){return!this._heightModelInfoTask.updating}},{key:"spatialReference",get:function(){return d.isSome(this.userSpatialReference)?this.userSpatialReference:d.unwrap(this._spatialReferenceTask.spatialReference)}},{key:"extent",get:function(){return d.unwrap(this._extentTask.extent)}},
{key:"heightModelInfo",get:function(){return d.unwrap(this._heightModelInfoTask.heightModelInfo)}},{key:"vcsWkid",get:function(){return d.unwrap(this._heightModelInfoTask.vcsWkid)}},{key:"latestVcsWkid",get:function(){return d.unwrap(this._heightModelInfoTask.latestVcsWkid)}},{key:"viewingMode",get:function(){return d.isNone(this.userSpatialReference)||this.userSpatialReference.equals(d.unwrap(this._spatialReferenceTask.spatialReference))?d.unwrap(this._spatialReferenceTask.viewingMode):null}},{key:"tileInfo",
get:function(){return d.unwrap(this._tileInfoTask.tileInfo)}},{key:"mapCollections",get:function(){var x,A,w,y;const z=null==(x=this.map)?void 0:x.call(this);x=[];d.isSome(this.priorityCollection)&&x.push(this.priorityCollection);x.push({parent:null==z?void 0:z.basemap,layers:null==z?void 0:null==(A=z.basemap)?void 0:A.baseLayers},{layers:null==z?void 0:z.layers},{parent:null==z?void 0:z.ground,layers:null==z?void 0:null==(w=z.ground)?void 0:w.layers},{parent:null==z?void 0:z.basemap,layers:null==
z?void 0:null==(y=z.basemap)?void 0:y.referenceLayers});return x}},{key:"_allLayers",get:function(){var x,A;const w=this._collectLayers(this.mapCollections);this._debug("Collected",null!=(x=null==(A=w.layers)?void 0:A.length)?x:0,"layers, updating",w.updating);return w}},{key:"_spatialReferenceTask",get:function(){var x;if(this.suspended){var A;return null!=(A=this._get("_spatialReferenceTask"))?A:{updating:!1}}const {layers:w,updating:y}=this._allLayers;A={candidates:null};for(const z of w)if(this._processSpatialReferenceCandidates(z,
A),A.candidates&&1===A.candidates.length)break;if(1!==(null==(x=A.candidates)?void 0:x.length)&&y)return{updating:!0};x=this._pickSpatialReferenceCandidate(A.candidates);this._debug("Finished spatial reference",d.isSome(x)?`${x.spatialReference.wkid}:${d.isSome(x.viewingMode)?q.stringFromViewingMode(x.viewingMode):"global/local"}`:"none available");return{spatialReference:d.isSome(x)?x.spatialReference:null,viewingMode:d.isSome(x)?x.viewingMode:null,updating:!1}}},{key:"_tileInfoTask",get:function(){var x,
A,w,y,z,C,B;if(!this.required.tileInfo){var D;return null!=(D=this._get("_tileInfoTask"))?D:{updating:!1}}if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const {layers:G,updating:K}=this._collectLayers([{parent:null==(x=this.map)?void 0:null==(A=x.call(this))?void 0:A.basemap,layers:null==(w=this.map)?void 0:null==(y=w.call(this))?void 0:null==(z=y.basemap)?void 0:z.baseLayers},{layers:null==(C=this.map)?void 0:null==(B=C.call(this))?void 0:B.layers}]);return G&&0<G.length&&
"tileInfo"in G[0]?(x=G[0].tileInfo,{tileInfo:x&&x.spatialReference.equals(this.spatialReference)?x:null,updating:!1}):{updating:K}}},{key:"_heightModelInfoTask",get:function(){var x;if(!this.required.heightModelInfo||this.suspended&&null!=(x=this._get("_heightModelInfoTask"))&&x.heightModelInfo){var A;return null!=(A=this._get("_heightModelInfoTask"))?A:{updating:!1}}const {layers:w,updating:y}=this._allLayers;for(const G of w){var z,C;this._debug("Considering",null!=(z=null!=(C=G.title)?C:G.id)?
z:G.declaredClass,"for height model info");if(r.mayHaveHeightModelInfo(G)&&(x=r.deriveHeightModelInfoFromLayer(G))){var B,D;this._debug("Derived height model info",x);return{heightModelInfo:x,vcsWkid:null==(B=G.spatialReference)?void 0:B.vcsWkid,latestVcsWkid:null==(D=G.spatialReference)?void 0:D.latestVcsWkid,updating:!1}}this._debug("Layer does not support height models")}this._debug("No height model info found,","updating",y);return{updating:y}}},{key:"_extentCandidatesTask",get:function(){if(this.suspended||
!this.required.extent){var x;return null!=(x=this._get("_extentCandidatesTask"))?x:{updating:!1}}if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};var A=this._allLayers;x=A.updating;const w=[];for(const C of A.layers){var y;A="fullExtents"in C&&C.fullExtents||(d.isSome(C.fullExtent)?[C.fullExtent]:[]);var z=this.requiresExtentInSpatialReference?null:A[0];if(z=null!=(y=A.find(B=>B.spatialReference.equals(this.spatialReference)))?y:z)return{candidates:[{extent:z,layer:C}],
updating:!1};if(0<this._getSupportedSpatialReferences(C).length)for(const B of A)w.push({extent:B,layer:C})}return{candidates:w,updating:x}}},{key:"_extentTask",get:function(){var x=this;const {candidates:A,updating:w}=this._extentCandidatesTask;if(w)return{updating:w};if(d.isNone(A)||0===A.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const y=this._pickExtentCandidate(A),z=this.spatialReference;if(y.extent.equals(this._projectExtentTask.input)&&
z.equals(this._projectExtentTask.spatialReference))return{extent:this._projectExtentTask.output,updating:d.isSome(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished};d.isSome(this._projectExtentTask.task)&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=d.abortMaybe(this._projectExtentTask.task));this._debug("Starting project extent task for",y.extent);this._projectExtentTask={input:y.extent.clone(),output:null,spatialReference:z.clone(),task:l.createTask(function(){var C=
a._asyncToGenerator(function*(B){try{const D=yield k.projectWithEngineOrService(y.extent,z,y.layer.portalItem,B);x._debug("Project extent task finished",D);x._projectExtentTask={...x._projectExtentTask,task:null,output:D}}catch(D){l.isAborted(B)||(x._projectExtentTask={...x._projectExtentTask,task:null})}});return function(B){return C.apply(this,arguments)}}())};return{updating:!0}}}]);return h}(c);b.__decorate([u.property()],c.prototype,"required",void 0);b.__decorate([u.property({constructOnly:!0})],
c.prototype,"map",void 0);b.__decorate([u.property({constructOnly:!0})],c.prototype,"getSpatialReferenceSupport",void 0);b.__decorate([u.property()],c.prototype,"defaultSpatialReference",void 0);b.__decorate([u.property()],c.prototype,"userSpatialReference",void 0);b.__decorate([u.property()],c.prototype,"sourcePreloadCount",void 0);b.__decorate([u.property()],c.prototype,"priorityCollection",void 0);b.__decorate([u.property()],c.prototype,"logDebugInformation",void 0);b.__decorate([u.property()],
c.prototype,"requiresExtentInSpatialReference",void 0);b.__decorate([u.property()],c.prototype,"suspended",void 0);b.__decorate([u.property({readOnly:!0})],c.prototype,"ready",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"heightModelInfoReady",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"spatialReference",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"extent",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"heightModelInfo",null);b.__decorate([u.property({readOnly:!0})],
c.prototype,"vcsWkid",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"latestVcsWkid",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"viewingMode",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"tileInfo",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"mapCollections",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"_allLayers",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"_spatialReferenceTask",null);b.__decorate([u.property({readOnly:!0})],
c.prototype,"_tileInfoTask",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"_heightModelInfoTask",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"_extentCandidatesTask",null);b.__decorate([u.property()],c.prototype,"_extentTask",null);b.__decorate([u.property()],c.prototype,"_projectExtentTask",void 0);return c=b.__decorate([m.subclass("esri.views.support.DefaultsFromMap")],c)})},"esri/geometry/support/heightModelInfoUtils":function(){define("exports ../../core/has ../../core/Error ../../core/maybe ../HeightModelInfo ../../layers/support/arcgisLayerUrl".split(" "),
function(a,b,c,f,d,l){function u(p,e,h){if(!t(p)||!t(e))return q.Unsupported;if(null==p||null==e)return q.Ok;if(!h&&p.heightUnit!==e.heightUnit)return q.Units;if(p.heightModel!==e.heightModel)return q.HeightModel;switch(p.heightModel){case "gravity-related-height":return q.Ok;case "ellipsoidal":return p.vertCRS===e.vertCRS?q.Ok:q.CRS;default:return q.Unsupported}}function t(p){return null==p||null!=p.heightModel&&null!=p.heightUnit}function g(p){const e=p.url&&l.parse(p.url);return(null!=(p.spatialReference&&
p.spatialReference.vcsWkid)||!f.isSome(e)||"ImageServer"!==e.serverType)&&"heightModelInfo"in p&&p.heightModelInfo?p.heightModelInfo:m(p)?d.deriveUnitFromSR(k,p.spatialReference):null}function n(p){if("unknown"===p.type||!("capabilities"in p))return!1;switch(p.type){case "csv":case "feature":case "geojson":case "subtype-group":case "ogc-feature":case "wfs":return!0;case "imagery":case "map-image":case "map-notes":case "tile":case "vector-tile":case "scene":case null:return!1;default:return!1}}function m(p){return n(p)?
!!(p.capabilities&&p.capabilities.data&&p.capabilities.data.supportsZ):r(p)}function r(p){switch(p.type){case "building-scene":case "elevation":case "integrated-mesh":case "point-cloud":case "scene":case "voxel":return!0}return!1}var q;(function(p){p[p.Ok=0]="Ok";p[p.Units=1]="Units";p[p.HeightModel=2]="HeightModel";p[p.CRS=3]="CRS";p[p.Unsupported=4]="Unsupported"})(q||(q={}));const k=new d({heightModel:"gravity-related-height"});a.deriveHeightModelInfoFromLayer=g;a.mayHaveHeightModelInfo=function(p){return null!=
p.layers||r(p)||n(p)||"heightModelInfo"in p};a.rejectLayerError=function(p,e,h){const v=g(p),x=u(v,e,h);if(v){const A=d.deriveUnitFromSR(v,p.spatialReference).heightUnit;if(!h&&A!==v.heightUnit)return e=new c("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${A})`,{horizontalUnit:A}),new c("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:v,error:e})}if(!("heightModelInfo"in p&&
null!=p.heightModelInfo||null!=p.spatialReference)&&m(p)||x===q.Unsupported)return new c("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:v});switch(x){case q.Units:return p=v.heightUnit||"unknown",h=e.heightUnit||"unknown",p=new c("layerview:incompatible-height-unit",`The vertical units of the layer (${p}) must match the vertical units of the scene (${h})`,{layerUnit:p,sceneUnit:h}),new c("layerview:incompatible-height-model-info",
"The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:v,sceneHeightModelInfo:e,error:p});case q.HeightModel:return p=v.heightModel||"unknown",h=e.heightModel||"unknown",p=new c("layerview:incompatible-height-model",`The height model of the layer (${p}) must match the height model of the scene (${h})`,{layerHeightModel:p,sceneHeightModel:h}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",
{layerHeightModelInfo:v,sceneHeightModelInfo:e,error:p});case q.CRS:return p=v.vertCRS||"unknown",h=e.vertCRS||"unknown",p=new c("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${p}) must match the vertical datum of the scene (${h})`,{layerDatum:p,sceneDatum:h}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:v,sceneHeightModelInfo:e,error:p})}return null};a.validateWebSceneError=
function(p,e){if(!p)return null;if(!t(p))return new c("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:p});const h=p.heightUnit;p=d.deriveUnitFromSR(p,e).heightUnit;return h!==p?new c("webscene:incompatible-height-unit",`The vertical units of the scene (${h}) must match the horizontal units of the scene (${p})`,{verticalUnit:h,horizontalUnit:p}):null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/ViewingMode":function(){define(["exports"],
function(a){a.ViewingMode=void 0;(function(b){b[b.Global=1]="Global";b[b.Local=2]="Local"})(a.ViewingMode||(a.ViewingMode={}));a.stringFromViewingMode=function(b){return b===a.ViewingMode.Global?"global":"local"};a.viewingModeFromString=function(b){return"global"===b?a.ViewingMode.Global:a.ViewingMode.Local};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/support/projectionUtils":function(){define(["require","exports","../../chunks/_rollupPluginBabelHelpers","../../core/promiseUtils",
"../../geometry/projection"],function(a,b,c,f,d){function l(r){return u.apply(this,arguments)}function u(){u=c._asyncToGenerator(function*(r){n||(n=(new Promise((q,k)=>a(["../../portal/support/geometryServiceUtils"],q,k))).then(q=>m=q));yield n;f.throwIfAborted(r)});return u.apply(this,arguments)}function t(r,q,k,p){return g.apply(this,arguments)}function g(){g=c._asyncToGenerator(function*(r,q,k,p){if(!r)return null;const e=r.spatialReference;if(d.isLoaded()||d.canProjectWithoutEngine(e,q))return d.project(r,
q);if(m)return m.projectGeometry(r,q,k,p);yield Promise.race([l(p),d.load(p)]);return t(r,q,k,p)});return g.apply(this,arguments)}let n=null,m;b.projectWithEngineOrService=t;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./projectionEllipsoid ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/SupportedGCSWkids ./support/zscale".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A,w,y,z,C,B){function D(){return!!ua&&k.isLoaded()}function G(X){l.isNone(Ga)&&(Ga=Promise.all([k.load(),(new Promise((ha,ia)=>a(["../chunks/geometryEngineBase"],ha,ia))).then(ha=>ha.geometryEngineBase),new Promise((ha,ia)=>a(["./geometryAdapters/hydrated"],ha,ia))]));return Ga.then(([,ha,{hydratedAdapter:ia}])=>{u.throwIfAborted(X);Ea=ia;ua=ha.default;ua._enableProjection(k.pe)})}function K(X,ha,ia=null){return Array.isArray(X)?0===X.length?[]:M(Ea,
X,X[0].spatialReference,ha,ia):M(Ea,[X],X.spatialReference,ha,ia)[0]}function M(X,ha,ia,Da,ta=null){if(l.isNone(ia)||l.isNone(Da))return ha;if(I(ia,Da,ta))return ha.map(Na=>l.unwrap(E(Na,ia,Da)));if(l.isNone(ta)){const Na=y.cacheKey(ia,Da);void 0!==Ma[Na]?ta=Ma[Na]:(ta=N(ia,Da,null),l.isNone(ta)&&(ta=new y),Ma[Na]=ta)}if(l.isNone(ua))throw new Ua;return ua._project(X,ha,ia,Da,ta)}function N(X,ha,ia=null){if(l.isNone(ua))throw new Ua;if(l.isNone(X)||l.isNone(ha))return null;X=ua._getTransformation(Ea,
X,ha,ia,null==ia?void 0:ia.spatialReference);return null!==X?y.fromGE(X):null}function I(X,ha,ia){return ia?!1:z.equals(X,ha)?!0:z.isValid(X)&&z.isValid(ha)&&!!ca(X,ha,db)}function F(){F=c._asyncToGenerator(function*(X,ha,ia,Da){if(!D())if(Array.isArray(X))for(const {source:ta,dest:Na,geographicTransformation:$a}of X){if(!I(ta,Na,$a))return G(Da)}else if(!I(X,ha,ia))return G(Da)});return F.apply(this,arguments)}function E(X,ha,ia){return X?"x"in X?J(X,ha,new p,ia,0):"xmin"in X?Y(X,ha,new r,ia,0):
"rings"in X?Z(X,ha,new e,ia,0):"paths"in X?W(X,ha,new h,ia,0):"points"in X?P(X,ha,new q,ia,0):null:null}function J(X,ha,ia,Da,ta){Ha[0]=X.x;Ha[1]=X.y;const Na=X.z;Ha[2]=void 0!==Na?Na:ta;if(!Fa(Ha,ha,0,Ha,Da,0,1))return null;ia.x=Ha[0];ia.y=Ha[1];ia.spatialReference=Da;void 0===Na?(ia.z=void 0,ia.hasZ=!1):(ia.z=Ha[2],ia.hasZ=!0);void 0===X.m?(ia.m=void 0,ia.hasM=!1):(ia.m=X.m,ia.hasM=!0);return ia}function P(X,ha,ia,Da,ta){const {points:Na,hasZ:$a,hasM:bb}=X;X=[];const eb=Na.length,Va=[];for(var Wa of Na)Va.push(Wa[0],
Wa[1],$a?Wa[2]:ta);if(!Fa(Va,ha,0,Va,Da,0,eb))return null;for(ha=0;ha<eb;++ha){ta=3*ha;Wa=Va[ta];const Ba=Va[ta+1];$a&&bb?X.push([Wa,Ba,Va[ta+2],Na[ha][3]]):$a?X.push([Wa,Ba,Va[ta+2]]):bb?X.push([Wa,Ba,Na[ha][2]]):X.push([Wa,Ba])}ia.points=X;ia.spatialReference=Da;ia.hasZ=$a;ia.hasM=bb;return ia}function W(X,ha,ia,Da,ta){const {paths:Na,hasZ:$a,hasM:bb}=X;X=[];if(!la(Na,$a,bb,ha,X,Da,ta))return null;ia.paths=X;ia.spatialReference=Da;ia.hasZ=$a;ia.hasM=bb;return ia}function Z(X,ha,ia,Da,ta){const {rings:Na,
hasZ:$a,hasM:bb}=X;X=[];if(!la(Na,$a,bb,ha,X,Da,ta))return null;ia.rings=X;ia.spatialReference=Da;ia.hasZ=$a;ia.hasM=bb;return ia}function Y(X,ha,ia,Da,ta){const {xmin:Na,ymin:$a,xmax:bb,ymax:eb,hasZ:Va,hasM:Wa}=X;if(!S(Na,$a,Va?X.zmin:ta,ha,Ha,Da))return null;ia.xmin=Ha[0];ia.ymin=Ha[1];Va&&(ia.zmin=Ha[2]);if(!S(bb,eb,Va?X.zmax:ta,ha,Ha,Da))return null;ia.xmax=Ha[0];ia.ymax=Ha[1];Va&&(ia.zmax=Ha[2]);Wa&&(ia.mmin=X.mmin,ia.mmax=X.mmax);ia.spatialReference=Da;return ia}function S(X,ha,ia,Da,ta,Na){Ka[0]=
X;Ka[1]=ha;Ka[2]=ia;return Fa(Ka,Da,0,ta,Na,0,1)}function qa(X,ha,ia,Da){if(l.isNone(ha)||l.isNone(Da)||2>X.length)return!1;2===X.length&&(Ka[0]=X[0],Ka[1]=X[1],Ka[2]=0,X=Ka);return Fa(X,ha,0,ia,Da,0,1)}function xa(X,ha,ia){if(l.isNone(ha))return!1;ha=Ia(ha,gb);ha=fb[ha][oa.WGS84_COMPARABLE_LON_LAT];if(l.isNone(ha))return!1;ha(X,0,Ka,0);ia!==Ka&&(ia[0]=Ka[0],ia[1]=Ka[1],2<ia.length&&(ia[2]=Ka[2]));return!0}function Fa(X,ha,ia,Da,ta,Na,$a=1){ha=ca(ha,ta,db);if(l.isNone(ha))return!1;if(ha===H){if(X===
Da&&ia===Na)return!0;$a=ia+3*$a;for(let bb=ia,eb=Na;bb<$a;bb++,eb++)Da[eb]=X[bb];return!0}$a=ia+3*$a;for(let bb=ia,eb=Na;bb<$a;bb+=3,eb+=3)ha(X,bb,Da,eb);return!0}function la(X,ha,ia,Da,ta,Na,$a=0){const bb=[];for(const eb of X)for(const Va of eb)bb.push(Va[0],Va[1],ha?Va[2]:$a);if(!Fa(bb,Da,0,bb,Na,0,bb.length/3))return!1;Da=0;ta.length=0;for(const eb of X){X=[];for(const Va of eb)ha&&ia?X.push([bb[Da++],bb[Da++],bb[Da++],Va[3]]):ha?X.push([bb[Da++],bb[Da++],bb[Da++]]):(ia?X.push([bb[Da++],bb[Da++],
Va[2]]):X.push([bb[Da++],bb[Da++]]),Da++);ta.push(X)}return!0}function V(X,ha,ia,Da){ha=Da+ha;if(ha<Da/2||ia>ha)return Number.MAX_VALUE;X=Math.abs(ja*X)+Math.asin(ia/ha);return X>=Math.PI/2?Number.MAX_VALUE:ia/Math.cos(X)}function aa(X,ha,ia){const Da=Math.sin(X);X=Math.cos(X);const ta=Math.sin(ha);ha=Math.cos(ha);ia[0]=-Da;ia[4]=-ta*X;ia[8]=ha*X;ia[12]=0;ia[1]=X;ia[5]=-ta*Da;ia[9]=ha*Da;ia[13]=0;ia[2]=0;ia[6]=ha;ia[10]=ta;ia[14]=0;ia[3]=0;ia[7]=0;ia[11]=0;ia[15]=1;return ia}function Ca(X,ha,ia){aa(X,
ha,ia);g.transpose(ia,ia);return ia}function Ia(X,ha){if(ha.spatialReference===X)return ha.spatialReferenceId;ha.spatialReference=X;"metersPerUnit"in ha&&(ha.metersPerUnit=t.getMetersPerUnitForSR(X,1));return X.wkt===v.SphericalECEFSpatialReference.wkt?ha.spatialReferenceId=oa.SPHERICAL_ECEF:z.isWGS84(X)?ha.spatialReferenceId=oa.WGS84:z.isWebMercator(X)?ha.spatialReferenceId=oa.WEB_MERCATOR:z.isPlateCarree(X)?ha.spatialReferenceId=oa.PLATE_CARREE:X.wkt===v.WGS84ECEFSpatialReference.wkt?ha.spatialReferenceId=
oa.WGS84_ECEF:X.wkid===C.SupportedGCSWkids.CGCS2000?ha.spatialReferenceId=oa.CGCS2000:X.wkt===v.SphericalPCPFMars.wkt?ha.spatialReferenceId=oa.SPHERICAL_MARS_PCPF:X.wkt===v.SphericalPCPFMoon.wkt?ha.spatialReferenceId=oa.SPHERICAL_MOON_PCPF:z.isMars(X)?ha.spatialReferenceId=oa.GCSMARS2000:z.isMoon(X)?ha.spatialReferenceId=oa.GCSMOON2000:ha.spatialReferenceId=oa.UNKNOWN}function H(X,ha,ia,Da){X!==ia&&(ia[Da++]=X[ha++],ia[Da++]=X[ha++],ia[Da]=X[ha])}function O(X,ha,ia,Da){ia[Da++]=ra*(X[ha++]/A.earth.radius);
ia[Da++]=ra*(Math.PI/2-2*Math.atan(Math.exp(-X[ha++]/A.earth.radius)));ia[Da]=X[ha]}function fa(X,ha,ia,Da){O(X,ha,ia,Da);sa(ia,Da,ia,Da)}function Q(X,ha,ia,Da){O(X,ha,ia,Da);va(ia,Da,ia,Da)}function T(X,ha,ia,Da,ta){var Na=.4999999*Math.PI;Na=d.clamp(ja*X[ha+1],-Na,Na);Na=Math.sin(Na);ia[Da++]=ja*X[ha]*ta.radius;ia[Da++]=ta.halfSemiMajorAxis*Math.log((1+Na)/(1-Na));ia[Da]=X[ha+2]}function da(X,ha,ia,Da){T(X,ha,ia,Da,A.earth)}function ea(X,ha,ia,Da){ia[Da]=X[ha]*ab;ia[Da+1]=X[ha+1]*ab;ia[Da+2]=X[ha+
2]}function pa(X,ha,ia,Da){ia[Da]=X[ha]*cb;ia[Da+1]=X[ha+1]*cb;ia[Da+2]=X[ha+2]}function ma(X,ha,ia,Da){O(X,ha,ia,Da);ea(ia,Da,ia,Da)}function L(X,ha,ia,Da,ta){ta+=X[ha+2];const Na=ja*X[ha+1];X=ja*X[ha];ha=Math.cos(Na);ia[Da++]=Math.cos(X)*ha*ta;ia[Da++]=Math.sin(X)*ha*ta;ia[Da]=Math.sin(Na)*ta}function R(X,ha,ia,Da){L(X,ha,ia,Da,A.moon.radius)}function U(X,ha,ia,Da){L(X,ha,ia,Da,A.mars.radius)}function sa(X,ha,ia,Da){L(X,ha,ia,Da,A.earth.radius)}function Aa(X,ha,ia,Da,ta){var Na=X[ha];const $a=X[ha+
1];ha=X[ha+2];X=Math.sqrt(Na*Na+$a*$a+ha*ha);ha=d.asinClamped(ha/(0===X?1:X));Na=Math.atan2($a,Na);ia[Da++]=ra*Na;ia[Da++]=ra*ha;ia[Da]=X-ta}function La(X,ha,ia,Da){Aa(X,ha,ia,Da,A.moon.radius)}function Pa(X,ha,ia,Da){Aa(X,ha,ia,Da,A.mars.radius)}function Sa(X,ha,ia,Da){Aa(X,ha,ia,Da,A.earth.radius)}function Xa(X,ha,ia,Da){Sa(X,ha,ia,Da);da(ia,Da,ia,Da)}function ka(X,ha,ia,Da){Sa(X,ha,ia,Da);va(ia,Da,ia,Da)}function va(X,ha,ia,Da){{var ta=A.earth;const $a=ja*X[ha];var Na=ja*X[ha+1];X=X[ha+2];ha=Math.sin(Na);
Na=Math.cos(Na);const bb=ta.radius/Math.sqrt(1-ta.eccentricitySquared*ha*ha);ia[Da++]=(bb+X)*Na*Math.cos($a);ia[Da++]=(bb+X)*Na*Math.sin($a);ia[Da++]=(bb*(1-ta.eccentricitySquared)+X)*ha}}function wa(X,ha,ia,Da){var ta=w.earthEllipsoidConstants,Na=X[ha],$a=X[ha+1];X=X[ha+2];let bb;ha=Math.abs(X);var eb=Na*Na+$a*$a;var Va=Math.sqrt(eb);var Wa=eb+X*X;var Ba=Math.sqrt(Wa);Na=Math.atan2($a,Na);var Qa=X*X/Wa;Wa=eb/Wa;$a=ta.a2/Ba;eb=ta.a3-ta.a4/Ba;.3<Wa?(Qa=ha/Ba*(1+Wa*(ta.a1+$a+Qa*eb)/Ba),Ba=Math.asin(Qa),
$a=Qa*Qa,Wa=Math.sqrt(1-$a)):(Wa=Va/Ba*(1-Qa*(ta.a5-$a-Wa*eb)/Ba),Ba=Math.acos(Wa),$a=1-Wa*Wa,Qa=Math.sqrt($a));bb=1-A.earth.eccentricitySquared*$a;$a=A.earth.radius/Math.sqrt(bb);ta=ta.a6*$a;$a=Va-$a*Wa;eb=ha-ta*Qa;ha=Wa*$a+Qa*eb;Va=Wa*eb-Qa*$a;ta=Va/(ta/bb+ha);Ba+=ta;0>X&&(Ba=-Ba);ia[Da++]=ra*Na;ia[Da++]=ra*Ba;ia[Da]=ha+Va*ta/2}function Ja(X,ha,ia,Da){wa(X,ha,ia,Da);sa(ia,Da,ia,Da)}function Oa(X,ha,ia,Da){wa(X,ha,ia,Da);da(ia,Da,ia,Da)}function ca(X,ha,ia=za()){return l.isNone(X)||l.isNone(ha)?
null:na(X,ha,ia).projector}function na(X,ha,ia){if(l.isNone(X)||l.isNone(ha)||ia.source.spatialReference===X&&ia.dest.spatialReference===ha)return ia;const Da=Ia(X,ia.source),ta=Ia(ha,ia.dest);Da===oa.UNKNOWN&&ta===oa.UNKNOWN?z.equals(X,ha)?ia.projector=H:ia.projector=null:ia.projector=fb[Da][ta];return ia}function za(){return{source:{spatialReference:null,spatialReferenceId:oa.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:oa.UNKNOWN,metersPerUnit:1},projector:H}}let ua=
null,Ea=null,Ga=null,Ma={},Ua=function(X){function ha(){return X.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")||this}c._inheritsLoose(ha,X);return ha}(f);var oa;(function(X){X[X.UNKNOWN=0]="UNKNOWN";X[X.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";X[X.WGS84=2]="WGS84";X[X.WEB_MERCATOR=3]="WEB_MERCATOR";X[X.WGS84_ECEF=4]="WGS84_ECEF";X[X.CGCS2000=5]="CGCS2000";X[X.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";X[X.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";
X[X.GCSMARS2000=8]="GCSMARS2000";X[X.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";X[X.GCSMOON2000=10]="GCSMOON2000";X[X.LON_LAT=11]="LON_LAT";X[X.PLATE_CARREE=12]="PLATE_CARREE"})(oa||(oa={}));const ab=A.earth.radius*Math.PI/180,cb=180/(A.earth.radius*Math.PI),fb={[oa.WGS84]:{[oa.CGCS2000]:null,[oa.GCSMARS2000]:null,[oa.GCSMOON2000]:null,[oa.LON_LAT]:H,[oa.WGS84_COMPARABLE_LON_LAT]:H,[oa.SPHERICAL_ECEF]:sa,[oa.SPHERICAL_MARS_PCPF]:null,[oa.SPHERICAL_MOON_PCPF]:null,[oa.UNKNOWN]:null,[oa.WEB_MERCATOR]:da,
[oa.PLATE_CARREE]:ea,[oa.WGS84]:H,[oa.WGS84_ECEF]:va},[oa.CGCS2000]:{[oa.CGCS2000]:H,[oa.GCSMARS2000]:null,[oa.GCSMOON2000]:null,[oa.LON_LAT]:H,[oa.WGS84_COMPARABLE_LON_LAT]:H,[oa.SPHERICAL_ECEF]:sa,[oa.SPHERICAL_MARS_PCPF]:null,[oa.SPHERICAL_MOON_PCPF]:null,[oa.UNKNOWN]:null,[oa.WEB_MERCATOR]:null,[oa.PLATE_CARREE]:ea,[oa.WGS84]:null,[oa.WGS84_ECEF]:va},[oa.GCSMARS2000]:{[oa.CGCS2000]:null,[oa.GCSMARS2000]:H,[oa.GCSMOON2000]:null,[oa.LON_LAT]:H,[oa.WGS84_COMPARABLE_LON_LAT]:null,[oa.SPHERICAL_ECEF]:null,
[oa.SPHERICAL_MARS_PCPF]:U,[oa.SPHERICAL_MOON_PCPF]:null,[oa.UNKNOWN]:null,[oa.WEB_MERCATOR]:null,[oa.PLATE_CARREE]:null,[oa.WGS84]:null,[oa.WGS84_ECEF]:null},[oa.GCSMOON2000]:{[oa.CGCS2000]:null,[oa.GCSMARS2000]:null,[oa.GCSMOON2000]:H,[oa.LON_LAT]:H,[oa.WGS84_COMPARABLE_LON_LAT]:null,[oa.SPHERICAL_ECEF]:null,[oa.SPHERICAL_MARS_PCPF]:null,[oa.SPHERICAL_MOON_PCPF]:R,[oa.UNKNOWN]:null,[oa.WEB_MERCATOR]:null,[oa.PLATE_CARREE]:null,[oa.WGS84]:null,[oa.WGS84_ECEF]:null},[oa.WEB_MERCATOR]:{[oa.CGCS2000]:null,
[oa.GCSMARS2000]:null,[oa.GCSMOON2000]:null,[oa.LON_LAT]:O,[oa.WGS84_COMPARABLE_LON_LAT]:O,[oa.SPHERICAL_ECEF]:fa,[oa.SPHERICAL_MARS_PCPF]:null,[oa.SPHERICAL_MOON_PCPF]:null,[oa.UNKNOWN]:null,[oa.WEB_MERCATOR]:H,[oa.PLATE_CARREE]:ma,[oa.WGS84]:O,[oa.WGS84_ECEF]:Q},[oa.WGS84_ECEF]:{[oa.CGCS2000]:wa,[oa.GCSMARS2000]:null,[oa.GCSMOON2000]:null,[oa.LON_LAT]:wa,[oa.WGS84_COMPARABLE_LON_LAT]:wa,[oa.SPHERICAL_ECEF]:Ja,[oa.SPHERICAL_MARS_PCPF]:null,[oa.SPHERICAL_MOON_PCPF]:null,[oa.UNKNOWN]:null,[oa.WEB_MERCATOR]:Oa,
[oa.PLATE_CARREE]:function(X,ha,ia,Da){wa(X,ha,ia,Da);ea(ia,Da,ia,Da)},[oa.WGS84]:wa,[oa.WGS84_ECEF]:H},[oa.SPHERICAL_ECEF]:{[oa.CGCS2000]:Sa,[oa.GCSMARS2000]:null,[oa.GCSMOON2000]:null,[oa.LON_LAT]:Sa,[oa.WGS84_COMPARABLE_LON_LAT]:Sa,[oa.SPHERICAL_ECEF]:H,[oa.SPHERICAL_MARS_PCPF]:null,[oa.SPHERICAL_MOON_PCPF]:null,[oa.UNKNOWN]:null,[oa.WEB_MERCATOR]:Xa,[oa.PLATE_CARREE]:function(X,ha,ia,Da){Sa(X,ha,ia,Da);ea(ia,Da,ia,Da)},[oa.WGS84]:Sa,[oa.WGS84_ECEF]:ka},[oa.SPHERICAL_MARS_PCPF]:{[oa.CGCS2000]:null,
[oa.GCSMARS2000]:Pa,[oa.GCSMOON2000]:null,[oa.LON_LAT]:Pa,[oa.WGS84_COMPARABLE_LON_LAT]:null,[oa.SPHERICAL_ECEF]:null,[oa.SPHERICAL_MARS_PCPF]:H,[oa.SPHERICAL_MOON_PCPF]:null,[oa.UNKNOWN]:null,[oa.WEB_MERCATOR]:null,[oa.PLATE_CARREE]:null,[oa.WGS84]:null,[oa.WGS84_ECEF]:null},[oa.SPHERICAL_MOON_PCPF]:{[oa.CGCS2000]:null,[oa.GCSMARS2000]:null,[oa.GCSMOON2000]:La,[oa.LON_LAT]:La,[oa.WGS84_COMPARABLE_LON_LAT]:null,[oa.SPHERICAL_ECEF]:null,[oa.SPHERICAL_MARS_PCPF]:null,[oa.SPHERICAL_MOON_PCPF]:H,[oa.UNKNOWN]:null,
[oa.WEB_MERCATOR]:null,[oa.PLATE_CARREE]:null,[oa.WGS84]:null,[oa.WGS84_ECEF]:null},[oa.UNKNOWN]:{[oa.CGCS2000]:null,[oa.GCSMARS2000]:null,[oa.GCSMOON2000]:null,[oa.LON_LAT]:null,[oa.WGS84_COMPARABLE_LON_LAT]:null,[oa.SPHERICAL_ECEF]:null,[oa.SPHERICAL_MARS_PCPF]:null,[oa.SPHERICAL_MOON_PCPF]:null,[oa.UNKNOWN]:H,[oa.WEB_MERCATOR]:null,[oa.PLATE_CARREE]:null,[oa.WGS84]:null,[oa.WGS84_ECEF]:null},[oa.LON_LAT]:{[oa.CGCS2000]:H,[oa.GCSMARS2000]:H,[oa.GCSMOON2000]:H,[oa.LON_LAT]:H,[oa.WGS84_COMPARABLE_LON_LAT]:H,
[oa.SPHERICAL_ECEF]:sa,[oa.SPHERICAL_MARS_PCPF]:U,[oa.SPHERICAL_MOON_PCPF]:R,[oa.UNKNOWN]:null,[oa.WEB_MERCATOR]:da,[oa.PLATE_CARREE]:ea,[oa.WGS84]:H,[oa.WGS84_ECEF]:va},[oa.WGS84_COMPARABLE_LON_LAT]:{[oa.CGCS2000]:null,[oa.GCSMARS2000]:null,[oa.GCSMOON2000]:null,[oa.LON_LAT]:H,[oa.WGS84_COMPARABLE_LON_LAT]:H,[oa.SPHERICAL_ECEF]:sa,[oa.SPHERICAL_MARS_PCPF]:null,[oa.SPHERICAL_MOON_PCPF]:null,[oa.UNKNOWN]:null,[oa.WEB_MERCATOR]:null,[oa.PLATE_CARREE]:ea,[oa.WGS84]:H,[oa.WGS84_ECEF]:va},[oa.PLATE_CARREE]:{[oa.CGCS2000]:pa,
[oa.GCSMARS2000]:null,[oa.GCSMOON2000]:null,[oa.LON_LAT]:pa,[oa.WGS84_COMPARABLE_LON_LAT]:pa,[oa.SPHERICAL_ECEF]:function(X,ha,ia,Da){pa(X,ha,ia,Da);sa(ia,Da,ia,Da)},[oa.SPHERICAL_MARS_PCPF]:null,[oa.SPHERICAL_MOON_PCPF]:null,[oa.UNKNOWN]:null,[oa.WEB_MERCATOR]:function(X,ha,ia,Da){pa(X,ha,ia,Da);da(ia,Da,ia,Da)},[oa.PLATE_CARREE]:H,[oa.WGS84]:pa,[oa.WGS84_ECEF]:function(X,ha,ia,Da){pa(X,ha,ia,Da);va(ia,Da,ia,Da)}}},gb={spatialReference:null,spatialReferenceId:oa.UNKNOWN},Za={spatialReference:null,
spatialReferenceId:oa.UNKNOWN},db=za(),Ta=za(),ja=d.deg2rad(1),ra=d.rad2deg(1),Ka=m.create(),ba=m.create(),ya=m.create(),Ha=m.create(),Ra=m.create();b.canProjectToWGS84ComparableLonLat=function(X){if(l.isNone(X))return!1;X=Ia(X,gb);return!!fb[X][oa.WGS84_COMPARABLE_LON_LAT]};b.canProjectWithoutEngine=I;b.computeENUToSphericalPCPFLocalRotation=aa;b.computeSphericalPCPFToENULocalRotation=Ca;b.computeTranslationToOriginAndRotation=function(X,ha,ia,Da){if(l.isNone(X)||l.isNone(Da))return!1;var ta=Ia(X,
gb),Na=Ia(Da,Za);if(ta===Na&&Na!==oa.SPHERICAL_ECEF&&Na!==oa.SPHERICAL_MARS_PCPF&&Na!==oa.SPHERICAL_MOON_PCPF&&(ta!==oa.UNKNOWN||z.equals(X,Da)))return g.fromTranslation(ia,ha),!0;if(Na===oa.SPHERICAL_ECEF||Na===oa.SPHERICAL_MARS_PCPF||Na===oa.SPHERICAL_MOON_PCPF){ta=fb[ta][oa.LON_LAT];Na=fb[oa.LON_LAT][Na];if(l.isNone(ta)||l.isNone(Na))return!1;ta(ha,0,ba,0);Na(ba,0,ya,0);aa(ja*ba[0],ja*ba[1],ia);ia[12]=ya[0];ia[13]=ya[1];ia[14]=ya[2];return!0}if((Na===oa.WEB_MERCATOR||Na===oa.PLATE_CARREE)&&(ta===
oa.WGS84||ta===oa.CGCS2000&&Na===oa.PLATE_CARREE||ta===oa.SPHERICAL_ECEF||ta===oa.WEB_MERCATOR)){X=fb[ta][oa.LON_LAT];Na=fb[oa.LON_LAT][Na];if(l.isNone(X)||l.isNone(Na))return!1;X(ha,0,ba,0);Na(ba,0,ya,0);ta===oa.SPHERICAL_ECEF?Ca(ja*ba[0],ja*ba[1],ia):g.identity(ia);ia[12]=ya[0];ia[13]=ya[1];ia[14]=ya[2];return!0}return!1};b.getProjectorName=function(X,ha){switch(ca(X,ha,db)){case H:return"copy3";case sa:return"wgs84ToSphericalECEF";case da:return"wgs84ToWebMercator";case ea:return"wgs84ToPlateCarree";
case va:return"wgs84ToWGS84ECEF";case O:return"webMercatorToWGS84";case fa:return"webMercatorToSphericalECEF";case Q:return"webMercatorToWGS84ECEF";case ma:return"webMercatorToPlateCarree";case wa:return"wgs84ECEFToWGS84";case Ja:return"wgs84ECEFToSphericalECEF";case Oa:return"wgs84ECEFToWebMercator";case Sa:return"sphericalECEFToWGS84";case Xa:return"sphericalECEFToWebMercator";case Pa:return"sphericalMarsPCPFToMars2000";case La:return"sphericalMoonPCPFToMoon2000";case ka:return"sphericalECEFToWGS84ECEF";
case U:return"mars2000ToSphericalPCPF";case R:return"moon2000ToSphericalPCPF";default:return null}};b.getTransformation=N;b.getTransformations=function(X,ha,ia=null){if(l.isNone(ua))throw new Ua;X=ua._getTransformationBySuitability(Ea,X,ha,ia,null==ia?void 0:ia.spatialReference);if(null!==X){ha=[];for(const Da of X)ha.push(y.fromGE(Da));return ha}return[]};b.initializeProjection=function(X,ha,ia,Da){return F.apply(this,arguments)};b.isLoaded=D;b.load=G;b.localLinearScaleFactors=function(X,ha,ia,Da){if(l.isNone(ha)||
l.isNone(Da))return!1;const ta=Ia(ha,gb);var Na=Ia(Da,Za);if(ta===Na&&ta!==oa.UNKNOWN||z.equals(ha,Da))return ia[0]=1,ia[1]=1,ia[2]=1,!0;if(ta===oa.SPHERICAL_ECEF){ha=n.length(X);X=ha/Math.sqrt(X[0]*X[0]+X[1]*X[1]);ha/=A.earth.radius;if(Na===oa.WEB_MERCATOR)return ia[0]=X*ha,ia[1]=X*ha,ia[2]=1,!0;if(Na===oa.WGS84||Na===oa.CGCS2000)return Na=cb,ia[0]=Na*X*ha,ia[1]=Na*ha,ia[2]=1,!0}else if(ta===oa.PLATE_CARREE){if(Na===oa.WGS84||Na===oa.CGCS2000)return ia[0]=cb,ia[1]=cb,ia[2]=1,!0;if(Na===oa.WEB_MERCATOR)return Na=
X[1]/A.earth.radius,ia[0]=1,ia[1]=1/Math.cos(Na),ia[2]=1,!0}return!1};b.lonLatToSphericalPCPF=function(X,ha,ia,Da,ta=0){Da+=ta;ta=Math.cos(ia);X[0]=Math.cos(ha)*ta*Da;X[1]=Math.sin(ha)*ta*Da;X[2]=Math.sin(ia)*Da};b.lonLatToWebMercatorComparable=T;b.project=K;b.projectBoundingRect=function(X,ha,ia,Da){if(null==X)return!1;if(z.equals(ha,Da))return x.copy(ia,X),!0;Ka[0]=X[0];Ka[1]=X[1];Ka[2]=0;if(!Fa(Ka,ha,0,Ka,Da,0,1))return!1;ia[0]=Ka[0];ia[1]=Ka[1];Ka[0]=X[2];Ka[1]=X[3];Ka[2]=0;if(!Fa(Ka,ha,0,Ka,
Da,0,1))return!1;ia[2]=Ka[0];ia[3]=Ka[1];return!0};b.projectBoundingSphere=function(X,ha,ia,Da){if(l.isNone(ha)||l.isNone(Da))return!1;ha=na(ha,Da,Ta);if(ha.projector===H)return ia[0]=X[0],ia[1]=X[1],ia[2]=X[2],ia[3]=X[3],!0;if(l.isNone(ha.projector))return!1;const {source:ta,dest:Na}=ha;if(Na.spatialReferenceId===oa.WEB_MERCATOR){ha=fb[ta.spatialReferenceId][oa.WGS84];if(l.isNone(ha))return!1;ha(X,0,ba,0);da(ba,0,ia,0);ia[3]=V(ba[1],X[2],X[3],A.earth.radius);return!0}if(ta.spatialReferenceId!==oa.WGS84&&
ta.spatialReferenceId!==oa.CGCS2000||Na.spatialReferenceId!==oa.PLATE_CARREE)ha.projector(X,0,ia,0),ia[3]=X[3]*ta.metersPerUnit/Na.metersPerUnit;else{Da=fb[oa.SPHERICAL_ECEF][oa.PLATE_CARREE];let $a=X[3];l.isSome(fb[ta.spatialReferenceId][oa.SPHERICAL_ECEF])&&l.isSome(Da)&&($a=V(X[1],X[2],X[3],A.earth.radius));ha.projector(X,0,ia,0);ia[3]=$a}return!0};b.projectBuffer=Fa;b.projectDirection=function(X,ha,ia,Da,ta){n.copy(Ha,X);n.add(Ra,X,ha);qa(Ha,ia,Ha,ta);qa(Ra,ia,Ra,ta);n.subtract(Da,Ra,Ha);n.normalize(Da,
Da)};b.projectExtent=function(X,ha,ia=ha.spatialReference,Da=0){return l.isSome(ia)&&l.isSome(Y(X,X.spatialReference,ha,ia,Da))};b.projectMany=M;b.projectMultipoint=function(X,ha,ia=ha.spatialReference,Da=0){return l.isNone(ia)?!1:l.isSome(P(X,X.spatialReference,ha,ia,Da))};b.projectPoint=function(X,ha,ia=ha.spatialReference,Da=0){return l.isNone(ia)?!1:l.isSome(J(X,X.spatialReference,ha,ia,Da))};b.projectPointToVector=function(X,ha,ia,Da=0){Ha[0]=X.x;Ha[1]=X.y;const ta=X.z;Ha[2]=void 0!==ta?ta:Da;
return Fa(Ha,X.spatialReference,0,ha,ia,0,1)};b.projectPointToWGS84ComparableLonLat=function(X,ha){Ha[0]=X.x;Ha[1]=X.y;const ia=X.z;Ha[2]=void 0!==ia?ia:0;return xa(Ha,X.spatialReference,ha)};b.projectPolygon=function(X,ha,ia=ha.spatialReference,Da=0){return l.isSome(ia)&&l.isSome(Z(X,X.spatialReference,ha,ia,Da))};b.projectPolyline=function(X,ha,ia=ha.spatialReference,Da=0){return l.isSome(ia)&&l.isSome(W(X,X.spatialReference,ha,ia,Da))};b.projectVectorToDehydratedPoint=function(X,ha,ia){return Fa(X,
ha,0,Ha,ia.spatialReference,0,1)?(ia.x=Ha[0],ia.y=Ha[1],ia.z=Ha[2],ia):null};b.projectVectorToPoint=function(X,ha,ia){if(l.isNone(ha)||l.isNone(ia))return null;const Da=new p({spatialReference:ia});return Fa(X,ha,0,Ha,ia,0,1)?(Da.x=Ha[0],Da.y=Ha[1],Da.z=Ha[2],Da):null};b.projectVectorToVector=qa;b.projectVectorToWGS84ComparableLonLat=function(X,ha,ia){return xa(X,ha,ia)};b.projectWithoutEngine=E;b.projectXYZToVector=S;b.sphericalPCPFtoLonLatElevation=Aa;b.tryProjectWithZConversion=function(X,ha){try{const ia=
K(X,ha);if(null==ia)return null;"xmin"in X&&"xmin"in ia&&(ia.zmin=X.zmin,ia.zmax=X.zmax);const Da=B.getGeometryZScaler(ia.type,X.spatialReference,ha);l.isSome(Da)&&Da(ia);return ia}catch(ia){if(!(ia instanceof Ua))throw ia;return null}};b.unload=function(){Ga=Ea=ua=null;Ma={}};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers","../assets","../core/has"],function(a,b,c,f,d){function l(){return!!b._pe}function u(){return!!d("esri-wasm")}
function t(){return k?k:k=(new Promise((e,h)=>a(["./pe-wasm"],e,h))).then(e=>e.peWasm).then(({default:e})=>e({locateFile:h=>f.getAssetUrl(`esri/geometry/support/${h}`)})).then(e=>{g(e)})}function g(e){function h(A,w,y){A[w]=y(A[w])}b._pe=e;b.PeDefs.init();b.PeGTlistExtended.init();b.PeNotationMgrs.init();b.PeNotationUtm.init();b.PePCSInfo.init();b.PeGCSExtent=function(A){function w(){return A.apply(this,arguments)||this}c._inheritsLoose(w,A);w.prototype.destroy=function(){b._pe.destroy(this)};return w}(b._pe.PeGCSExtent);
e=[b._pe.PeDatum,b._pe.PeGeogcs,b._pe.PeGeogtran,b._pe.PeObject,b._pe.PeParameter,b._pe.PePrimem,b._pe.PeProjcs,b._pe.PeSpheroid,b._pe.PeUnit];for(var v of e)h(v.prototype,"getName",A=>function(){return A.call(this,Array(b.PeDefs.PE_NAME_MAX))});for(const A of[b._pe.PeGeogtran,b._pe.PeProjcs])h(A.prototype,"getParameters",w=>function(){const y=Array(b.PeDefs.PE_PARM_MAX);let z=w.call(this);for(let C=0;C<y.length;C++){const B=b._pe.getValue(z,"*");y[C]=B?b._pe.wrapPointer(B,b._pe.PeParameter):null;
z+=Int32Array.BYTES_PER_ELEMENT}return y});h(b._pe.PeHorizon.prototype,"getCoord",A=>function(){const w=this.getSize();if(!w)return null;const y=[],z=A.call(this);q(y,w,z);return y});h(b._pe.PeGTlistExtendedEntry.prototype,"getEntries",A=>{const w=b._pe._pe_getPeGTlistExtendedGTsSize();return function(){let y=null;var z=A.call(this);if(!b._pe.compare(z,b._pe.NULL)){y=[z];const C=this.getSteps();if(1<C){z=b._pe.getPointer(z);for(let B=1;B<C;B++)y.push(b._pe.wrapPointer(z+w*B,b._pe.PeGTlistExtendedGTs))}}return y}});
const x=b._pe._pe_getPeHorizonSize();v=A=>function(){let w=this._cache;w||(this._cache=w=new Map);if(w.has(A))return w.get(A);let y=null;var z=A.call(this);if(!b._pe.compare(z,b._pe.NULL)){y=[z];const C=z.getNump();if(1<C){z=b._pe.getPointer(z);for(let B=1;B<C;B++)y.push(b._pe.wrapPointer(z+x*B,b._pe.PeHorizon))}}w.set(A,y);return y};h(b._pe.PeProjcs.prototype,"horizonGcsGenerate",v);h(b._pe.PeProjcs.prototype,"horizonPcsGenerate",v);b._pe.PeObject.prototype.toString=function(A=b.PeDefs.PE_STR_OPTS_NONE){b._pe.ensureCache.prepare();
const w=b._pe.getPointer(this),y=b._pe.ensureInt8(Array(b.PeDefs.PE_BUFFER_MAX));return b._pe.UTF8ToString(b._pe._pe_object_to_string_ext(w,A,y))}}function n(e){if(e){var h=b._pe.getClass(e);h&&(h=b._pe.getCache(h))&&(e=b._pe.getPointer(e))&&delete h[e]}}function m(e,h){const v=[];h=Array(h);for(let x=0;x<e;x++)v.push(b._pe.ensureInt8(h));return v}function r(e){let h;Array.isArray(e[0])?(h=[],e.forEach(v=>{h.push(v[0],v[1])})):h=e;return h}function q(e,h,v,x=!1){if(x)for(x=0;x<2*h;x++)e[x]=b._pe.getValue(v+
x*Float64Array.BYTES_PER_ELEMENT,"double");else{x=0===e.length;for(let A=0;A<h;A++)x&&(e[A]=Array(2)),e[A][0]=b._pe.getValue(v,"double"),e[A][1]=b._pe.getValue(v+Float64Array.BYTES_PER_ELEMENT,"double"),v+=2*Float64Array.BYTES_PER_ELEMENT}}let k;b._pe=null;b.PeCSTransformations=void 0;(function(e){function h(A,w,y){b._pe.ensureCache.prepare();var z=r(y);const C=y===z;z=b._pe.ensureFloat64(z);(A=b._pe._pe_geog_to_proj(b._pe.getPointer(A),w,z))&&q(y,w,z,C);return A}function v(A,w,y){return x(A,w,y,
0)}function x(A,w,y,z){b._pe.ensureCache.prepare();var C=r(y);const B=y===C;C=b._pe.ensureFloat64(C);(A=b._pe._pe_proj_to_geog_center(b._pe.getPointer(A),w,C,z))&&q(y,w,C,B);return A}e.geogToProj=h;e.projGeog=function(A,w,y,z){switch(z){case b.PeDefs.PE_TRANSFORM_P_TO_G:return v(A,w,y);case b.PeDefs.PE_TRANSFORM_G_TO_P:return h(A,w,y)}return 0};e.projToGeog=v;e.projToGeogCenter=x})(b.PeCSTransformations||(b.PeCSTransformations={}));b.PeDefs=void 0;(function(e){e.init=function(){e.PE_BUFFER_MAX=b._pe.PeDefs.prototype.PE_BUFFER_MAX;
e.PE_NAME_MAX=b._pe.PeDefs.prototype.PE_NAME_MAX;e.PE_MGRS_MAX=b._pe.PeDefs.prototype.PE_MGRS_MAX;e.PE_USNG_MAX=b._pe.PeDefs.prototype.PE_USNG_MAX;e.PE_DD_MAX=b._pe.PeDefs.prototype.PE_DD_MAX;e.PE_DDM_MAX=b._pe.PeDefs.prototype.PE_DDM_MAX;e.PE_DMS_MAX=b._pe.PeDefs.prototype.PE_DMS_MAX;e.PE_UTM_MAX=b._pe.PeDefs.prototype.PE_UTM_MAX;e.PE_PARM_MAX=b._pe.PeDefs.prototype.PE_PARM_MAX;e.PE_TYPE_NONE=b._pe.PeDefs.prototype.PE_TYPE_NONE;e.PE_TYPE_GEOGCS=b._pe.PeDefs.prototype.PE_TYPE_GEOGCS;e.PE_TYPE_PROJCS=
b._pe.PeDefs.prototype.PE_TYPE_PROJCS;e.PE_TYPE_GEOGTRAN=b._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;e.PE_TYPE_COORDSYS=b._pe.PeDefs.prototype.PE_TYPE_COORDSYS;e.PE_TYPE_UNIT=b._pe.PeDefs.prototype.PE_TYPE_UNIT;e.PE_TYPE_LINUNIT=b._pe.PeDefs.prototype.PE_TYPE_LINUNIT;e.PE_STR_OPTS_NONE=b._pe.PeDefs.prototype.PE_STR_OPTS_NONE;e.PE_STR_AUTH_NONE=b._pe.PeDefs.prototype.PE_STR_AUTH_NONE;e.PE_STR_AUTH_TOP=b._pe.PeDefs.prototype.PE_STR_AUTH_TOP;e.PE_STR_NAME_CANON=b._pe.PeDefs.prototype.PE_STR_NAME_CANON;e.PE_PARM_X0=
b._pe.PeDefs.prototype.PE_PARM_X0;e.PE_PARM_ND=b._pe.PeDefs.prototype.PE_PARM_ND;e.PE_TRANSFORM_1_TO_2=b._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;e.PE_TRANSFORM_2_TO_1=b._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;e.PE_TRANSFORM_P_TO_G=b._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;e.PE_TRANSFORM_G_TO_P=b._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;e.PE_HORIZON_RECT=b._pe.PeDefs.prototype.PE_HORIZON_RECT;e.PE_HORIZON_POLY=b._pe.PeDefs.prototype.PE_HORIZON_POLY;e.PE_HORIZON_LINE=b._pe.PeDefs.prototype.PE_HORIZON_LINE;
e.PE_HORIZON_DELTA=b._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(b.PeDefs||(b.PeDefs={}));b.PeFactory=void 0;(function(e){function h(w,y){let z=null,C=v[w];C||(C={},v[w]=C);C.hasOwnProperty(String(y))?z=C[y]:(w=b._pe.PeFactory.prototype.factoryByType(w,y),b._pe.compare(w,b._pe.NULL)||(z=w,C[y]=z));return z=A(z)}const v={},x={},A=w=>{if(w){const y=w.getType();switch(y){case b.PeDefs.PE_TYPE_GEOGCS:w=b._pe.castObject(w,b._pe.PeGeogcs);break;case b.PeDefs.PE_TYPE_PROJCS:w=b._pe.castObject(w,b._pe.PeProjcs);
break;case b.PeDefs.PE_TYPE_GEOGTRAN:w=b._pe.castObject(w,b._pe.PeGeogtran);break;default:y&b.PeDefs.PE_TYPE_UNIT&&(w=b._pe.castObject(w,b._pe.PeUnit))}}return w};e.initialize=function(){b._pe.PeFactory.prototype.initialize(null)};e.coordsys=function(w){return h(b.PeDefs.PE_TYPE_COORDSYS,w)};e.factoryByType=h;e.fromString=function(w,y){let z=null,C=x[w];C||(C={},x[w]=C);C.hasOwnProperty(y)?z=C[y]:(w=b._pe.PeFactory.prototype.fromString(w,y),b._pe.compare(w,b._pe.NULL)||(z=w,C[y]=z));return z=A(z)};
e.geogcs=function(w){return h(b.PeDefs.PE_TYPE_GEOGCS,w)};e.geogtran=function(w){return h(b.PeDefs.PE_TYPE_GEOGTRAN,w)};e.getCode=function(w){return b._pe.PeFactory.prototype.getCode(w)};e.projcs=function(w){return h(b.PeDefs.PE_TYPE_PROJCS,w)};e.unit=function(w){return h(b.PeDefs.PE_TYPE_UNIT,w)}})(b.PeFactory||(b.PeFactory={}));b.PeGCSExtent=null;b.PeGTlistExtended=void 0;(function(e){let h;e.init=function(){e.PE_GTLIST_OPTS_COMMON=b._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;h=b._pe._pe_getPeGTlistExtendedEntrySize()};
e.getGTlist=function(v,x,A,w,y,z){let C=null;const B=new b._pe.PeInteger(z);try{const D=b._pe.PeGTlistExtended.prototype.getGTlist(v,x,A,w,y,B);if(z=B.val)if(C=[D],1<z){const G=b._pe.getPointer(D);for(v=1;v<z;v++)C.push(b._pe.wrapPointer(G+h*v,b._pe.PeGTlistExtendedEntry))}}finally{b._pe.destroy(B)}return C}})(b.PeGTlistExtended||(b.PeGTlistExtended={}));b.PeGTlistExtendedEntry=void 0;(function(e){e.destroy=function(h){if(h&&h.length){for(const v of h)n(v),v.getEntries().forEach(x=>{n(x);x=x.getGeogtran();
n(x);x.getParameters().forEach(n);[x.getGeogcs1(),x.getGeogcs2()].forEach(A=>{n(A);const w=A.getDatum();n(w);n(w.getSpheroid());n(A.getPrimem());n(A.getUnit())})});b._pe.PeGTlistExtendedEntry.prototype.Delete(h[0])}}})(b.PeGTlistExtendedEntry||(b.PeGTlistExtendedEntry={}));b.PeGTTransformations=void 0;(function(e){e.geogToGeog=function(h,v,x,A,w){b._pe.ensureCache.prepare();var y=r(x);const z=x===y;y=b._pe.ensureFloat64(y);let C=0;A&&(C=b._pe.ensureFloat64(A));(h=b._pe._pe_geog_to_geog(b._pe.getPointer(h),
v,y,C,w))&&q(x,v,y,z);return h}})(b.PeGTTransformations||(b.PeGTTransformations={}));b.PeNotationDms=void 0;(function(e){const h=(x,A,w,y,z,C)=>{b._pe.ensureCache.prepare();switch(x){case "dd":var B=b._pe._pe_geog_to_dd;var D=b.PeDefs.PE_DD_MAX;break;case "ddm":B=b._pe._pe_geog_to_ddm;D=b.PeDefs.PE_DDM_MAX;break;case "dms":B=b._pe._pe_geog_to_dms,D=b.PeDefs.PE_DMS_MAX}x=0;A&&(x=b._pe.getPointer(A));A=r(y);A=b._pe.ensureFloat64(A);D=m(w,D);y=b._pe.ensureInt32(D);if(z=B(x,w,A,z,y))for(B=0;B<w;B++)C[B]=
b._pe.UTF8ToString(D[B]);return z},v=(x,A,w,y,z)=>{b._pe.ensureCache.prepare();switch(x){case "dd":var C=b._pe._pe_dd_to_geog;break;case "ddm":C=b._pe._pe_ddm_to_geog;break;case "dms":C=b._pe._pe_dms_to_geog}x=0;A&&(x=b._pe.getPointer(A));A=y.map(B=>b._pe.ensureString(B));y=b._pe.ensureInt32(A);A=b._pe.ensureFloat64(Array(2*w));(C=C(x,w,y,A))&&q(z,w,A);return C};e.geogToDms=function(x,A,w,y,z){return h("dms",x,A,w,y,z)};e.dmsToGeog=function(x,A,w,y){return v("dms",x,A,w,y)};e.geogToDdm=function(x,
A,w,y,z){return h("ddm",x,A,w,y,z)};e.ddmToGeog=function(x,A,w,y){return v("ddm",x,A,w,y)};e.geogToDd=function(x,A,w,y,z){return h("dd",x,A,w,y,z)};e.ddToGeog=function(x,A,w,y){return v("dd",x,A,w,y)}})(b.PeNotationDms||(b.PeNotationDms={}));b.PeNotationMgrs=void 0;(function(e){e.init=function(){e.PE_MGRS_STYLE_NEW=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;e.PE_MGRS_STYLE_OLD=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;e.PE_MGRS_STYLE_AUTO=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;
e.PE_MGRS_180_ZONE_1_PLUS=b._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;e.PE_MGRS_ADD_SPACES=b._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};e.geogToMgrsExtended=function(h,v,x,A,w,y,z){b._pe.ensureCache.prepare();let C=0;h&&(C=b._pe.getPointer(h));h=r(x);x=b._pe.ensureFloat64(h);h=m(v,b.PeDefs.PE_MGRS_MAX);const B=b._pe.ensureInt32(h);if(A=b._pe._pe_geog_to_mgrs_extended(C,v,x,A,w,y,B))for(w=0;w<v;w++)z[w]=b._pe.UTF8ToString(h[w]);return A};e.mgrsToGeogExtended=function(h,v,x,A,w){b._pe.ensureCache.prepare();
let y=0;h&&(y=b._pe.getPointer(h));h=x.map(z=>b._pe.ensureString(z));x=b._pe.ensureInt32(h);h=b._pe.ensureFloat64(Array(2*v));(A=b._pe._pe_mgrs_to_geog_extended(y,v,x,A,h))&&q(w,v,h);return A}})(b.PeNotationMgrs||(b.PeNotationMgrs={}));b.PeNotationUsng=void 0;(function(e){e.geogToUsng=function(h,v,x,A,w,y,z){b._pe.ensureCache.prepare();let C=0;h&&(C=b._pe.getPointer(h));h=r(x);x=b._pe.ensureFloat64(h);h=m(v,b.PeDefs.PE_MGRS_MAX);const B=b._pe.ensureInt32(h);if(A=b._pe._pe_geog_to_usng(C,v,x,A,w,y,
B))for(w=0;w<v;w++)z[w]=b._pe.UTF8ToString(h[w]);return A};e.usngToGeog=function(h,v,x,A){b._pe.ensureCache.prepare();var w=0;h&&(w=b._pe.getPointer(h));h=x.map(y=>b._pe.ensureString(y));x=b._pe.ensureInt32(h);h=b._pe.ensureFloat64(Array(2*v));(w=b._pe._pe_usng_to_geog(w,v,x,h))&&q(A,v,h);return w}})(b.PeNotationUsng||(b.PeNotationUsng={}));b.PeNotationUtm=void 0;(function(e){e.init=function(){e.PE_UTM_OPTS_NONE=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;e.PE_UTM_OPTS_ADD_SPACES=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;
e.PE_UTM_OPTS_NS=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};e.geogToUtm=function(h,v,x,A,w){b._pe.ensureCache.prepare();var y=0;h&&(y=b._pe.getPointer(h));h=r(x);x=b._pe.ensureFloat64(h);h=m(v,b.PeDefs.PE_UTM_MAX);const z=b._pe.ensureInt32(h);if(A=b._pe._pe_geog_to_utm(y,v,x,A,z))for(y=0;y<v;y++)w[y]=b._pe.UTF8ToString(h[y]);return A};e.utmToGeog=function(h,v,x,A,w){b._pe.ensureCache.prepare();let y=0;h&&(y=b._pe.getPointer(h));h=x.map(z=>b._pe.ensureString(z));x=b._pe.ensureInt32(h);h=b._pe.ensureFloat64(Array(2*
v));(A=b._pe._pe_utm_to_geog(y,v,x,A,h))&&q(w,v,h);return A}})(b.PeNotationUtm||(b.PeNotationUtm={}));b.PePCSInfo=void 0;(function(e){const h=new Map;e.init=function(){e.PE_PCSINFO_OPTION_NONE=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;e.PE_PCSINFO_OPTION_DOMAIN=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;e.PE_POLE_OUTSIDE_BOUNDARY=b._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;e.PE_POLE_POINT=b._pe.PePCSInfo.prototype.PE_POLE_POINT};e.generate=function(v,x=e.PE_PCSINFO_OPTION_DOMAIN){let A,
w;h.has(v)&&(w=h.get(v),w[x]&&(A=w[x]));A||(A=b._pe.PePCSInfo.prototype.generate(v,x),w||(w=[],h.set(v,w)),w[x]=A);return A}})(b.PePCSInfo||(b.PePCSInfo={}));b.PeVersion=void 0;(function(e){e.versionString=function(){return b._pe.PeVersion.prototype.version_string()}})(b.PeVersion||(b.PeVersion={}));const p=Object.freeze({__proto__:null,get _pe(){return b._pe},isLoaded:l,isSupported:u,load:t,get PeCSTransformations(){return b.PeCSTransformations},get PeDefs(){return b.PeDefs},get PeFactory(){return b.PeFactory},
get PeGCSExtent(){return b.PeGCSExtent},get PeGTlistExtended(){return b.PeGTlistExtended},get PeGTlistExtendedEntry(){return b.PeGTlistExtendedEntry},get PeGTTransformations(){return b.PeGTTransformations},get PeNotationDms(){return b.PeNotationDms},get PeNotationMgrs(){return b.PeNotationMgrs},get PeNotationUsng(){return b.PeNotationUsng},get PeNotationUtm(){return b.PeNotationUtm},get PePCSInfo(){return b.PePCSInfo},get PeVersion(){return b.PeVersion},_init:g});b._init=g;b.isLoaded=l;b.isSupported=
u;b.load=t;b.pe=p})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(a,b){const c=Math.PI/180;var f=b.earth.radius;const d=b.earth.eccentricitySquared;f={a1:f*d,a2:f*d*f*d,a3:f*d*d/2,a4:f*d*f*d*2.5,a5:f*d+f*d*d/2,a6:1-d};b={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:b.earth.radius,f:b.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:b.moon.radius,f:b.moon.flattening},104904:{a:3393400,
f:.005207166853303471},104905:{a:b.mars.radius,f:b.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},
104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,
f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:b.mars.radius,
f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};a.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;a.earthEllipsoidConstants=f;a.spheroids=b;a.toRadians=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(a){return function(){function b(f){this.steps=[];this._cached_projection={};this._chain="";this._gtlistentry=null;if(f&&f.steps)for(const d of f.steps)d instanceof a?this.steps.push(d):
this.steps.push(new a({wkid:d.wkid,wkt:d.wkt,isInverse:d.isInverse}))}b.cacheKey=function(f,d){return[void 0!==f.wkid&&null!==f.wkid?f.wkid.toString():"-1",void 0!==f.wkt&&null!==f.wkt?f.wkt.toString():"",void 0!==d.wkid&&null!==d.wkid?d.wkid.toString():"-1",void 0!==d.wkt&&null!==d.wkt?d.wkt.toString():""].join()};b.fromGE=function(f){const d=new b;let l="";for(const u of f.steps)f=a.fromGE(u),d.steps.push(f),l+=f.uid.toString()+",";d._cached_projection={};d._gtlistentry=null;d._chain=l;return d};
var c=b.prototype;c.getInverse=function(){const f=new b;f.steps=[];for(let d=this.steps.length-1;0<=d;d--)f.steps.push(this.steps[d].getInverse());return f};c.getGTListEntry=function(){let f="";for(const d of this.steps)f+=d.uid.toString()+",";f!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=f);return this._gtlistentry};c.assignCachedGe=function(f,d,l){this._cached_projection[b.cacheKey(f,d)]=l};c.getCachedGeTransformation=function(f,d){let l="";for(const u of this.steps)l+=
u.uid.toString()+",";l!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=l);f=this._cached_projection[b.cacheKey(f,d)];return void 0===f?null:f};return b}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(a){let b=0;return function(){function c(f=null){this.uid=b++;f?(this._wkt=void 0!==f.wkt?f.wkt:null,this._wkid=void 0!==f.wkid?f.wkid:-1,this._isInverse=void 0!==f.isInverse?!0===f.isInverse:
!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}c.fromGE=function(f){const d=new c;d._wkt=f.wkt;d._wkid=f.wkid;d._isInverse=f.isInverse;return d};c.prototype.getInverse=function(){const f=new c;f._wkt=this.wkt;f._wkid=this._wkid;f._isInverse=!this.isInverse;return f};a._createClass(c,[{key:"wkt",get:function(){return this._wkt},set:function(f){this._wkt=f;this.uid=b++}},{key:"wkid",get:function(){return this._wkid},set:function(f){this._wkid=f;this.uid=b++}},{key:"isInverse",get:function(){return this._isInverse},
set:function(f){this._isInverse=f;this.uid=b++}}]);return c}()})},"esri/views/ViewAnimation":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/Promise ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t,g,n){f=function(m){function r(k){k=m.call(this,k)||this;k.state="running";k.target=null;return k}
a._inheritsLoose(r,m);var q=r.prototype;q.initialize=function(){this.addResolvingPromise(new Promise((k,p)=>this._dfd={resolve:k,reject:p}))};q.stop=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd.reject(new c("ViewAnimation stopped")))};q.finish=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._dfd.resolve())};q.update=function(k,p){p||(p=d.isPromiseLike(k)?"waiting-for-target":"running");this._set("target",
k);this._set("state",p)};a._createClass(r,[{key:"done",get:function(){return"finished"===this.state||"stopped"===this.state}}]);return r}(f.EsriPromise);b.__decorate([l.property({readOnly:!0})],f.prototype,"done",null);b.__decorate([l.property({readOnly:!0,type:String})],f.prototype,"state",void 0);b.__decorate([l.property()],f.prototype,"target",void 0);f=b.__decorate([n.subclass("esri.views.ViewAnimation")],f);(f||(f={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};
return f})},"esri/views/layers/LayerView":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Evented ../../core/HandleOwner ../../core/Identifiable ../../core/Logger ../../core/maybe ../../core/Promise ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,d,l,u,t,g,n,m,r,q,k){c=function(p){function e(v){v=
p.call(this,v)||this;v.layer=null;v.parent=null;return v}a._inheritsLoose(e,p);var h=e.prototype;h.initialize=function(){this.when().catch(v=>{if("layerview:create-error"!==v.name){const x=this.layer&&this.layer.id||"no id",A=this.layer&&this.layer.title||"no title";u.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${A}', id: '${x}')`,v);throw v;}})};h.canResume=function(){var v,x,A;return this.visible&&(null==(v=this.layer)?void 0:v.loaded)&&!(null!=
(x=this.parent)&&x.suspended)&&(null==(A=this.view)?void 0:A.ready)||!1};h.getSuspendInfo=function(){const v=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};this.view&&this.view.ready||(v.viewNotReady=!0);this.layer&&this.layer.loaded||(v.layerNotLoaded=!0);this.visible||(v.layerInvisible=!0);return v};h.isUpdating=function(){return!1};a._createClass(e,[{key:"fullOpacity",get:function(){return t.unwrapOr(this.get("layer.opacity"),1)*t.unwrapOr(this.get("parent.fullOpacity"),1)}},{key:"suspended",
get:function(){return!this.canResume()}},{key:"suspendInfo",get:function(){return this.getSuspendInfo()}},{key:"legendEnabled",get:function(){return!this.suspended&&!0===this.layer.legendEnabled}},{key:"updating",get:function(){var v;return!!(null!=(v=this.updatingHandles)&&v.updating||this.isUpdating())}},{key:"updatingProgress",get:function(){return this.updating?0:1}},{key:"visible",get:function(){var v;return!0===(null==(v=this.layer)?void 0:v.visible)},set:function(v){void 0===v?this._clearOverride("visible"):
this._override("visible",v)}}]);return e}(d.HandleOwnerMixin(l.IdentifiableMixin(g.EsriPromiseMixin(f.EventedMixin(c)))));b.__decorate([n.property()],c.prototype,"fullOpacity",null);b.__decorate([n.property()],c.prototype,"layer",void 0);b.__decorate([n.property()],c.prototype,"parent",void 0);b.__decorate([n.property({readOnly:!0})],c.prototype,"suspended",null);b.__decorate([n.property({readOnly:!0})],c.prototype,"suspendInfo",null);b.__decorate([n.property({readOnly:!0})],c.prototype,"legendEnabled",
null);b.__decorate([n.property({type:Boolean,readOnly:!0})],c.prototype,"updating",null);b.__decorate([n.property({readOnly:!0})],c.prototype,"updatingProgress",null);b.__decorate([n.property()],c.prototype,"visible",null);b.__decorate([n.property()],c.prototype,"view",void 0);return c=b.__decorate([k.subclass("esri.views.layers.LayerView")],c)})},"esri/widgets/Widget":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../intl ../core/deprecate ../core/domUtils ../core/Evented ../core/Handles ../core/has ../core/lang ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/uuid ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleTrackingTarget ../libs/maquette-advanced-projector/projector ../chunks/componentsUtils ./support/jsxWidgetSupport ./support/vnodeCache ./support/widgetUtils ./support/widgetThemeUtils ../intl/locale ../intl/messages".split(" "),
function(a,b,c,f,d,l,u,t,g,n,m,r,q,k,p,e,h,v,x,A,w,y,z,C,B,D,G,K){function M(J,P){for(const W in P)null!=J[W]&&("object"===typeof J[W]&&"object"===typeof P[W]?M(J[W],P[W]):J[W]=P[W]);return J}const N=n.getLogger("esri.widgets.Widget");let I=0;const F=w.createAdvancedProjector({postProcessProjectionOptions(J){const P=J.eventHandlerInterceptor,W=/capture$/i;J.eventHandlerInterceptor=(Z,Y,S,qa)=>{const xa=P(Z,Y,S,qa),Fa=W.test(Z);Z=Z.replace(W,"");if(!(Z.toLowerCase()in S)||Fa){const la=Z[2].toLowerCase()+
Z.slice(3),V=Ca=>xa.call(S,Ca);S.addEventListener(la,V,Fa);const aa=qa.afterRemoved;qa.afterRemoved=Ca=>{null==aa?void 0:aa(Ca);S.removeEventListener(la,V,Fa)}}return xa}},handleInterceptedEvent(J,P,W,Z){const {eventPhase:Y,type:S}=Z,qa=Y===Event.CAPTURING_PHASE;let xa=`on${S}${qa?"capture":""}`;P=P.properties;if(!(xa in P||(xa=`on${S[0].toUpperCase()}${S.slice(1)}${qa?"Capture":""}`,xa in P)))return;C.clearVNodeCache();J.scheduleRender();P[xa].call(P.bind||W,Z)}});let E=!1;c=function(J){function P(Z,
Y){var S=J.call(this,Z,Y)||this;S._attached=!1;S._internalHandles=new u;S._projector=F;S._readyForTrueRender=!1;S.domNode=null;S.iconClass="esri-icon-checkbox-unchecked";S.label=S.declaredClass.split(".").pop();S.visible=!0;S.key=a._assertThisInitialized(S);S._loadLocale=q.debounce(a._asyncToGenerator(function*(){if(S._messageBundleProps&&S._messageBundleProps.length){const la=yield q.eachAlways(S._messageBundleProps.map(function(){var V=a._asyncToGenerator(function*({bundlePath:aa,propertyName:Ca}){aa=
yield K.fetchMessageBundle(aa);S.uiStrings&&Object.keys(S.uiStrings)&&(aa=M(g.clone(aa),S.uiStrings));S[Ca]=aa});return function(aa){return V.apply(this,arguments)}}()));for(const V of la)V.error&&N.error("widget-intl:locale-error",S.declaredClass,V.error)}yield S.loadLocale()}));y.commitAssetPath();Z=D.getThemeName()||"light";["light","dark"].includes(Z)||f.deprecated(N,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",
{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});const qa="esri-widget-uid-"+p.generateUUID(),xa=S.render.bind(a._assertThisInitialized(S));S._trackingTarget=new A.SimpleTrackingTarget(()=>S.scheduleRender());const Fa=()=>{var la;if(!S._readyForTrueRender||S.destroyed)return null;if(!S.visible)return{vnodeSelector:"div",properties:{key:qa,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const V=xa();let {properties:aa}=V;aa||
(V.properties=aa={});let {key:Ca,styles:Ia}=aa;Ca||(aa.key=qa);Ia||(aa.styles=Ia={});Ia.display||(Ia.display="");let H=0;null==(la=V.children)?void 0:la.forEach(O=>{if(!z.isWidgetConstructor(O.vnodeSelector)){var {properties:fa}=O;fa||(O.properties=fa={});fa.key||(fa.key=`${S.id}--${H++}`)}});return z.processWidgets(a._assertThisInitialized(S),V)};S.render=()=>{if(E)return Fa();let la=C.getVNodeCache(a._assertThisInitialized(S));if(la)return la;S._trackingTarget.clear();E=!0;try{la=x.runTracked(S._trackingTarget,
Fa)}finally{E=!1}C.setVNodeCache(a._assertThisInitialized(S),la);return la};S.addResolvingPromise(S._resourcesFetch=S.beforeFirstRender().then(()=>{S._readyForTrueRender=!0;S._postInitialize()}));return S}a._inheritsLoose(P,J);var W=P.prototype;W.normalizeCtorArgs=function(Z,Y){Z={...Z};Y&&(Z.container=Y);return Z};W.postInitialize=function(){};W.beforeFirstRender=function(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(q.throwIfNotAbortError)};W.loadDependencies=
function(){var Z=a._asyncToGenerator(function*(){});return function(){return Z.apply(this,arguments)}}();W.loadLocale=function(){var Z=a._asyncToGenerator(function*(){});return function(){return Z.apply(this,arguments)}}();W.destroy=function(){this.destroyed||(this._trackingTarget=m.destroyMaybe(this._trackingTarget),this.viewModel=m.destroyMaybe(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=
null,C.deleteVNodeCache(this))};W.castContainer=function(Z){return d.byId(Z)};W.render=function(){throw Error("not implemented");};W.scheduleRender=function(){this.destroyed||(C.deleteVNodeCache(this),this._projector.scheduleRender())};W.classes=function(...Z){return B.classes.apply(this,Z)};W.own=function(Z){1<arguments.length&&(Z=Array.prototype.slice.call(arguments));this._internalHandles.add(Z)};W.renderNow=function(){C.deleteVNodeCache(this);this._projector.renderNow()};W._postInitialize=function(){var Z,
Y=this;this.destroyed||(this.scheduleRender(),null!=(Z=this._delegatedEventNames)&&Z.length&&this._internalHandles.add(k.watch(()=>this.viewModel,(S,qa)=>{qa&&this._internalHandles.remove("delegated-events");S&&this._internalHandles.add(this._delegatedEventNames.map(xa=>S.on(xa,Fa=>{this.emit(xa,Fa)})),"delegated-events")},k.initial)),this.postInitialize(),Z=function(){var S=a._asyncToGenerator(function*(){yield Y._loadLocale().catch(q.throwIfNotAbortError);Y.scheduleRender()});return function(){return S.apply(this,
arguments)}}(),this._internalHandles.add([G.onLocaleChange(Z),k.watch(()=>this.uiStrings,Z),k.when(()=>this.container,S=>{this.destroyed||this._attach(S)},{initial:!0,once:!0})]))};W._attach=function(Z){Z&&(this._projector.merge(Z,this.render),this._attached=!0)};W._detach=function(Z){Z&&this._attached&&(this._projector.detach(this.render),Z.parentNode&&Z.parentNode.removeChild(Z),this._attached=!1)};a._createClass(P,[{key:"container",set:function(Z){this._get("container")||this._set("container",
Z)}},{key:"id",get:function(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+I++},set:function(Z){Z&&this._set("id",Z)}},{key:"renderable",get:function(){return this._resourcesFetch}},{key:"test",get:function(){return{projector:this._projector,handles:this._internalHandles}}}]);return P}(r.EsriPromiseMixin(l.EventedAccessor));c[z.WIDGET_SYMBOL]=!0;b.__decorate([e.property()],c.prototype,"_readyForTrueRender",void 0);b.__decorate([e.property({value:null})],c.prototype,
"container",null);b.__decorate([h.cast("container")],c.prototype,"castContainer",null);b.__decorate([e.property({aliasOf:"container"})],c.prototype,"domNode",void 0);b.__decorate([e.property()],c.prototype,"iconClass",void 0);b.__decorate([e.property()],c.prototype,"id",null);b.__decorate([e.property()],c.prototype,"label",void 0);b.__decorate([e.property()],c.prototype,"renderable",null);b.__decorate([e.property()],c.prototype,"uiStrings",void 0);b.__decorate([e.property()],c.prototype,"viewModel",
void 0);b.__decorate([e.property()],c.prototype,"visible",void 0);b.__decorate([e.property()],c.prototype,"key",void 0);b.__decorate([e.property()],c.prototype,"children",void 0);b.__decorate([e.property()],c.prototype,"afterCreate",void 0);b.__decorate([e.property()],c.prototype,"afterUpdate",void 0);b.__decorate([e.property()],c.prototype,"afterRemoved",void 0);return c=b.__decorate([v.subclass("esri.widgets.Widget")],c)})},"esri/core/domUtils":function(){define(["exports"],function(a){const b=
(()=>{if("function"===typeof Element.prototype.closest)return(f,d)=>f.closest(d);const c=Element.prototype.matches||Element.prototype.msMatchesSelector;return(f,d)=>{do{if(c.call(f,d))return f;f=f.parentElement}while(null!==f&&1===f.nodeType);return null}})();a.byId=function(c){return"string"===typeof c?document.getElementById(c):c};a.closest=b;a.empty=function(c){for(;c.hasChildNodes();)c.removeChild(c.firstChild)};a.insertAfter=function(c,f){const d=f.parentNode;d&&(d.lastChild===f?d.appendChild(c):
d.insertBefore(c,f.nextSibling))};a.insertBefore=function(c,f){const d=f.parentNode;d&&d.insertBefore(c,f)};a.remove=function(c){c.parentNode&&c.parentNode.removeChild(c)};a.reparent=function(c,f){for(;;){const d=c.firstChild;if(!d)break;f.appendChild(d)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/uuid":function(){define(["exports"],function(a){a.generateUUID=function(){const b=crypto.getRandomValues(new Uint16Array(8));b[3]=b[3]&4095|16384;b[4]=b[4]&16383|32768;return b[0].toString(16)+
b[1].toString(16)+"-"+b[2].toString(16)+"-"+b[3].toString(16)+"-"+b[4].toString(16)+"-"+b[5].toString(16)+b[6].toString(16)+b[7].toString(16)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/libs/maquette-advanced-projector/projector":function(){define(["exports","../maquette/dom","../maquette/projector","./advanced-projector-options","./utils"],function(a,b,c,f,d){const l=(g,n)=>{const m=[];for(;g&&g!==n;)m.push(g),g=g.parentNode;return m},u=(g,n)=>g.find(n),t=(g,n,m=!1)=>{let r=g;n.forEach((q,
k)=>{var p;const e=null!=(p=r)&&p.children?u(r.children,h=>h.domNode===q):void 0;if(!m||e||k===n.length-1)r=e});return r};a.createAdvancedProjector=g=>{let n;const m={...f.defaultAdvancedProjectorOptions,...g},r=d.applyDefaultProjectionOptions(m),q=r.performanceLogger;let k=!0,p,e=!1;const h=[],v=[],x=(w,y,z)=>{let C;r.eventHandlerInterceptor=(D,G,K,M)=>function(N){q("domEvent",N);var I=l(N.currentTarget,C.domNode);const F=I.some(J=>{var P;return customElements.get(null==J?void 0:null==(P=J.tagName)?
void 0:P.toLowerCase())});N.eventPhase!==Event.CAPTURING_PHASE&&F?(I=N.composedPath(),I=I.slice(I.indexOf(N.currentTarget),I.indexOf(C.domNode)).filter(J=>J.getRootNode()===J.ownerDocument).reverse(),I=t(C.getLastRender(),I,!0)):(I.reverse(),I=t(C.getLastRender(),I));let E;I&&(E=m.handleInterceptedEvent(n,I,this,N));q("domEventProcessed",N);return E};null==m.postProcessProjectionOptions?void 0:m.postProcessProjectionOptions(r);const B=z();C=w(y,B,r);h.push(C);v.push(z);m.afterFirstVNodeRendered&&
m.afterFirstVNodeRendered(C,B)};let A=()=>{p=void 0;if(k){k=!1;q("renderStart",void 0);for(let w=0;w<h.length;w++){const y=v[w]();q("rendered",void 0);h[w].update(y);q("patched",void 0)}q("renderDone",void 0);k=!0}};m.modifyDoRenderImplementation&&(A=m.modifyDoRenderImplementation(A,h,v));return n={renderNow:A,scheduleRender:()=>{p||e||(p=requestAnimationFrame(A))},stop:()=>{p&&(cancelAnimationFrame(p),p=void 0);e=!0},resume:()=>{e=!1;k=!0;n.scheduleRender()},append:(w,y)=>{x(b.dom.append,w,y)},insertBefore:(w,
y)=>{x(b.dom.insertBefore,w,y)},merge:(w,y)=>{x(b.dom.merge,w,y)},replace:(w,y)=>{x(b.dom.replace,w,y)},detach:w=>{for(let y=0;y<v.length;y++)if(v[y]===w)return v.splice(y,1),h.splice(y,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/libs/maquette/dom":function(){define(["exports","./projection"],function(a,b){const c={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(f,d,l)=>{"-"===d.charAt(0)?f.style.setProperty(d,
l):f.style[d]=l}};a.applyDefaultProjectionOptions=f=>b.extend(c,f);a.dom={create:(f,d)=>{d=b.extend(c,d);b.createDom(f,document.createElement("div"),void 0,d);return b.createProjection(f,d)},append:(f,d,l)=>{l=b.extend(c,l);b.createDom(d,f,void 0,l);return b.createProjection(d,l)},insertBefore:(f,d,l)=>{l=b.extend(c,l);b.createDom(d,f.parentNode,f,l);return b.createProjection(d,l)},merge:(f,d,l)=>{l=b.extend(c,l);d.domNode=f;b.initPropertiesAndChildren(f,d,l);return b.createProjection(d,l)},replace:(f,
d,l)=>{l=b.extend(c,l);b.createDom(d,f.parentNode,f,l);f.parentNode.removeChild(f);return b.createProjection(d,l)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/libs/maquette/projection":function(){define(["exports","../../widgets/support/widgetUtils"],function(a,b){let c=[],f=(x,A)=>{let w={};Object.keys(x).forEach(y=>{w[y]=x[y]});A&&Object.keys(A).forEach(y=>{w[y]=A[y]});return w},d=(x,A)=>x.vnodeSelector!==A.vnodeSelector?!1:x.properties&&A.properties?x.properties.key!==A.properties.key?
!1:x.properties.bind===A.properties.bind:!x.properties&&!A.properties,l=x=>{if("string"!==typeof x)throw Error("Style values must be strings");},u=(x,A,w,y)=>{let z=x[A];if(""!==z.vnodeSelector){var C=z.properties;if(!(C&&(void 0===C.key?C.bind:C.key)))for(C=0;C<x.length;C++)if(C!==A&&d(x[C],z))throw Error(`${w.vnodeSelector} had a ${z.vnodeSelector} child ${"added"===y?y:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`);}},t=[],g=!1,n=
x=>{(x.children||[]).forEach(n);x.properties&&x.properties.afterRemoved&&x.properties.afterRemoved.apply(x.properties.bind||x.properties,[x.domNode])},m=()=>{g=!1;t.forEach(n);t.length=0},r=x=>{t.push(x);g||(g=!0,"undefined"!==typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(m,{timeout:16}):setTimeout(m,16))},q=x=>{let A=x.domNode;if(x.properties){let w=x.properties.exitAnimation;if(w){A.style.pointerEvents="none";w(A,()=>{A.parentNode&&(A.parentNode.removeChild(A),r(x))},
x.properties);return}}A.parentNode&&(A.parentNode.removeChild(A),r(x))},k=(x,A,w)=>{if(A){var y=w.eventHandlerInterceptor,z=Object.keys(A),C=z.length;for(let M=0;M<C;M++){var B=z[M];let N=A[B];if("className"===B)throw Error('Property "className" is not supported, use "class".');if("class"===B)v(x,N,!0);else if("classes"===B){B=Object.keys(N);var D=B.length;for(var G=0;G<D;G++){var K=B[G];N[K]&&x.classList.add(K)}}else if("styles"===B)for(B=Object.keys(N),D=B.length,G=0;G<D;G++){K=B[G];let I=N[K];
I&&(l(I),w.styleApplyer(x,K,I))}else"key"!==B&&null!==N&&void 0!==N&&(D=typeof N,"function"===D?(0===B.lastIndexOf("on",0)&&(y&&(N=y(B,N,x,A)),"oninput"===B&&function(){let I=N;N=function(F){I.apply(this,[F]);F.target["oninput-value"]=F.target.value}}()),x[B]=N):"http://www.w3.org/2000/svg"===w.namespace?"href"===B?x.setAttributeNS("http://www.w3.org/1999/xlink",B,N):x.setAttribute(B,N):"string"===D&&"value"!==B?"innerHTML"===B?x[B]=b.renderingSanitizer.sanitize(N):x.setAttribute(B,N):x[B]=N)}}},
p=(x,A,w)=>{var y=A.children;if(y)for(let z of y)e(z,x,void 0,w);A.text&&(x.textContent=A.text);k(x,A.properties,w);A.properties&&A.properties.afterCreate&&A.properties.afterCreate.apply(A.properties.bind||A.properties,[x,w,A.vnodeSelector,A.properties,A.children])},e=(x,A,w,y)=>{let z;var C=0;let B=x.vnodeSelector,D=A.ownerDocument;if(""===B)z=x.domNode=D.createTextNode(x.text),void 0!==w?A.insertBefore(z,w):A.appendChild(z);else{for(let K=0;K<=B.length;++K){var G=B.charAt(K);if(K===B.length||"."===
G||"#"===G)G=B.charAt(C-1),C=B.slice(C,K),"."===G?z.classList.add(C):"#"===G?z.id=C:("svg"===C&&(y=f(y,{namespace:"http://www.w3.org/2000/svg"})),void 0!==y.namespace?z=x.domNode=D.createElementNS(y.namespace,C):(z=x.domNode=x.domNode||D.createElement(C),"input"===C&&x.properties&&void 0!==x.properties.type&&z.setAttribute("type",x.properties.type)),void 0!==w?A.insertBefore(z,w):z.parentNode!==A&&A.appendChild(z)),C=K+1}p(z,x,y)}},h,v=(x,A,w)=>{A&&A.split(" ").forEach(y=>{y&&x.classList.toggle(y,
w)})};h=(x,A,w)=>{let y=x.domNode;if(x===A)return!1;let z=!1;if(""===A.vnodeSelector){if(A.text!==x.text)return x=y.ownerDocument.createTextNode(A.text),y.parentNode.replaceChild(x,y),A.domNode=x,!0;A.domNode=y}else{0===A.vnodeSelector.lastIndexOf("svg",0)&&(w=f(w,{namespace:"http://www.w3.org/2000/svg"}));x.text!==A.text&&(z=!0,void 0===A.text?y.removeChild(y.firstChild):y.textContent=A.text);A.domNode=y;var C=x.children;var B=A.children,D=w;if(C===B)C=!1;else{C=C||c;B=B||c;for(var G=C.length,K=
B.length,M=0,N=0,I=!1;N<K;){var F=M<G?C[M]:void 0,E=B[N];if(void 0!==F&&d(F,E))I=h(F,E,D)||I,M++;else{b:{F=C;var J=E,P=M+1;if(""!==J.vnodeSelector)for(;P<F.length;P++)if(d(F[P],J)){F=P;break b}F=-1}if(0<=F){for(;M<F;M++)q(C[M]),u(C,M,A,"removed");I=h(C[F],E,D)||I;M=F+1}else e(E,y,M<G?C[M].domNode:void 0,D),E.properties&&(F=E.properties.enterAnimation)&&F(E.domNode,E.properties),u(B,N,A,"added")}N++}if(G>M)for(;M<G;M++)q(C[M]),u(C,M,A,"removed");C=I}z=C||z;C=x.properties;B=A.properties;D=w;if(B){G=
!1;K=Object.keys(B);N=K.length;for(I=0;I<N;I++)if(F=K[I],E=B[F],M=C[F],"class"===F)M!==E&&(v(y,M,!1),v(y,E,!0));else if("classes"===F){F=y.classList;J=Object.keys(E);P=J.length;for(var W=0;W<P;W++){var Z=J[W];let Y=!!E[Z];Y!==!!M[Z]&&(G=!0,Y?F.add(Z):F.remove(Z))}}else if("styles"===F)for(F=Object.keys(E),J=F.length,P=0;P<J;P++)W=F[P],Z=E[W],Z!==M[W]&&(G=!0,Z?(l(Z),D.styleApplyer(y,W,Z)):D.styleApplyer(y,W,""));else E||"string"!==typeof M||(E=""),"value"===F?(J=y[F],J!==E&&(y["oninput-value"]?J===
y["oninput-value"]:E!==M)&&(y[F]=E,y["oninput-value"]=void 0),E!==M&&(G=!0)):E!==M&&(M=typeof E,"function"===M&&D.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===D.namespace?"href"===F?y.setAttributeNS("http://www.w3.org/1999/xlink",F,E):y.setAttribute(F,E):"string"===M?"innerHTML"===F?y[F]=b.renderingSanitizer.sanitize(E):"role"===F&&""===E?y.removeAttribute(F):y.setAttribute(F,E):y[F]!==E&&(y[F]=E),G=!0));C=G}else C=void 0;z=C||z;A.properties&&A.properties.afterUpdate&&A.properties.afterUpdate.apply(A.properties.bind||
A.properties,[y,w,A.vnodeSelector,A.properties,A.children])}z&&A.properties&&A.properties.updateAnimation&&A.properties.updateAnimation(y,A.properties,x.properties);return!1};a.createDom=e;a.createProjection=(x,A)=>({getLastRender:()=>x,update:w=>{if(x.vnodeSelector!==w.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let y=x;x=w;h(y,w,A)},domNode:x.domNode});a.extend=f;a.initPropertiesAndChildren=
p;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/widgetUtils":function(){define("exports ../../core/ArrayPool ../../core/handleUtils ../../core/has ../../core/Logger ./vnodeCache".split(" "),function(a,b,c,f,d,l){function u(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,
"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,
"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,
"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,
"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,"float":!1,"float-offset":!1,"flood-color":!1,
"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,
"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,
"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,
"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,
"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,
"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,
"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,
"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function t(ka){ka=ka||{};var va={},wa;for(wa in ka)va[wa]=ka[wa];ka=va;ka.whiteList=ka.whiteList||P.whiteList;ka.onAttr=ka.onAttr||P.onAttr;ka.onIgnoreAttr=ka.onIgnoreAttr||P.onIgnoreAttr;ka.safeAttrValue=ka.safeAttrValue||P.safeAttrValue;this.options=ka}
function g(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:"autoplay controls crossorigin loop muted preload src".split(" "),b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],
footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],
ul:[],video:"autoplay controls crossorigin loop muted playsinline poster preload src height width".split(" ")}}function n(ka){return ka.replace(xa,"\x26lt;").replace(Fa,"\x26gt;")}function m(ka){return ka.replace(la,"\x26quot;")}function r(ka){return ka.replace(V,'"')}function q(ka){return ka.replace(aa,function(va,wa){return"x"===wa[0]||"X"===wa[0]?String.fromCharCode(parseInt(wa.substr(1),16)):String.fromCharCode(parseInt(wa,10))})}function k(ka){return ka.replace(Ca,":").replace(Ia," ")}function p(ka){for(var va=
"",wa=0,Ja=ka.length;wa<Ja;wa++)va+=32>ka.charCodeAt(wa)?" ":ka.charAt(wa);return S.trim(va)}function e(ka){ka=r(ka);ka=q(ka);ka=k(ka);return ka=p(ka)}function h(ka){ka=m(ka);return ka=n(ka)}function v(ka,va){for(;va<ka.length;va++){var wa=ka[va];if(" "!==wa)return"\x3d"===wa?va:-1}}function x(ka,va){for(;0<va;va--){var wa=ka[va];if(" "!==wa)return"\x3d"===wa?va:-1}}function A(ka){var va='"'===ka[0]&&'"'===ka[ka.length-1]||"'"===ka[0]&&"'"===ka[ka.length-1]?!0:!1;return va?ka.substr(1,ka.length-2):
ka}function w(ka){var va=L.spaceIndex(ka);if(-1===va)return{html:"",closing:"/"===ka[ka.length-2]};ka=L.trim(ka.slice(va+1,-1));(va="/"===ka[ka.length-1])&&(ka=L.trim(ka.slice(0,-1)));return{html:ka,closing:va}}function y(ka){ka=ka||{};var va={},wa;for(wa in ka)va[wa]=ka[wa];ka=va;ka.stripIgnoreTag&&(ka.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),ka.onIgnoreTag=ea.onIgnoreTagStripAll);ka.whiteList=ka.whiteList||ea.whiteList;
ka.onTag=ka.onTag||ea.onTag;ka.onTagAttr=ka.onTagAttr||ea.onTagAttr;ka.onIgnoreTag=ka.onIgnoreTag||ea.onIgnoreTag;ka.onIgnoreTagAttr=ka.onIgnoreTagAttr||ea.onIgnoreTagAttr;ka.safeAttrValue=ka.safeAttrValue||ea.safeAttrValue;ka.escapeHtml=ka.escapeHtml||ea.escapeHtml;this.options=ka;!1===ka.css?this.cssFilter=!1:(ka.css=ka.css||{},this.cssFilter=new da(ka.css))}function z(ka){ka=null==ka?void 0:ka.closest("[dir]");return null!==ka&&ka instanceof HTMLElement&&"rtl"===ka.dir||"rtl"===document.dir}f=
Object.prototype;var C=Function.prototype.toString,B=f.hasOwnProperty,D=C.call(Object),G=f.toString,K=function(ka,va){return function(wa){return ka(va(wa))}}(Object.getPrototypeOf,Object),M=function(ka){var va;if(!(va=!(ka&&"object"==typeof ka)||"[object Object]"!=G.call(ka))&&(va=!1,null!=ka&&"function"!=typeof ka.toString))try{va=!!(ka+"")}catch(wa){}if(va)return!1;ka=K(ka);if(null===ka)return!0;ka=B.call(ka,"constructor")&&ka.constructor;return"function"==typeof ka&&ka instanceof ka&&C.call(ka)==
D},N={exports:{}},I={};f={exports:{}};var F={},E=/javascript\s*:/gim;F.whiteList=u();F.getDefaultWhiteList=u;F.onAttr=function(ka,va,wa){};F.onIgnoreAttr=function(ka,va,wa){};F.safeAttrValue=function(ka,va){return E.test(va)?"":va};var J={indexOf:function(ka,va){var wa;if(Array.prototype.indexOf)return ka.indexOf(va);var Ja=0;for(wa=ka.length;Ja<wa;Ja++)if(ka[Ja]===va)return Ja;return-1},forEach:function(ka,va,wa){var Ja;if(Array.prototype.forEach)return ka.forEach(va,wa);var Oa=0;for(Ja=ka.length;Oa<
Ja;Oa++)va.call(wa,ka[Oa],Oa,ka)},trim:function(ka){return String.prototype.trim?ka.trim():ka.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(ka){return String.prototype.trimRight?ka.trimRight():ka.replace(/(\s*$)/g,"")}},P=F,W=function(ka,va){function wa(){if(!Oa){var Ea=J.trim(ka.slice(ca,na)),Ga=Ea.indexOf(":");if(-1!==Ga){var Ma=J.trim(Ea.slice(0,Ga));Ga=J.trim(Ea.slice(Ga+1));Ma&&(Ea=va(ca,za.length,Ma,Ga,Ea))&&(za+=Ea+"; ")}}ca=na+1}ka=J.trimRight(ka);";"!==ka[ka.length-1]&&(ka+=";");for(var Ja=
ka.length,Oa=!1,ca=0,na=0,za="";na<Ja;na++){var ua=ka[na];if("/"===ua&&"*"===ka[na+1]){ua=ka.indexOf("*/",na+2);if(-1===ua)break;na=ua+1;ca=na+1;Oa=!1}else"("===ua?Oa=!0:")"===ua?Oa=!1:";"===ua?Oa||wa():"\n"===ua&&wa()}return J.trim(za)};t.prototype.process=function(ka){ka=(ka||"").toString();if(!ka)return"";var va=this.options,wa=va.whiteList,Ja=va.onAttr,Oa=va.onIgnoreAttr,ca=va.safeAttrValue;return W(ka,function(na,za,ua,Ea,Ga){var Ma=wa[ua],Ua=!1;!0===Ma?Ua=Ma:"function"===typeof Ma?Ua=Ma(Ea):
Ma instanceof RegExp&&(Ua=Ma.test(Ea));!0!==Ua&&(Ua=!1);if(Ea=ca(ua,Ea)){na={position:za,sourcePosition:na,source:Ga,isWhite:Ua};if(Ua)return Ua=Ja(ua,Ea,na),void 0===Ua||null===Ua?ua+":"+Ea:Ua;Ua=Oa(ua,Ea,na);if(void 0!==Ua&&null!==Ua)return Ua}})};(function(ka,va){va=ka.exports=function(Ja,Oa){return(new t(Oa)).process(Ja)};va.FilterCSS=t;for(var wa in F)va[wa]=F[wa]})(f,f.exports);var Z={indexOf:function(ka,va){var wa;if(Array.prototype.indexOf)return ka.indexOf(va);var Ja=0;for(wa=ka.length;Ja<
wa;Ja++)if(ka[Ja]===va)return Ja;return-1},forEach:function(ka,va,wa){var Ja;if(Array.prototype.forEach)return ka.forEach(va,wa);var Oa=0;for(Ja=ka.length;Oa<Ja;Oa++)va.call(wa,ka[Oa],Oa,ka)},trim:function(ka){return String.prototype.trim?ka.trim():ka.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(ka){return(ka=/\s|\n|\t/.exec(ka))?ka.index:-1}},Y=f.exports.getDefaultWhiteList,S=Z,qa=new f.exports.FilterCSS,xa=/</g,Fa=/>/g,la=/"/g,V=/&quot;/g,aa=/&#([a-zA-Z0-9]*);?/gim,Ca=/&colon;?/gim,Ia=/&newline;?/gim,
H=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,O=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,fa=/u\s*r\s*l\s*\(.*/gi;I.whiteList=g();I.getDefaultWhiteList=g;I.onTag=function(ka,va,wa){};I.onIgnoreTag=function(ka,va,wa){};I.onTagAttr=function(ka,va,wa){};I.onIgnoreTagAttr=function(ka,va,wa){};I.safeAttrValue=function(ka,va,wa,Ja){wa=e(wa);if("href"===va||"src"===va){wa=S.trim(wa);if("#"===wa)return"#";if("http://"!==wa.substr(0,7)&&"https://"!==wa.substr(0,
8)&&"mailto:"!==wa.substr(0,7)&&"tel:"!==wa.substr(0,4)&&"data:image/"!==wa.substr(0,11)&&"ftp://"!==wa.substr(0,6)&&"./"!==wa.substr(0,2)&&"../"!==wa.substr(0,3)&&"#"!==wa[0]&&"/"!==wa[0])return""}else if("background"===va){if(H.lastIndex=0,H.test(wa))return""}else if("style"===va){O.lastIndex=0;if(O.test(wa))return"";fa.lastIndex=0;if(fa.test(wa)&&(H.lastIndex=0,H.test(wa)))return"";!1!==Ja&&(Ja=Ja||qa,wa=Ja.process(wa))}return wa=h(wa)};I.escapeHtml=n;I.escapeQuote=m;I.unescapeQuote=r;I.escapeHtmlEntities=
q;I.escapeDangerHtml5Entities=k;I.clearNonPrintableCharacter=p;I.friendlyAttrValue=e;I.escapeAttrValue=h;I.onIgnoreTagStripAll=function(){return""};I.StripTagBody=function(ka,va){"function"!==typeof va&&(va=function(){});var wa=!Array.isArray(ka),Ja=[],Oa=!1;return{onIgnoreTag:function(ca,na,za){var ua=wa?!0:-1!==S.indexOf(ka,ca);if(ua){if(za.isClosing)return Ja.push([!1!==Oa?Oa:za.position,za.position+10]),Oa=!1,"[/removed]";Oa||(Oa=za.position);return"[removed]"}return va(ca,na,za)},remove:function(ca){var na=
"",za=0;S.forEach(Ja,function(ua){na+=ca.slice(za,ua[0]);za=ua[1]});return na+=ca.slice(za)}}};I.stripCommentTag=function(ka){for(var va="",wa=0;wa<ka.length;){var Ja=ka.indexOf("\x3c!--",wa);if(-1===Ja){va+=ka.slice(wa);break}va+=ka.slice(wa,Ja);wa=ka.indexOf("--\x3e",Ja);if(-1===wa)break;wa+=3}return va};I.stripBlankChar=function(ka){ka=ka.split("");ka=ka.filter(function(va){va=va.charCodeAt(0);return 127===va?!1:31>=va?10===va||13===va?!0:!1:!0});return ka.join("")};I.cssFilter=qa;I.getDefaultCSSWhiteList=
Y;var Q={},T=/[^a-zA-Z0-9_:\.\-]/gim;Q.parseTag=function(ka,va,wa){var Ja="",Oa=0,ca=!1,na=!1,za=0,ua=ka.length,Ea="",Ga="";za=0;a:for(;za<ua;za++)if(Ga=ka.charAt(za),!1===ca)"\x3c"===Ga&&(ca=za);else if(!1===na)if("\x3c"===Ga)Ja+=wa(ka.slice(Oa,za)),Oa=ca=za;else if("\x3e"===Ga)Ja+=wa(ka.slice(Oa,ca)),Oa=Ga=ka.slice(ca,za+1),Ea=Z.spaceIndex(Oa),Oa=-1===Ea?Oa.slice(1,-1):Oa.slice(1,Ea+1),Oa=Z.trim(Oa).toLowerCase(),"/"===Oa.slice(0,1)&&(Oa=Oa.slice(1)),"/"===Oa.slice(-1)&&(Oa=Oa.slice(0,-1)),Ea=Oa,
Ja+=va(ca,Ja.length,Ea,Ga,"\x3c/"===Ga.slice(0,2)),Oa=za+1,ca=!1;else{if('"'===Ga||"'"===Ga){Ea=1;for(var Ma=ka.charAt(za-Ea);""===Ma.trim()||"\x3d"===Ma;){if("\x3d"===Ma){na=Ga;continue a}Ma=ka.charAt(za-++Ea)}}}else Ga===na&&(na=!1);Oa<ka.length&&(Ja+=wa(ka.substr(Oa)));return Ja};Q.parseAttr=function(ka,va){function wa(Ea,Ga){Ea=Z.trim(Ea);Ea=Ea.replace(T,"").toLowerCase();1>Ea.length||(Ea=va(Ea,Ga||""))&&Oa.push(Ea)}for(var Ja=0,Oa=[],ca=!1,na=ka.length,za=0;za<na;za++){var ua=ka.charAt(za);if(!1===
ca&&"\x3d"===ua)ca=ka.slice(Ja,za),Ja=za+1;else{if(!1!==ca&&za===Ja&&('"'===ua||"'"===ua)&&"\x3d"===ka.charAt(za-1))if(ua=ka.indexOf(ua,za+1),-1===ua)break;else{Ja=Z.trim(ka.slice(Ja+1,ua));wa(ca,Ja);ca=!1;za=ua;Ja=za+1;continue}/\s|\n|\t/.test(ua)&&(ka=ka.replace(/\s|\n|\t/g," "),!1===ca?(ua=v(ka,za),-1===ua?(Ja=Z.trim(ka.slice(Ja,za)),wa(Ja),ca=!1,Ja=za+1):za=ua-1):(ua=x(ka,za-1),-1===ua&&(Ja=Z.trim(ka.slice(Ja,za)),Ja=A(Ja),wa(ca,Ja),ca=!1,Ja=za+1)))}}Ja<ka.length&&(!1===ca?wa(ka.slice(Ja)):wa(ca,
A(Z.trim(ka.slice(Ja)))));return Z.trim(Oa.join(" "))};var da=f.exports.FilterCSS,ea=I,pa=Q.parseTag,ma=Q.parseAttr,L=Z;y.prototype.process=function(ka){ka=(ka||"").toString();if(!ka)return"";var va=this.options,wa=va.whiteList,Ja=va.onTag,Oa=va.onIgnoreTag,ca=va.onTagAttr,na=va.onIgnoreTagAttr,za=va.safeAttrValue,ua=va.escapeHtml,Ea=this.cssFilter;va.stripBlankChar&&(ka=ea.stripBlankChar(ka));va.allowCommentTag||(ka=ea.stripCommentTag(ka));var Ga=!1;va.stripIgnoreTagBody&&(Ga=ea.StripTagBody(va.stripIgnoreTagBody,
Oa),Oa=Ga.onIgnoreTag);ka=pa(ka,function(Ma,Ua,oa,ab,cb){Ma={sourcePosition:Ma,position:Ua,isClosing:cb,isWhite:wa.hasOwnProperty(oa)};Ua=Ja(oa,ab,Ma);if(void 0!==Ua&&null!==Ua)return Ua;if(Ma.isWhite){if(Ma.isClosing)return"\x3c/"+oa+"\x3e";Ma=w(ab);var fb=wa[oa];Ua=ma(Ma.html,function(gb,Za){var db=-1!==L.indexOf(fb,gb),Ta=ca(oa,gb,Za,db);if(void 0!==Ta&&null!==Ta)return Ta;if(db)return(Za=za(oa,gb,Za,Ea))?gb+'\x3d"'+Za+'"':gb;Ta=na(oa,gb,Za,db);if(void 0!==Ta&&null!==Ta)return Ta});ab="\x3c"+oa;
Ua&&(ab+=" "+Ua);Ma.closing&&(ab+=" /");return ab+"\x3e"}Ua=Oa(oa,ab,Ma);return void 0!==Ua&&null!==Ua?Ua:ua(ab)},ua);Ga&&(ka=Ga.remove(ka));return ka};(function(ka,va){function wa(ca,na){return(new Ja(na)).process(ca)}var Ja=y;va=ka.exports=wa;va.filterXSS=wa;va.FilterXSS=Ja;for(var Oa in I)va[Oa]=I[Oa];for(Oa in Q)va[Oa]=Q[Oa];"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=ka.exports)})(N,N.exports);f=function(){function ka(va,
wa){var Ja=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:"alt border height src style width".split(" "),li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],
sub:["style"],sup:["style"],table:"border cellpadding cellspacing height style width".split(" "),tbody:[],tr:["align","height","style","valign"],td:"align colspan height nowrap rowspan style valign width".split(" "),th:"align colspan height nowrap rowspan style valign width".split(" "),u:[],ul:[],video:"autoplay controls height loop muted poster preload width".split(" ")};this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there arcgis-quickcapture mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");
this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(ca,na,za,ua){return"a"===ca&&"href"===na||("img"===ca||"source"===ca)&&"src"===na?Ja.sanitizeUrl(za):N.exports.safeAttrValue(ca,na,za,ua)}};if(va&&!wa)var Oa=va;else va&&wa?(Oa=Object.create(this.arcgisFilterOptions),Object.keys(va).forEach(function(ca){"whiteList"===ca?Oa.whiteList=Ja._extendObjectOfArrays([Ja.arcgisWhiteList,va.whiteList||{}]):Oa[ca]=va[ca]})):(Oa=Object.create(this.arcgisFilterOptions),Oa.whiteList=this.arcgisWhiteList);
this.xssFilterOptions=Oa;this._xssFilter=new N.exports.FilterXSS(Oa)}ka.prototype.sanitize=function(va,wa){void 0===wa&&(wa={});switch(typeof va){case "number":return isNaN(va)||!isFinite(va)?null:va;case "boolean":return va;case "string":return this._xssFilter.process(va);case "object":return this._iterateOverObject(va,wa);default:if(!wa.allowUndefined||"undefined"!==typeof va)return null}};ka.prototype.sanitizeUrl=function(va){var wa=this._trim(va.substring(0,va.indexOf(":")));return"/"===va||"#"===
va||"#"===va[0]||-1<this.allowedProtocols.indexOf(wa.toLowerCase())?N.exports.escapeAttrValue(va):""};ka.prototype.sanitizeHTMLAttribute=function(va,wa,Ja,Oa){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(va,wa,Ja,Oa):N.exports.safeAttrValue(va,wa,Ja,Oa)};ka.prototype.validate=function(va,wa){void 0===wa&&(wa={});wa=this.sanitize(va,wa);return{isValid:va===wa,sanitized:wa}};ka.prototype._extendObjectOfArrays=function(va){var wa={};va.forEach(function(Ja){Object.keys(Ja).forEach(function(Oa){Array.isArray(Ja[Oa])&&
Array.isArray(wa[Oa])?wa[Oa]=wa[Oa].concat(Ja[Oa]):wa[Oa]=Ja[Oa]})});return wa};ka.prototype._iterateOverObject=function(va,wa){var Ja=this;void 0===wa&&(wa={});try{var Oa=!1,ca=void 0;if(Array.isArray(va))ca=va.reduce(function(na,za){var ua=Ja.validate(za,wa);if(ua.isValid)return na.concat([za]);Oa=!0;return na.concat([ua.sanitized])},[]);else if(M(va))ca=Object.keys(va).reduce(function(na,za){var ua=va[za],Ea=Ja.validate(ua,wa);Ea.isValid?na[za]=ua:(Oa=!0,na[za]=Ea.sanitized);return na},{});else return wa.allowUndefined&&
"undefined"===typeof va?void 0:null;return Oa?ca:va}catch(na){return null}};ka.prototype._trim=function(va){return String.prototype.trim?va.trim():va.replace(/(^\s*)|(\s*$)/g,"")};return ka}();var R,U,sa=function(ka){if("WebkitTransition"in ka.style)R="webkitTransitionEnd",U="webkitAnimationEnd";else if("transition"in ka.style)R="transitionend",U="animationend";else throw Error("Your browser is not supported!");},Aa=function(ka,va){void 0===va&&(va=ka+"-active");return function(wa){R||sa(wa);var Ja=
!1,Oa=function(ca){Ja||(Ja=!0,wa.removeEventListener(R,Oa),wa.removeEventListener(U,Oa),wa.classList.remove(ka),wa.classList.remove(va))};wa.classList.add(ka);wa.addEventListener(R,Oa);wa.addEventListener(U,Oa);requestAnimationFrame(function(){wa.classList.add(va)})}},La=function(ka,va){void 0===va&&(va=ka+"-active");return function(wa,Ja){R||sa(wa);var Oa=!1,ca=function(na){Oa||(Oa=!0,wa.removeEventListener(R,ca),wa.removeEventListener(U,ca),Ja())};wa.classList.add(ka);wa.addEventListener(R,ca);
wa.addEventListener(U,ca);requestAnimationFrame(function(){wa.classList.add(va)})}};const Pa=d.getLogger("esri.widgets.support.widgetUtils");d=(()=>{const ka=new Map,va=new ResizeObserver(wa=>{l.clearVNodeCache();for(const Ja of wa)ka.get(Ja.target)(Ja)});return(wa,Ja,Oa)=>{ka.has(wa)&&Pa.error("Already observing element",wa);ka.set(wa,Ja);va.observe(wa,Oa);return c.makeHandle(()=>{va.unobserve(wa);ka.delete(wa)})}})();Y="dd dl dt h1 h2 h3 h4 h5 h6 sub sup animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" ");
const Sa=Y.reduce((ka,va)=>{ka[va]=[];return ka},{}),Xa="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords d dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");f=new f({whiteList:Sa,onTagAttr:(ka,va,wa)=>{ka=`${va}="${wa}"`;if(Xa.includes(va))return ka},stripIgnoreTag:!0,stripIgnoreTagBody:["script",
"style"]},!0);a.additionalAllowedTags=Y;a.classes=function(ka){const va=b.acquire();for(var wa=0;wa<arguments.length;wa++){const Ja=arguments[wa],Oa=typeof Ja;if("string"===Oa)va.push(Ja);else if(Array.isArray(Ja))va.push.apply(va,Ja);else if("object"===Oa)for(const ca in Ja)Ja[ca]&&va.push(ca)}wa=va.join(" ");b.release(va);return wa};a.cssTransition=function(ka,va){return("enter"===ka?Aa:La)(va)};a.discardNode=function(ka){this[ka.getAttribute("data-node-ref")]=null};a.getDir=function(ka){return z(ka)?
"rtl":"ltr"};a.isActivationKey=function(ka){return"Enter"===ka||" "===ka};a.isRTL=z;a.keepMenuItemWithinView=function(ka,va){const wa=ka.getBoundingClientRect();va=va.getBoundingClientRect();const Ja=wa.top,Oa=va.top;(wa.top+wa.height>va.top+va.height||Ja<Oa)&&ka.scrollIntoView({block:"end"})};a.onResize=d;a.renderingSanitizer=f;a.safeAttrs=Xa;a.storeNode=function(ka){this[ka.getAttribute("data-node-ref")]=ka};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/vnodeCache":function(){define(["exports"],
function(a){const b=new Map;a.clearVNodeCache=function(){b.clear()};a.deleteVNodeCache=function(c){b.delete(c)};a.getVNodeCache=function(c){return b.get(c)};a.setVNodeCache=function(c,f){b.set(c,f)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/libs/maquette/projector":function(){define(["exports","./dom"],function(a,b){let c;c=Array.prototype.find?(l,u)=>l.find(u):(l,u)=>l.filter(u)[0];let f=(l,u)=>{let t=l;u.forEach(g=>{t=t&&t.children?c(t.children,n=>n.domNode===g):void 0});return t},
d=(l,u,t)=>{let g=function(n){t("domEvent",n);var m=u();{var r=n.currentTarget;var q=m.domNode;let p=[];for(;r&&r!==q;)p.push(r),r=r.parentNode;r=p}r.reverse();m=f(m.getLastRender(),r);l.scheduleRender();let k;m&&(k=m.properties[`on${n.type}`].apply(m.properties.bind||this,arguments));t("domEventProcessed",n);return k};return(n,m,r,q)=>g};a.createProjector=l=>{let u,t=b.applyDefaultProjectionOptions(l),g=t.performanceLogger,n=!0,m,r=!1,q=[],k=[],p=(h,v,x)=>{let A;t.eventHandlerInterceptor=d(u,()=>
A,g);A=h(v,x(),t);q.push(A);k.push(x)},e=()=>{m=void 0;if(n){n=!1;g("renderStart",void 0);for(let h=0;h<q.length;h++){let v=k[h]();g("rendered",void 0);q[h].update(v);g("patched",void 0)}g("renderDone",void 0);n=!0}};return u={renderNow:e,scheduleRender:()=>{m||r||(m=requestAnimationFrame(e))},stop:()=>{m&&(cancelAnimationFrame(m),m=void 0);r=!0},resume:()=>{r=!1;n=!0;u.scheduleRender()},append:(h,v)=>{p(b.dom.append,h,v)},insertBefore:(h,v)=>{p(b.dom.insertBefore,h,v)},merge:(h,v)=>{p(b.dom.merge,
h,v)},replace:(h,v)=>{p(b.dom.replace,h,v)},detach:h=>{for(let v=0;v<k.length;v++)if(k[v]===h)return k.splice(v,1),q.splice(v,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/libs/maquette-advanced-projector/advanced-projector-options":function(){define(["exports"],function(a){a.defaultAdvancedProjectorOptions={handleInterceptedEvent:(b,c,f,d)=>{b.scheduleRender();return c.properties[`on${d.type}`].apply(c.properties.bind||f,[d])}};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/libs/maquette-advanced-projector/utils":function(){define(["exports"],function(a){const b={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(c,f,d)=>{c.style[f]=d}};a.applyDefaultProjectionOptions=c=>({...b,...c});Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/componentsUtils":function(){define(["exports","../assets","../core/has","../core/urlUtils"],function(a,b,c,f){let d,l,u,t=!1,g=!1,n=!1,m=!1,r=!1;const q=
"undefined"!==typeof window?window:{};null;const k=q.document||{head:{}};c=q.HTMLElement||class{};const p={$flags$:0,$resourcesUrl$:"",jmp:ca=>ca(),raf:ca=>requestAnimationFrame(ca),ael:(ca,na,za,ua)=>ca.addEventListener(na,za,ua),rel:(ca,na,za,ua)=>ca.removeEventListener(na,za,ua),ce:(ca,na)=>new CustomEvent(ca,na)},e=(()=>{let ca=!1;try{k.addEventListener("e",null,Object.defineProperty({},"passive",{get(){ca=!0}}))}catch(na){}return ca})();a:{try{new CSSStyleSheet;var h="function"===typeof(new CSSStyleSheet).replace;
break a}catch(ca){}h=!1}const v=h,x=(ca,na,za,ua)=>{za&&za.map(([Ea,Ga,Ma])=>{const Ua=Ea&4?k:Ea&8?q:Ea&16?k.body:ca,oa=A(na,Ma),ab=e?{passive:0!==(Ea&1),capture:0!==(Ea&2)}:0!==(Ea&2);p.ael(Ua,Ga,oa,ab);(na.$rmListeners$=na.$rmListeners$||[]).push(()=>p.rel(Ua,Ga,oa,ab))})},A=(ca,na)=>za=>{try{ca.$hostElement$[na](za)}catch(ua){Pa(ua)}},w=(ca,na)=>()=>{},y=new WeakMap,z=(ca,na,za)=>{let ua=Sa.get(ca);v&&za?(ua=ua||new CSSStyleSheet,ua.replace(na)):ua=na;Sa.set(ca,ua)},C=(ca,na)=>"sc-"+(na&&ca.$flags$&
32?ca.$tagName$+"-"+na:ca.$tagName$),B=ca=>Xa.map(na=>na(ca)).find(na=>!!na),D={},G=ca=>{ca=typeof ca;return"object"===ca||"function"===ca},K=(ca,na,...za)=>{let ua=null,Ea=null,Ga=null,Ma=!1,Ua=!1,oa=[];const ab=cb=>{for(let fb=0;fb<cb.length;fb++)if(ua=cb[fb],Array.isArray(ua))ab(ua);else if(null!=ua&&"boolean"!==typeof ua){if(Ma="function"!==typeof ca&&!G(ua))ua=String(ua);Ma&&Ua?oa[oa.length-1].$text$+=ua:oa.push(Ma?M(null,ua):ua);Ua=Ma}};ab(za);if(na){na.key&&(Ea=na.key);na.name&&(Ga=na.name);
{const cb=na.className||na.class;cb&&(na.class="object"!==typeof cb?cb:Object.keys(cb).filter(fb=>cb[fb]).join(" "))}}if("function"===typeof ca)return ca(null===na?{}:na,oa,I);za=M(ca,null);za.$attrs$=na;0<oa.length&&(za.$children$=oa);za.$key$=Ea;za.$name$=Ga;return za},M=(ca,na)=>({$flags$:0,$tag$:ca,$text$:na,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),N={},I={forEach:(ca,na)=>ca.map(F).forEach(na),map:(ca,na)=>ca.map(F).map(na).map(E)},F=ca=>({vattrs:ca.$attrs$,vchildren:ca.$children$,
vkey:ca.$key$,vname:ca.$name$,vtag:ca.$tag$,vtext:ca.$text$}),E=ca=>{if("function"===typeof ca.vtag){var na=Object.assign({},ca.vattrs);ca.vkey&&(na.key=ca.vkey);ca.vname&&(na.name=ca.vname);return K(ca.vtag,na,...ca.vchildren||[])}na=M(ca.vtag,ca.vtext);na.$attrs$=ca.vattrs;na.$children$=ca.vchildren;na.$key$=ca.vkey;na.$name$=ca.vname;return na},J=(ca,na,za,ua,Ea,Ga)=>{if(za!==ua){let oa=na in ca,ab=na.toLowerCase();if("class"===na){ca=ca.classList;const cb=za?za.split(P):[],fb=ua?ua.split(P):[];
ca.remove(...cb.filter(gb=>gb&&!fb.includes(gb)));ca.add(...fb.filter(gb=>gb&&!cb.includes(gb)))}else if("style"===na){for(var Ma in za)ua&&null!=ua[Ma]||(Ma.includes("-")?ca.style.removeProperty(Ma):ca.style[Ma]="");for(var Ua in ua)za&&ua[Ua]===za[Ua]||(Ua.includes("-")?ca.style.setProperty(Ua,ua[Ua]):ca.style[Ua]=ua[Ua])}else if("key"!==na)if("ref"===na)ua&&ua(ca);else if(ca.__lookupSetter__(na)||"o"!==na[0]||"n"!==na[1]){Ma=G(ua);if((oa||Ma&&null!==ua)&&!Ea)try{if(ca.tagName.includes("-"))ca[na]=
ua;else if(Ua=null==ua?"":ua,"list"===na)oa=!1;else if(null==za||ca[na]!=Ua)ca[na]=Ua}catch(cb){}za=!1;ab!==(ab=ab.replace(/^xlink:?/,""))&&(na=ab,za=!0);if(null==ua||!1===ua){if(!1!==ua||""===ca.getAttribute(na))za?ca.removeAttributeNS("http://www.w3.org/1999/xlink",na):ca.removeAttribute(na)}else(!oa||Ga&4||Ea)&&!Ma&&(ua=!0===ua?"":ua,za?ca.setAttributeNS("http://www.w3.org/1999/xlink",na,ua):ca.setAttribute(na,ua))}else na="-"===na[2]?na.slice(3):ab in q?ab.slice(2):ab[2]+na.slice(3),za&&p.rel(ca,
na,za,!1),ua&&p.ael(ca,na,ua,!1)}},P=/\s/,W=(ca,na,za,ua)=>{const Ea=11===na.$elm$.nodeType&&na.$elm$.host?na.$elm$.host:na.$elm$;ca=ca&&ca.$attrs$||D;const Ga=na.$attrs$||D;for(ua in ca)ua in Ga||J(Ea,ua,ca[ua],void 0,za,na.$flags$);for(ua in Ga)J(Ea,ua,ca[ua],Ga[ua],za,na.$flags$)},Z=(ca,na,za,ua)=>{na=na.$children$[za];let Ea=0,Ga;t||(n=!0,"slot"===na.$tag$&&(d&&ua.classList.add(d+"-s"),na.$flags$|=na.$children$?2:1));if(null!==na.$text$)ua=na.$elm$=k.createTextNode(na.$text$);else if(na.$flags$&
1)ua=na.$elm$=k.createTextNode("");else{m||(m="svg"===na.$tag$);ua=na.$elm$=k.createElementNS(m?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",na.$flags$&2?"slot-fb":na.$tag$);m&&"foreignObject"===na.$tag$&&(m=!1);W(null,na,m);null!=d&&ua["s-si"]!==d&&ua.classList.add(ua["s-si"]=d);if(na.$children$)for(Ea=0;Ea<na.$children$.length;++Ea)(Ga=Z(ca,na,Ea,ua))&&ua.appendChild(Ga);"svg"===na.$tag$?m=!1:"foreignObject"===ua.tagName&&(m=!0)}ua["s-hn"]=u;na.$flags$&3&&(ua["s-sr"]=!0,ua["s-cr"]=
l,ua["s-sn"]=na.$name$||"",(za=ca&&ca.$children$&&ca.$children$[za])&&za.$tag$===na.$tag$&&ca.$elm$&&Y(ca.$elm$,!1));return ua},Y=(ca,na)=>{p.$flags$|=1;ca=ca.childNodes;for(let za=ca.length-1;0<=za;za--){const ua=ca[za];ua["s-hn"]!==u&&ua["s-ol"]&&((ua["s-ol"]?ua["s-ol"]:ua).parentNode.insertBefore(ua,Fa(ua)),ua["s-ol"].remove(),ua["s-ol"]=void 0,n=!0);na&&Y(ua,na)}p.$flags$&=-2},S=(ca,na,za,ua,Ea,Ga)=>{let Ma=ca["s-cr"]&&ca["s-cr"].parentNode||ca,Ua;Ma.shadowRoot&&Ma.tagName===u&&(Ma=Ma.shadowRoot);
for(;Ea<=Ga;++Ea)ua[Ea]&&(Ua=Z(null,za,Ea,ca))&&(ua[Ea].$elm$=Ua,Ma.insertBefore(Ua,Fa(na)))},qa=(ca,na,za,ua,Ea)=>{for(;na<=za;++na)if(ua=ca[na])Ea=ua.$elm$,H(ua),g=!0,Ea["s-ol"]?Ea["s-ol"].remove():Y(Ea,!0),Ea.remove()},xa=(ca,na)=>ca.$tag$===na.$tag$?"slot"===ca.$tag$?ca.$name$===na.$name$:ca.$key$===na.$key$:!1,Fa=ca=>ca&&ca["s-ol"]||ca,la=(ca,na)=>{const za=na.$elm$=ca.$elm$,ua=ca.$children$,Ea=na.$children$,Ga=na.$tag$;var Ma=na.$text$;if(null===Ma){m="svg"===Ga?!0:"foreignObject"===Ga?!1:m;
"slot"!==Ga&&W(ca,na,m);if(null!==ua&&null!==Ea){{var Ua=Ma=ca=0,oa=0;let ab=ua.length-1,cb=ua[0],fb=ua[ab],gb=Ea.length-1,Za=Ea[0],db=Ea[gb];for(;ca<=ab&&Ma<=gb;)if(null==cb)cb=ua[++ca];else if(null==fb)fb=ua[--ab];else if(null==Za)Za=Ea[++Ma];else if(null==db)db=Ea[--gb];else if(xa(cb,Za))la(cb,Za),cb=ua[++ca],Za=Ea[++Ma];else if(xa(fb,db))la(fb,db),fb=ua[--ab],db=Ea[--gb];else if(xa(cb,db))"slot"!==cb.$tag$&&"slot"!==db.$tag$||Y(cb.$elm$.parentNode,!1),la(cb,db),za.insertBefore(cb.$elm$,fb.$elm$.nextSibling),
cb=ua[++ca],db=Ea[--gb];else if(xa(fb,Za))"slot"!==cb.$tag$&&"slot"!==db.$tag$||Y(fb.$elm$.parentNode,!1),la(fb,Za),za.insertBefore(fb.$elm$,cb.$elm$),fb=ua[--ab],Za=Ea[++Ma];else{Ua=-1;for(oa=ca;oa<=ab;++oa)if(ua[oa]&&null!==ua[oa].$key$&&ua[oa].$key$===Za.$key$){Ua=oa;break}0<=Ua?(oa=ua[Ua],oa.$tag$!==Za.$tag$?oa=Z(ua&&ua[Ma],na,Ua,za):(la(oa,Za),ua[Ua]=void 0,oa=oa.$elm$)):oa=Z(ua&&ua[Ma],na,Ma,za);Za=Ea[++Ma];oa&&(Ua=cb.$elm$,(Ua["s-ol"]?Ua["s-ol"]:Ua).parentNode.insertBefore(oa,Fa(cb.$elm$)))}ca>
ab?S(za,null==Ea[gb+1]?null:Ea[gb+1].$elm$,na,Ea,Ma,gb):Ma>gb&&qa(ua,ca,ab)}}else null!==Ea?(null!==ca.$text$&&(za.textContent=""),S(za,null,na,Ea,0,Ea.length-1)):null!==ua&&qa(ua,0,ua.length-1);m&&"svg"===Ga&&(m=!1)}else(na=za["s-cr"])?na.parentNode.textContent=Ma:ca.$text$!==Ma&&(za.data=Ma)},V=ca=>{ca=ca.childNodes;let na,za,ua,Ea,Ga,Ma;za=0;for(ua=ca.length;za<ua;za++)if(na=ca[za],1===na.nodeType){if(na["s-sr"])for(Ga=na["s-sn"],na.hidden=!1,Ea=0;Ea<ua;Ea++)if(Ma=ca[Ea].nodeType,ca[Ea]["s-hn"]!==
na["s-hn"]||""!==Ga){if(1===Ma&&Ga===ca[Ea].getAttribute("slot")){na.hidden=!0;break}}else if(1===Ma||3===Ma&&""!==ca[Ea].textContent.trim()){na.hidden=!0;break}V(na)}},aa=[],Ca=ca=>{let na,za,ua,Ea,Ga,Ma=0,Ua=ca.childNodes,oa=Ua.length;for(;Ma<oa;Ma++){ca=Ua[Ma];if(ca["s-sr"]&&(na=ca["s-cr"])&&na.parentNode)for(za=na.parentNode.childNodes,ua=ca["s-sn"],Ga=za.length-1;0<=Ga;Ga--)na=za[Ga],na["s-cn"]||na["s-nr"]||na["s-hn"]===ca["s-hn"]||(Ia(na,ua)?(Ea=aa.find(ab=>ab.$nodeToRelocate$===na),g=!0,na["s-sn"]=
na["s-sn"]||ua,Ea?Ea.$slotRefNode$=ca:aa.push({$slotRefNode$:ca,$nodeToRelocate$:na}),na["s-sr"]&&aa.map(ab=>{Ia(ab.$nodeToRelocate$,na["s-sn"])&&(Ea=aa.find(cb=>cb.$nodeToRelocate$===na))&&!ab.$slotRefNode$&&(ab.$slotRefNode$=Ea.$slotRefNode$)})):aa.some(ab=>ab.$nodeToRelocate$===na)||aa.push({$nodeToRelocate$:na}));1===ca.nodeType&&Ca(ca)}},Ia=(ca,na)=>1===ca.nodeType?null===ca.getAttribute("slot")&&""===na||ca.getAttribute("slot")===na?!0:!1:ca["s-sn"]===na?!0:""===na,H=ca=>{ca.$attrs$&&ca.$attrs$.ref&&
ca.$attrs$.ref(null);ca.$children$&&ca.$children$.map(H)},O=(ca,na)=>{const za=ca.$hostElement$;var ua=ca.$cmpMeta$,Ea=ca.$vnode$||M(null,null);const Ga=na&&na.$tag$===N?na:K(null,null,na);u=za.tagName;ua.$attrsToReflect$&&(Ga.$attrs$=Ga.$attrs$||{},ua.$attrsToReflect$.map(([Ma,Ua])=>Ga.$attrs$[Ua]=za[Ma]));Ga.$tag$=null;Ga.$flags$|=4;ca.$vnode$=Ga;Ga.$elm$=Ea.$elm$=za.shadowRoot||za;d=za["s-sc"];l=za["s-cr"];t=0!==(ua.$flags$&1);g=!1;la(Ea,Ga);p.$flags$|=1;if(n){Ca(Ga.$elm$);let Ma,Ua;for(ua=0;ua<
aa.length;ua++)Ea=aa[ua],ca=Ea.$nodeToRelocate$,ca["s-ol"]||(Ea=k.createTextNode(""),Ea["s-nr"]=ca,ca.parentNode.insertBefore(ca["s-ol"]=Ea,ca));for(ua=0;ua<aa.length;ua++)if(Ea=aa[ua],ca=Ea.$nodeToRelocate$,Ea.$slotRefNode$){na=Ea.$slotRefNode$.parentNode;Ma=Ea.$slotRefNode$.nextSibling;for(Ea=ca["s-ol"];Ea=Ea.previousSibling;)if((Ua=Ea["s-nr"])&&Ua["s-sn"]===ca["s-sn"]&&na===Ua.parentNode&&(Ua=Ua.nextSibling,!Ua||!Ua["s-nr"])){Ma=Ua;break}(Ma||na===ca.parentNode)&&ca.nextSibling===Ma||ca===Ma||
(!ca["s-hn"]&&ca["s-ol"]&&(ca["s-hn"]=ca["s-ol"].parentNode.nodeName),na.insertBefore(ca,Ma))}else 1===ca.nodeType&&(ca.hidden=!0)}g&&V(Ga.$elm$);p.$flags$&=-2;aa.length=0},fa=(ca,na)=>{ca.$flags$|=16;return Oa(()=>Q(ca,na))},Q=(ca,na)=>{const za=ca.$hostElement$,ua=w("scheduleUpdate",ca.$cmpMeta$.$tagName$);let Ea;Ea=na?da(za,"componentWillLoad"):da(za,"componentWillUpdate");Ea=ea(Ea,()=>da(za,"componentWillRender"));ua();return ea(Ea,()=>T(ca,za,na))},T=async(ca,na,za)=>{var ua=ca.$hostElement$,
Ea=w("update",ca.$cmpMeta$.$tagName$);ua["s-rc"];if(za){{var Ga=ca.$cmpMeta$;za=ca.$hostElement$;ua=Ga.$flags$;const Ua=w("attachStyles",Ga.$tagName$);{var Ma=za.shadowRoot?za.shadowRoot:za.getRootNode();Ga=C(Ga,ca.$modeName$);let oa=Sa.get(Ga);Ma=11===Ma.nodeType?Ma:k;if(oa)if("string"===typeof oa){Ma=Ma.head||Ma;let ab=y.get(Ma),cb;ab||y.set(Ma,ab=new Set);ab.has(Ga)||(cb=k.createElement("style"),cb.innerHTML=oa,Ma.insertBefore(cb,Ma.querySelector("link")),ab&&ab.add(Ga))}else Ma.adoptedStyleSheets.includes(oa)||
(Ma.adoptedStyleSheets=[...Ma.adoptedStyleSheets,oa]);Ma=Ga}ua&10&&(za["s-sc"]=Ma,za.classList.add(Ma+"-h"),ua&2&&za.classList.add(Ma+"-s"));Ua()}}za=w("render",ca.$cmpMeta$.$tagName$);try{na=na.render&&na.render(),ca.$flags$&=-17,ca.$flags$|=2,O(ca,na)}catch(Ua){Pa(Ua,ca.$hostElement$)}za();Ea();Ea=ca.$hostElement$;na=w("postUpdate",ca.$cmpMeta$.$tagName$);ca.$ancestorComponent$;da(Ea,"componentDidRender");ca.$flags$&64?da(Ea,"componentDidUpdate"):(ca.$flags$|=64,da(Ea,"componentDidLoad"));na()},
da=(ca,na,za)=>{if(ca&&ca[na])try{return ca[na](za)}catch(ua){Pa(ua)}},ea=(ca,na)=>ca&&ca.then?ca.then(na):na(),pa=(ca,na)=>{if(null!=ca&&!G(ca)){if(na&4)return"false"===ca?!1:""===ca||!!ca;if(na&2)return parseFloat(ca);if(na&1)return String(ca)}return ca},ma=(ca,na,za,ua)=>{const Ea=La.get(ca),Ga=Ea.$instanceValues$.get(na),Ma=Ea.$flags$;za=pa(za,ua.$members$[na][0]);za!==Ga&&(Ea.$instanceValues$.set(na,za),ua.$watchers$&&Ma&128&&(ua=ua.$watchers$[na])&&ua.map(Ua=>{try{ca[Ua](za,Ga,na)}catch(oa){Pa(oa,
ca)}}),2!==(Ma&18)||ca.componentShouldUpdate&&!1===ca.componentShouldUpdate(za,Ga,na)||fa(Ea,!1))},L=(ca,na,za)=>{if(na.$members$){ca.watchers&&(na.$watchers$=ca.watchers);za=Object.entries(na.$members$);const ua=ca.prototype;za.map(([Ea,[Ga]])=>{(Ga&31||Ga&32)&&Object.defineProperty(ua,Ea,{get(){return La.get(this).$instanceValues$.get(Ea)},set(Ma){ma(this,Ea,Ma,na)},configurable:!0,enumerable:!0})});{const Ea=new Map;ua.attributeChangedCallback=function(Ga,Ma,Ua){p.jmp(()=>{const oa=Ea.get(Ga);
if(this.hasOwnProperty(oa))Ua=this[oa],delete this[oa];else if(ua.hasOwnProperty(oa)&&"number"===typeof this[oa]&&this[oa]==Ua)return;this[oa]=null===Ua&&"boolean"===typeof this[oa]?!1:Ua})};ca.observedAttributes=za.filter(([,Ga])=>Ga[0]&15).map(([Ga,Ma])=>{const Ua=Ma[1]||Ga;Ea.set(Ua,Ga);Ma[0]&512&&na.$attrsToReflect$.push([Ga,Ua]);return Ua})}}return ca},R=async(ca,na,za,ua,Ea)=>{0===(na.$flags$&32)&&(Ea=ca.constructor,na.$flags$|=32,customElements.whenDefined(za.$tagName$).then(()=>na.$flags$|=
128),Ea.style&&(ua=Ea.style,"string"!==typeof ua&&(ua=ua[na.$modeName$=B(ca)]),ca=C(za,na.$modeName$),Sa.has(ca)||(Ea=w("registerStyles",za.$tagName$),z(ca,ua,!!(za.$flags$&1)),Ea())));na.$ancestorComponent$;fa(na,!0)},U=ca=>{if(0===(p.$flags$&1)){const na=La.get(ca),za=na.$cmpMeta$,ua=w("connectedCallback",za.$tagName$);na.$flags$&1?x(ca,na,za.$listeners$):(na.$flags$|=1,za.$flags$&12&&sa(ca),za.$members$&&Object.entries(za.$members$).map(([Ea,[Ga]])=>{Ga&31&&ca.hasOwnProperty(Ea)&&(Ga=ca[Ea],delete ca[Ea],
ca[Ea]=Ga)}),R(ca,na,za));ua()}},sa=ca=>{const na=ca["s-cr"]=k.createComment("");na["s-cn"]=!0;ca.insertBefore(na,ca.firstChild)},Aa=ca=>{0===(p.$flags$&1)&&(ca=La.get(ca),ca.$rmListeners$&&(ca.$rmListeners$.map(na=>na()),ca.$rmListeners$=void 0))},La=new WeakMap,Pa=(ca,na)=>(0,console.error)(ca,na),Sa=new Map,Xa=[],ka=[],va=[],wa=ca=>{for(let na=0;na<ca.length;na++)try{ca[na](performance.now())}catch(za){Pa(za)}ca.length=0},Ja=()=>{wa(ka);wa(va);(r=0<ka.length)&&p.raf(Ja)},Oa=((ca,na)=>za=>{ca.push(za);
r||(r=!0,na&&p.$flags$&4?(za=Ja,Promise.resolve(void 0).then(za)):p.raf(Ja))})(va,!0);a.Build={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1};a.Fragment=(ca,na)=>na;a.H=c;a.Host=N;a.commitAssetPath=function(){p.$resourcesUrl$=f.makeAbsolute(b.getAssetUrl("esri/widgets/support/components/assets"))};a.createEvent=(ca,na,za)=>({emit:ua=>{ua=p.ce(na,{bubbles:!!(za&4),composed:!!(za&2),cancelable:!!(za&1),detail:ua});ca.dispatchEvent(ua);return ua}});a.forceUpdate=ca=>{{ca=La.get(ca);const na=ca.$hostElement$.isConnected;
na&&2===(ca.$flags$&18)&&fa(ca,!1);return na}};a.getAssetPath=ca=>{ca=new URL(ca,p.$resourcesUrl$);return ca.origin!==q.location.origin?ca.href:ca.pathname};a.h=K;a.proxyCustomElement=(ca,na)=>{const za={$flags$:na[0],$tagName$:na[1]};za.$members$=na[2];za.$listeners$=na[3];za.$watchers$=ca.$watchers$;za.$attrsToReflect$=[];const ua=ca.prototype.connectedCallback,Ea=ca.prototype.disconnectedCallback;Object.assign(ca.prototype,{__registerHost(){{const Ga={$flags$:0,$hostElement$:this,$cmpMeta$:za,
$instanceValues$:new Map};x(this,Ga,za.$listeners$);La.set(this,Ga)}},connectedCallback(){U(this);ua&&ua.call(this)},disconnectedCallback(){Aa(this);Ea&&Ea.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(za.$flags$&16)})}});ca.is=za.$tagName$;return L(ca,za)}})},"esri/widgets/support/jsxWidgetSupport":function(){define(["exports","../../core/handleUtils"],function(a,b){function c(r,q){let k=q.children;if(k&&k.length)for(var p=0;p<k.length;++p)k[p]=c(r,k[p]);else k=g;
p=q.vnodeSelector;if(u(p)){q=q.properties||n;const e=q.key||p;return{vnodeSelector:"div",properties:{key:e,afterCreate:f,afterUpdate:d,afterRemoved:l,parentWidget:r,widgetConstructor:p,widgetProperties:{...q,key:e,children:k}},children:void 0,text:void 0,domNode:null}}return q}function f(r,q,k,{parentWidget:p,widgetConstructor:e,widgetProperties:h}){q=new e(h);q.container=r;m.set(r,q);null==q.afterCreate?void 0:q.afterCreate(q,r);p._internalHandles.add(b.makeHandle(()=>l(r)))}function d(r,q,k,{widgetProperties:p}){if(q=
m.get(r))q.set(p),null==q.afterUpdate?void 0:q.afterUpdate(q,r)}function l(r){const q=m.get(r);q&&(q.destroy(),m.delete(r))}function u(r){return"function"===typeof r&&r[t]}const t=Symbol("widget"),g=[],n={},m=new WeakMap;a.WIDGET_SYMBOL=t;a.isWidgetConstructor=u;a.processWidgets=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/widgetThemeUtils":function(){define(["exports"],function(a){function b(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,
"")}function c(){return b().startsWith("dark")}a.getCalciteThemeClass=function(){return`calcite-theme-${c()?"dark":"light"}`};a.getThemeName=b;a.isDarkTheme=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/widget":function(){define("exports ./decorators/accessibleHandler ./decorators/messageBundle ./decorators/renderable ./decorators/vmEvent ./jsxFactory ./widgetUtils ./widgetThemeUtils".split(" "),function(a,b,c,f,d,l,u,t){a.accessibleHandler=b.accessibleHandler;a.messageBundle=
c.messageBundle;a.renderable=f.renderable;a.vmEvent=d.vmEvent;a.tsx=l.tsx;a.tsxFragment=l.tsxFragment;a.additionalAllowedTags=u.additionalAllowedTags;a.classes=u.classes;a.cssTransition=u.cssTransition;a.discardNode=u.discardNode;a.getDir=u.getDir;a.isActivationKey=u.isActivationKey;a.isRTL=u.isRTL;a.keepMenuItemWithinView=u.keepMenuItemWithinView;a.onResize=u.onResize;a.renderingSanitizer=u.renderingSanitizer;a.safeAttrs=u.safeAttrs;a.storeNode=u.storeNode;a.getCalciteThemeClass=t.getCalciteThemeClass;
a.getThemeName=t.getThemeName;a.isDarkTheme=t.isDarkTheme;a.hasDomNode=function(g){return g&&"function"===typeof g.postMixInProperties&&"function"===typeof g.buildRendering&&"function"===typeof g.postCreate&&"function"===typeof g.startup};a.isWidget=function(g){return g&&"function"===typeof g.render};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["exports","../widgetUtils"],function(a,b){function c(f){return function(d,...l){var u;
({type:u}=d);(u=d instanceof KeyboardEvent||"keyup"===u||"keydown"===u||"keypress"===u)?b.isActivationKey(d.key)&&(d.preventDefault(),d.stopPropagation(),d.target.click()):f.call(this,d,...l)}}a.accessibleHandler=function(){return function(f,d){if(!f[d])throw new TypeError(`Cannot auto bind undefined function '${d}'`);return{value:c(f[d])}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/messageBundle":function(){define(["exports"],function(a){a.messageBundle=
function(b){return function(c,f){c.hasOwnProperty("_messageBundleProps")||(c._messageBundleProps=c._messageBundleProps?c._messageBundleProps.slice():[]);c._messageBundleProps.push({bundlePath:b,propertyName:f})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/renderable":function(){define(["exports","../../../core/deprecate","../../../core/has","../../../core/Logger"],function(a,b,c,f){a.renderable=function(d){return function(l,u){c("esri-deprecation-warnings")&&
b.deprecated(f.getLogger("esri.core.accessorSupport.decorators"),"'@renderable()' decorator",{version:"4.19",warnOnce:!0})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/vmEvent":function(){define(["exports","./propUtils"],function(a,b){a.vmEvent=function(c){return f=>{f.hasOwnProperty("_delegatedEventNames")||(f._delegatedEventNames=f._delegatedEventNames?f._delegatedEventNames.slice():[]);f=f._delegatedEventNames;const d=Array.isArray(c)?c:b.splitProps(c);
f.push(...d)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/propUtils":function(){define(["exports"],function(a){a.normalizePropNames=function(b,c){return b.map(f=>{f=0===f.indexOf(c)?f:`${c}.${f}`;return f})};a.splitProps=function(b){return b.split(",").map(c=>c.trim())};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/jsxFactory":function(){define(["exports","./jsxWidgetSupport"],function(a,b){var c=function(d,l){for(var u=0,t=d.length;u<
t;u++){var g=d[u];Array.isArray(g)?c(g,l):null!==g&&void 0!==g&&!1!==g&&(g.hasOwnProperty("vnodeSelector")||(g={vnodeSelector:"",properties:void 0,children:void 0,text:g.toString(),domNode:null}),l.push(g))}},f=function(d,l){for(var u=[],t=2;t<arguments.length;t++)u[t-2]=arguments[t];if(1===u.length&&"string"===typeof u[0])return{vnodeSelector:d,properties:l||void 0,children:void 0,text:u[0],domNode:null};t=[];c(u,t);return{vnodeSelector:d,properties:l||void 0,children:t,text:void 0,domNode:null}};
a.tsx=function(d,l,...u){return"function"!==typeof d||b.isWidgetConstructor(d)?f(d,l,...u):d(l,...u)};a.tsxFragment=function(...d){return d};Object.defineProperty(a,"__esModule",{value:!0})})},"*noref":1}});require.boot&&require.apply(null,require.boot);